<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Data.Configurator</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">configurator-0.3.0.0: Configuration management</span><ul class="links" id="page-menu"><li><a href="src/Data.Configurator.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2011 MailRank Inc.</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>Bryan O'Sullivan &lt;bos@serpentine.com&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Data.Configurator</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Configuration file format</a><ul><li><a href="#g:2">Binding a name to a value</a><ul><li><a href="#g:3">Value types</a></li><li><a href="#g:4">String interpolation</a></li></ul></li><li><a href="#g:5">Grouping directives</a></li><li><a href="#g:6">Importing files</a></li></ul></li><li><a href="#g:7">Types</a></li><li><a href="#g:8">Loading configuration data</a></li><li><a href="#g:9">Lookup functions</a></li><li><a href="#g:10">Notification of configuration changes</a></li><li><a href="#g:11">Low-level loading functions</a></li><li><a href="#g:12">Helper functions</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A simple (yet powerful) library for working with configuration
 files.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Worth">Worth</a> a<ul class="subs"><li>= <a href="#v:Required">Required</a> { <ul class="subs"><li><a href="#v:worth">worth</a> :: a</li></ul> }</li><li>| <a href="#v:Optional">Optional</a> { <ul class="subs"><li><a href="#v:worth">worth</a> :: a</li></ul> }</li></ul></li><li class="src short"><a href="#v:autoReload">autoReload</a> :: <a href="Data-Configurator-Types.html#t:AutoConfig" title="Data.Configurator.Types">AutoConfig</a> -&gt; [<a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> <a href="../base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>] -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a>, <a href="../base-4.16.4.0/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a>)</li><li class="src short"><a href="#v:autoReloadGroups">autoReloadGroups</a> :: <a href="Data-Configurator-Types.html#t:AutoConfig" title="Data.Configurator.Types">AutoConfig</a> -&gt; [(<a href="Data-Configurator-Types.html#t:Name" title="Data.Configurator.Types">Name</a>, <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> <a href="../base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>)] -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a>, <a href="../base-4.16.4.0/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a>)</li><li class="src short"><a href="#v:autoConfig">autoConfig</a> :: <a href="Data-Configurator-Types.html#t:AutoConfig" title="Data.Configurator.Types">AutoConfig</a></li><li class="src short"><a href="#v:empty">empty</a> :: <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></li><li class="src short"><a href="#v:lookup">lookup</a> :: <a href="Data-Configurator-Types.html#t:Configured" title="Data.Configurator.Types">Configured</a> a =&gt; <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> -&gt; <a href="Data-Configurator-Types.html#t:Name" title="Data.Configurator.Types">Name</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:lookupDefault">lookupDefault</a> :: <a href="Data-Configurator-Types.html#t:Configured" title="Data.Configurator.Types">Configured</a> a =&gt; a -&gt; <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> -&gt; <a href="Data-Configurator-Types.html#t:Name" title="Data.Configurator.Types">Name</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> a</li><li class="src short"><a href="#v:require">require</a> :: <a href="Data-Configurator-Types.html#t:Configured" title="Data.Configurator.Types">Configured</a> a =&gt; <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> -&gt; <a href="Data-Configurator-Types.html#t:Name" title="Data.Configurator.Types">Name</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> a</li><li class="src short"><a href="#v:prefix">prefix</a> :: <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="Data-Configurator-Types.html#t:Pattern" title="Data.Configurator.Types">Pattern</a></li><li class="src short"><a href="#v:exact">exact</a> :: <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="Data-Configurator-Types.html#t:Pattern" title="Data.Configurator.Types">Pattern</a></li><li class="src short"><a href="#v:subscribe">subscribe</a> :: <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> -&gt; <a href="Data-Configurator-Types.html#t:Pattern" title="Data.Configurator.Types">Pattern</a> -&gt; <a href="Data-Configurator-Types.html#t:ChangeHandler" title="Data.Configurator.Types">ChangeHandler</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:load">load</a> :: [<a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> <a href="../base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>] -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></li><li class="src short"><a href="#v:loadGroups">loadGroups</a> :: [(<a href="Data-Configurator-Types.html#t:Name" title="Data.Configurator.Types">Name</a>, <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> <a href="../base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>)] -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></li><li class="src short"><a href="#v:reload">reload</a> :: <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:subconfig">subconfig</a> :: <a href="Data-Configurator-Types.html#t:Name" title="Data.Configurator.Types">Name</a> -&gt; <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> -&gt; <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></li><li class="src short"><a href="#v:addToConfig">addToConfig</a> :: [<a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> <a href="../base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>] -&gt; <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:addGroupsToConfig">addGroupsToConfig</a> :: [(<a href="Data-Configurator-Types.html#t:Name" title="Data.Configurator.Types">Name</a>, <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> <a href="../base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>)] -&gt; <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:display">display</a> :: <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:getMap">getMap</a> :: <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../unordered-containers-0.2.19.1/Data-HashMap-Strict.html#t:HashMap" title="Data.HashMap.Strict">HashMap</a> <a href="Data-Configurator-Types.html#t:Name" title="Data.Configurator.Types">Name</a> <a href="Data-Configurator-Types.html#t:Value" title="Data.Configurator.Types">Value</a>)</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Configuration file format</h1></a><div class="doc"><p>A configuration file consists of a series of directives and
 comments, encoded in UTF-8.  A comment begins with a &quot;<code>#</code>&quot;
 character, and continues to the end of a line.</p><p>Files and directives are processed from first to last, top to
 bottom.</p></div><a href="#g:2" id="g:2"><h2>Binding a name to a value</h2></a><div class="doc"><p>A binding associates a name with a value.</p><pre>my_string = &quot;hi mom! \u2603&quot;
your-int-33 = 33
his_bool = on
HerList = [1, &quot;foo&quot;, off]</pre><p>A name must begin with a Unicode letter, which is followed by zero
 or more of a Unicode alphanumeric code point, hyphen &quot;<code>-</code>&quot;, or
 underscore &quot;<code>_</code>&quot;.</p><p>Bindings are created or overwritten in the order in which they are
 encountered.  It is legitimate for a name to be bound multiple
 times, in which case the last value wins.</p><pre>a = 1
a = true
# value of a is now true, not 1</pre></div><a href="#g:3" id="g:3"><h3>Value types</h3></a><div class="doc"><p>The configuration file format supports the following data types:</p><ul><li>Booleans, represented as <code>on</code> or <code>off</code>, <code>true</code> or <code>false</code>.  These
   are case sensitive, so do not try to use <code>True</code> instead of
   <code>true</code>!</li><li>Integers, represented in base 10.</li><li>Unicode strings, represented as text (possibly containing escape
   sequences) surrounded by double quotes.</li><li>Heterogeneous lists of values, represented as an opening square
   bracket &quot;<code>[</code>&quot;, followed by a series of comma-separated values,
   ending with a closing square bracket &quot;<code>]</code>&quot;.</li></ul><p>The following escape sequences are recognised in a text string:</p><ul><li><code>\n</code> - newline</li><li><code>\r</code> - carriage return</li><li><code>\t</code> - horizontal tab</li><li><code>\\</code> - backslash</li><li><code>\&quot;</code> - double quote</li><li><code>\u</code><em>xxxx</em> - Unicode character from the basic multilingual
   plane, encoded as four hexadecimal digits</li><li><code>\u</code><em>xxxx</em><code>\u</code><em>xxxx</em> - Unicode character from an astral plane,
   as two hexadecimal-encoded UTF-16 surrogates</li></ul></div><a href="#g:4" id="g:4"><h3>String interpolation</h3></a><div class="doc"><p>Strings support interpolation, so that you can dynamically
 construct a string based on data in your configuration or the OS
 environment.</p><p>If a string value contains the special sequence &quot;<code>$(foo)</code>&quot; (for
 any name <code>foo</code>), then the name <code>foo</code> will be looked up in the
 configuration data and its value substituted.  If that name cannot
 be found, it will be looked up in the OS environment.</p><p>For security reasons, it is an error for a string interpolation
 fragment to contain a name that cannot be found in either the
 current configuration or the environment.</p><p>To represent a single literal &quot;<code>$</code>&quot; character in a string, double
 it: &quot;<code>$$</code>&quot;.</p></div><a href="#g:5" id="g:5"><h2>Grouping directives</h2></a><div class="doc"><p>It is possible to group a number of directives together under a
 single prefix:</p><pre>my-group
{
  a = 1

  # groups support nesting
  nested {
    b = &quot;yay!&quot;
  }
}</pre><p>The name of a group is used as a prefix for the items in the
 group. For instance, the value of &quot;<code>a</code>&quot; above can be retrieved
 using <code><a href="Data-Configurator.html#v:lookup" title="Data.Configurator">lookup</a></code> by supplying the name &quot;<code>my-group.a</code>&quot;, and &quot;<code>b</code>&quot;
 will be named &quot;<code>my-group.nested.b</code>&quot;.</p></div><a href="#g:6" id="g:6"><h2>Importing files</h2></a><div class="doc"><p>To import the contents of another configuration file, use the
 <code>import</code> directive.</p><pre>import &quot;$(HOME)/etc/myapp.cfg&quot;</pre><p>Absolute paths are imported as is.  Relative paths are resolved with
 respect to the file they are imported from.  It is an error for an
 <code>import</code> directive to name a file that does not exist, cannot be read,
 or contains errors.</p><p>If an <code>import</code> appears inside a group, the group's naming prefix
 will be applied to all of the names imported from the given
 configuration file.</p><p>Supposing we have a file named &quot;<code>foo.cfg</code>&quot;:</p><pre>bar = 1</pre><p>And another file that imports it into a group:</p><pre>hi {
  import &quot;foo.cfg&quot;
}</pre><p>This will result in a value named &quot;<code>hi.bar</code>&quot;.</p></div><a href="#g:7" id="g:7"><h1>Types</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Worth" class="def">Worth</a> a <a href="src/Data.Configurator.Types.Internal.html#Worth" class="link">Source</a> <a href="#t:Worth" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Required" class="def">Required</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:worth" class="def">worth</a> :: a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr><tr><td class="src"><a id="v:Optional" class="def">Optional</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:worth" class="def">worth</a> :: a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Worth">Instances</h4><details id="i:Worth" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Worth:Functor:1"></span> <a href="../base-4.16.4.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a></span> <a href="src/Data.Configurator.Types.Internal.html#line-72" class="link">Source</a> <a href="#t:Worth" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Worth:Functor:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Configurator-Types-Internal.html">Data.Configurator.Types.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> a -&gt; <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> b -&gt; <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Worth:IsString:2"></span> <a href="../base-4.16.4.0/Data-String.html#t:IsString" title="Data.String">IsString</a> (<a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> <a href="../base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>)</span> <a href="src/Data.Configurator.Types.Internal.html#line-50" class="link">Source</a> <a href="#t:Worth" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Worth:IsString:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Configurator-Types-Internal.html">Data.Configurator.Types.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromString">fromString</a> :: <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> <a href="../base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="#v:fromString" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Worth:Show:3"></span> <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a =&gt; <a href="../base-4.16.4.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> a)</span> <a href="src/Data.Configurator.Types.Internal.html#line-48" class="link">Source</a> <a href="#t:Worth" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Worth:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Configurator-Types-Internal.html">Data.Configurator.Types.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> a -&gt; <a href="../base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> a -&gt; <a href="../base-4.16.4.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> a] -&gt; <a href="../base-4.16.4.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Worth:Eq:4"></span> <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a =&gt; <a href="../base-4.16.4.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> a)</span> <a href="src/Data.Configurator.Types.Internal.html#line-53" class="link">Source</a> <a href="#t:Worth" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Worth:Eq:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Configurator-Types-Internal.html">Data.Configurator.Types.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> a -&gt; <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> a -&gt; <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> a -&gt; <a href="../base-4.16.4.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Worth:Hashable:5"></span> <a href="../hashable-1.4.2.0/Data-Hashable.html#t:Hashable" title="Data.Hashable">Hashable</a> a =&gt; <a href="../hashable-1.4.2.0/Data-Hashable.html#t:Hashable" title="Data.Hashable">Hashable</a> (<a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> a)</span> <a href="src/Data.Configurator.Types.Internal.html#line-56" class="link">Source</a> <a href="#t:Worth" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Worth:Hashable:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-Configurator-Types-Internal.html">Data.Configurator.Types.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:hashWithSalt">hashWithSalt</a> :: <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> a -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="#v:hashWithSalt" class="selflink">#</a></p><p class="src"><a href="#v:hash">hash</a> :: <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> a -&gt; <a href="../base-4.16.4.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="#v:hash" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:8" id="g:8"><h1>Loading configuration data</h1></a><div class="top"><p class="src"><a id="v:autoReload" class="def">autoReload</a> <a href="src/Data.Configurator.html#autoReload" class="link">Source</a> <a href="#v:autoReload" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Data-Configurator-Types.html#t:AutoConfig" title="Data.Configurator.Types">AutoConfig</a></td><td class="doc"><p>Directions for when to reload and how to handle
 errors.</p></td></tr><tr><td class="src">-&gt; [<a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> <a href="../base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>]</td><td class="doc"><p>Configuration files to load.</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a>, <a href="../base-4.16.4.0/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Load a <code><a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></code> from the given <code><a href="../base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></code>s, and start a reload
 thread.</p><p>At intervals, a thread checks for modifications to both the
 original files and any files they refer to in <code>import</code> directives,
 and reloads the <code><a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></code> if any files have been modified.</p><p>If the initial attempt to load the configuration files fails, an
 exception is thrown.  If the initial load succeeds, but a
 subsequent attempt fails, the <code><a href="Data-Configurator-Types.html#v:onError" title="Data.Configurator.Types">onError</a></code> handler is invoked.</p><p>File names have any environment variables expanded prior to the
 first time they are opened, so you can specify a file name such as
 <code>&quot;$(HOME)/myapp.cfg&quot;</code>.</p></div></div><div class="top"><p class="src"><a id="v:autoReloadGroups" class="def">autoReloadGroups</a> :: <a href="Data-Configurator-Types.html#t:AutoConfig" title="Data.Configurator.Types">AutoConfig</a> -&gt; [(<a href="Data-Configurator-Types.html#t:Name" title="Data.Configurator.Types">Name</a>, <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> <a href="../base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>)] -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a>, <a href="../base-4.16.4.0/Control-Concurrent.html#t:ThreadId" title="Control.Concurrent">ThreadId</a>) <a href="src/Data.Configurator.html#autoReloadGroups" class="link">Source</a> <a href="#v:autoReloadGroups" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:autoConfig" class="def">autoConfig</a> :: <a href="Data-Configurator-Types.html#t:AutoConfig" title="Data.Configurator.Types">AutoConfig</a> <a href="src/Data.Configurator.html#autoConfig" class="link">Source</a> <a href="#v:autoConfig" class="selflink">#</a></p><div class="doc"><p>Defaults for automatic <code><a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></code> reloading when using
 <code><a href="Data-Configurator.html#v:autoReload" title="Data.Configurator">autoReload</a></code>.  The <code><a href="Data-Configurator-Types.html#v:interval" title="Data.Configurator.Types">interval</a></code> is one second, while the <code><a href="Data-Configurator-Types.html#v:onError" title="Data.Configurator.Types">onError</a></code>
 action ignores its argument and does nothing.</p></div></div><div class="top"><p class="src"><a id="v:empty" class="def">empty</a> :: <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> <a href="src/Data.Configurator.html#empty" class="link">Source</a> <a href="#v:empty" class="selflink">#</a></p><div class="doc"><p>A completely empty configuration.</p></div></div><a href="#g:9" id="g:9"><h1>Lookup functions</h1></a><div class="top"><p class="src"><a id="v:lookup" class="def">lookup</a> :: <a href="Data-Configurator-Types.html#t:Configured" title="Data.Configurator.Types">Configured</a> a =&gt; <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> -&gt; <a href="Data-Configurator-Types.html#t:Name" title="Data.Configurator.Types">Name</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../base-4.16.4.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) <a href="src/Data.Configurator.html#lookup" class="link">Source</a> <a href="#v:lookup" class="selflink">#</a></p><div class="doc"><p>Look up a name in the given <code><a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></code>.  If a binding exists, and
 the value can be <code><a href="Data-Configurator-Types.html#v:convert" title="Data.Configurator.Types">convert</a></code>ed to the desired type, return the
 converted value, otherwise <code><a href="../base-4.16.4.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:lookupDefault" class="def">lookupDefault</a> <a href="src/Data.Configurator.html#lookupDefault" class="link">Source</a> <a href="#v:lookupDefault" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Data-Configurator-Types.html#t:Configured" title="Data.Configurator.Types">Configured</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>Default value to return if <code><a href="Data-Configurator.html#v:lookup" title="Data.Configurator">lookup</a></code> or <code><a href="Data-Configurator-Types.html#v:convert" title="Data.Configurator.Types">convert</a></code>
 fails.</p></td></tr><tr><td class="src">-&gt; <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Data-Configurator-Types.html#t:Name" title="Data.Configurator.Types">Name</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Look up a name in the given <code><a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></code>.  If a binding exists, and
 the value can be converted to the desired type, return it,
 otherwise return the default value.</p></div></div><div class="top"><p class="src"><a id="v:require" class="def">require</a> :: <a href="Data-Configurator-Types.html#t:Configured" title="Data.Configurator.Types">Configured</a> a =&gt; <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> -&gt; <a href="Data-Configurator-Types.html#t:Name" title="Data.Configurator.Types">Name</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> a <a href="src/Data.Configurator.html#require" class="link">Source</a> <a href="#v:require" class="selflink">#</a></p><div class="doc"><p>Look up a name in the given <code><a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></code>.  If a binding exists, and
 the value can be <code><a href="Data-Configurator-Types.html#v:convert" title="Data.Configurator.Types">convert</a></code>ed to the desired type, return the
 converted value, otherwise throw a <code><a href="Data-Configurator-Types.html#t:KeyError" title="Data.Configurator.Types">KeyError</a></code>.</p></div></div><a href="#g:10" id="g:10"><h1>Notification of configuration changes</h1></a><div class="doc"><p>To more efficiently support an application's need to dynamically
 reconfigure, a subsystem may ask to be notified when a
 configuration property is changed as a result of a reload, using
 the <code><a href="Data-Configurator.html#v:subscribe" title="Data.Configurator">subscribe</a></code> action.</p></div><div class="top"><p class="src"><a id="v:prefix" class="def">prefix</a> :: <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="Data-Configurator-Types.html#t:Pattern" title="Data.Configurator.Types">Pattern</a> <a href="src/Data.Configurator.Types.Internal.html#prefix" class="link">Source</a> <a href="#v:prefix" class="selflink">#</a></p><div class="doc"><p>A pattern that matches on a prefix of a property name.  Given
 <code>&quot;foo&quot;</code>, this will match <code>&quot;foo.bar&quot;</code>, but not <code>&quot;foo&quot;</code> or
 <code>&quot;foobar&quot;</code>.</p></div></div><div class="top"><p class="src"><a id="v:exact" class="def">exact</a> :: <a href="../text-1.2.5.0/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="Data-Configurator-Types.html#t:Pattern" title="Data.Configurator.Types">Pattern</a> <a href="src/Data.Configurator.Types.Internal.html#exact" class="link">Source</a> <a href="#v:exact" class="selflink">#</a></p><div class="doc"><p>A pattern that must match exactly.</p></div></div><div class="top"><p class="src"><a id="v:subscribe" class="def">subscribe</a> :: <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> -&gt; <a href="Data-Configurator-Types.html#t:Pattern" title="Data.Configurator.Types">Pattern</a> -&gt; <a href="Data-Configurator-Types.html#t:ChangeHandler" title="Data.Configurator.Types">ChangeHandler</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Data.Configurator.html#subscribe" class="link">Source</a> <a href="#v:subscribe" class="selflink">#</a></p><div class="doc"><p>Subscribe for notifications.  The given action will be invoked
 when any change occurs to a configuration property matching the
 supplied pattern.</p></div></div><a href="#g:11" id="g:11"><h1>Low-level loading functions</h1></a><div class="top"><p class="src"><a id="v:load" class="def">load</a> :: [<a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> <a href="../base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>] -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> <a href="src/Data.Configurator.html#load" class="link">Source</a> <a href="#v:load" class="selflink">#</a></p><div class="doc"><p>Create a <code><a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></code> from the contents of the named files. Throws an
 exception on error, such as if files do not exist or contain errors.</p><p>File names have any environment variables expanded prior to the
 first time they are opened, so you can specify a file name such as
 <code>&quot;$(HOME)/myapp.cfg&quot;</code>.</p></div></div><div class="top"><p class="src"><a id="v:loadGroups" class="def">loadGroups</a> :: [(<a href="Data-Configurator-Types.html#t:Name" title="Data.Configurator.Types">Name</a>, <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> <a href="../base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>)] -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> <a href="src/Data.Configurator.html#loadGroups" class="link">Source</a> <a href="#v:loadGroups" class="selflink">#</a></p><div class="doc"><p>Create a <code><a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></code> from the contents of the named files, placing them
 into named prefixes.  If a prefix is non-empty, it should end in a
 dot.</p></div></div><div class="top"><p class="src"><a id="v:reload" class="def">reload</a> :: <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Data.Configurator.html#reload" class="link">Source</a> <a href="#v:reload" class="selflink">#</a></p><div class="doc"><p>Forcibly reload a <code><a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></code>. Throws an exception on error, such as
 if files no longer exist or contain errors.  If the provided <code><a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></code> is
 a <code><a href="Data-Configurator.html#v:subconfig" title="Data.Configurator">subconfig</a></code>, this will reload the entire top-level configuration, not just
 the local section.</p></div></div><div class="top"><p class="src"><a id="v:subconfig" class="def">subconfig</a> :: <a href="Data-Configurator-Types.html#t:Name" title="Data.Configurator.Types">Name</a> -&gt; <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> -&gt; <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> <a href="src/Data.Configurator.html#subconfig" class="link">Source</a> <a href="#v:subconfig" class="selflink">#</a></p><div class="doc"><p>Gives a <code><a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></code> corresponding to just a single group of the original
 <code><a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></code>.  The subconfig can be used just like the original <code><a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></code>, but
 see the documentation for <code><a href="Data-Configurator.html#v:reload" title="Data.Configurator">reload</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:addToConfig" class="def">addToConfig</a> :: [<a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> <a href="../base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>] -&gt; <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Data.Configurator.html#addToConfig" class="link">Source</a> <a href="#v:addToConfig" class="selflink">#</a></p><div class="doc"><p>Add additional files to a <code><a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></code>, causing it to be reloaded to add
 their contents.</p></div></div><div class="top"><p class="src"><a id="v:addGroupsToConfig" class="def">addGroupsToConfig</a> :: [(<a href="Data-Configurator-Types.html#t:Name" title="Data.Configurator.Types">Name</a>, <a href="Data-Configurator.html#t:Worth" title="Data.Configurator">Worth</a> <a href="../base-4.16.4.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>)] -&gt; <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Data.Configurator.html#addGroupsToConfig" class="link">Source</a> <a href="#v:addGroupsToConfig" class="selflink">#</a></p><div class="doc"><p>Add additional files to named groups in a <code><a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></code>, causing it to be
 reloaded to add their contents.  If the prefixes are non-empty, they should
 end in dots.</p></div></div><a href="#g:12" id="g:12"><h1>Helper functions</h1></a><div class="top"><p class="src"><a id="v:display" class="def">display</a> :: <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Data.Configurator.html#display" class="link">Source</a> <a href="#v:display" class="selflink">#</a></p><div class="doc"><p>Perform a simple dump of a <code><a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a></code> to <code>stdout</code>.</p></div></div><div class="top"><p class="src"><a id="v:getMap" class="def">getMap</a> :: <a href="Data-Configurator-Types.html#t:Config" title="Data.Configurator.Types">Config</a> -&gt; <a href="../base-4.16.4.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="../unordered-containers-0.2.19.1/Data-HashMap-Strict.html#t:HashMap" title="Data.HashMap.Strict">HashMap</a> <a href="Data-Configurator-Types.html#t:Name" title="Data.Configurator.Types">Name</a> <a href="Data-Configurator-Types.html#t:Value" title="Data.Configurator.Types">Value</a>) <a href="src/Data.Configurator.html#getMap" class="link">Source</a> <a href="#v:getMap" class="selflink">#</a></p><div class="doc"><p>Fetch the <code><a href="../unordered-containers-0.2.19.1/Data-HashMap-Strict.html#t:HashMap" title="Data.HashMap.Strict">HashMap</a></code> that maps names to values.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>