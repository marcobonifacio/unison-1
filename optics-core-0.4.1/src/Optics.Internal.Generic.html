<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# OPTIONS_HADDOCK not-home #-}</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-comment">-- This module is intended for internal use only, and may change without warning</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- in subsequent releases.</span><span>
</span><span id="line-8"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Optics.Internal.Generic</span><span>
</span><span id="line-9"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#generic"><span class="hs-identifier">generic</span></a></span><span>
</span><span id="line-10"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#generic1"><span class="hs-identifier">generic1</span></a></span><span>
</span><span id="line-11"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#_V1"><span class="hs-identifier">_V1</span></a></span><span>
</span><span id="line-12"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#_U1"><span class="hs-identifier">_U1</span></a></span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#_Par1"><span class="hs-identifier">_Par1</span></a></span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#_Rec1"><span class="hs-identifier">_Rec1</span></a></span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#_K1"><span class="hs-identifier">_K1</span></a></span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#_M1"><span class="hs-identifier">_M1</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#_L1"><span class="hs-identifier">_L1</span></a></span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#_R1"><span class="hs-identifier">_R1</span></a></span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Fields</span></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldImpl"><span class="hs-identifier">GFieldImpl</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldSum"><span class="hs-identifier">GSetFieldSum</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier">GSetFieldProd</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldImpl"><span class="hs-identifier">GAffineFieldImpl</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldSum"><span class="hs-identifier">GAffineFieldSum</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier">GFieldProd</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Positions</span></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionImpl"><span class="hs-identifier">GPositionImpl</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionSum"><span class="hs-identifier">GPositionSum</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Constructors</span></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorImpl"><span class="hs-identifier">GConstructorImpl</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier">GConstructorSum</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier">GConstructorTuple</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Types</span></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier">GPlateImpl</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateInner"><span class="hs-identifier">GPlateInner</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Re-export</span></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html"><span class="hs-identifier">Optics.Internal.Generic.TypeLevel</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Type.Bool</span></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Records</span></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.TypeLits</span></span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Optics.AffineTraversal.html"><span class="hs-identifier">Optics.AffineTraversal</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html"><span class="hs-identifier">Optics.Internal.Generic.TypeLevel</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Optics.Internal.Magic.html"><span class="hs-identifier">Optics.Internal.Magic</span></a></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.html"><span class="hs-identifier">Optics.Internal.Optic</span></a></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Optics.Iso.html"><span class="hs-identifier">Optics.Iso</span></a></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Optics.Lens.html"><span class="hs-identifier">Optics.Lens</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Optics.Prism.html"><span class="hs-identifier">Optics.Prism</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Optics.Traversal.html"><span class="hs-identifier">Optics.Traversal</span></a></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-55"></span><span class="hs-comment">-- GHC.Generics</span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span class="hs-comment">-- | Convert from the data type to its representation (or back)</span><span>
</span><span id="line-58"></span><span class="hs-comment">--</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- &gt;&gt;&gt; view (generic % re generic) &quot;hello&quot; :: String</span><span>
</span><span id="line-60"></span><span class="hs-comment">-- &quot;hello&quot;</span><span>
</span><span id="line-61"></span><span class="hs-comment">--</span><span>
</span><span id="line-62"></span><span id="local-6989586621679125219"><span id="local-6989586621679125220"><span id="local-6989586621679125221"><span id="local-6989586621679125222"><span class="annot"><a href="Optics.Internal.Generic.html#generic"><span class="hs-identifier hs-type">generic</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679125222"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679125221"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Iso.html#Iso"><span class="hs-identifier hs-type">Iso</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125222"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125221"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679125222"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125220"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679125221"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125219"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-63"></span><span id="generic"><span class="annot"><span class="annottext">generic :: forall a b x y.
(Generic a, Generic b) =&gt;
Iso a b (Rep a x) (Rep b y)
</span><a href="Optics.Internal.Generic.html#generic"><span class="hs-identifier hs-var hs-var">generic</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a b t. (s -&gt; a) -&gt; (b -&gt; t) -&gt; Iso s t a b
</span><a href="Optics.Iso.html#iso"><span class="hs-identifier hs-var">iso</span></a></span><span> </span><span class="annot"><span class="annottext">forall a x. Generic a =&gt; a -&gt; Rep a x
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">forall a x. Generic a =&gt; Rep a x -&gt; a
</span><span class="hs-identifier hs-var">to</span></span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-comment">-- | Convert from the data type to its representation (or back)</span><span>
</span><span id="line-66"></span><span id="local-6989586621679125205"><span id="local-6989586621679125206"><span id="local-6989586621679125207"><span id="local-6989586621679125208"><span class="annot"><a href="Optics.Internal.Generic.html#generic1"><span class="hs-identifier hs-type">generic1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic1</span></span><span> </span><span class="annot"><a href="#local-6989586621679125208"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic1</span></span><span> </span><span class="annot"><a href="#local-6989586621679125207"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Iso.html#Iso"><span class="hs-identifier hs-type">Iso</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679125208"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125206"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679125207"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125205"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep1</span></span><span> </span><span class="annot"><a href="#local-6989586621679125208"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125206"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep1</span></span><span> </span><span class="annot"><a href="#local-6989586621679125207"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125205"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-67"></span><span id="generic1"><span class="annot"><span class="annottext">generic1 :: forall (f :: * -&gt; *) (g :: * -&gt; *) x y.
(Generic1 f, Generic1 g) =&gt;
Iso (f x) (g y) (Rep1 f x) (Rep1 g y)
</span><a href="Optics.Internal.Generic.html#generic1"><span class="hs-identifier hs-var hs-var">generic1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a b t. (s -&gt; a) -&gt; (b -&gt; t) -&gt; Iso s t a b
</span><a href="Optics.Iso.html#iso"><span class="hs-identifier hs-var">iso</span></a></span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (a :: k). Generic1 f =&gt; f a -&gt; Rep1 f a
</span><span class="hs-identifier hs-var">from1</span></span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (a :: k). Generic1 f =&gt; Rep1 f a -&gt; f a
</span><span class="hs-identifier hs-var">to1</span></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span id="local-6989586621679125195"><span id="local-6989586621679125196"><span id="local-6989586621679125197"><span id="local-6989586621679125198"><span class="annot"><a href="Optics.Internal.Generic.html#_V1"><span class="hs-identifier hs-type">_V1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Lens.html#Lens"><span class="hs-identifier hs-type">Lens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V1</span></span><span> </span><span class="annot"><a href="#local-6989586621679125198"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V1</span></span><span> </span><span class="annot"><a href="#local-6989586621679125197"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679125196"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125195"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span><span>
</span><span id="line-70"></span><span id="_V1"><span class="annot"><span class="annottext">_V1 :: forall s t a b. Lens (V1 s) (V1 t) a b
</span><a href="Optics.Internal.Generic.html#_V1"><span class="hs-identifier hs-var hs-var">_V1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s t a b. LensVL s t a b -&gt; Lens s t a b
</span><a href="Optics.Lens.html#lensVL"><span class="hs-identifier hs-var">lensVL</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">a -&gt; f b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span id="local-6989586621679125182"><span id="local-6989586621679125183"><span class="annot"><a href="Optics.Internal.Generic.html#_U1"><span class="hs-identifier hs-type">_U1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Iso.html#Iso"><span class="hs-identifier hs-type">Iso</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="annot"><a href="#local-6989586621679125183"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="annot"><a href="#local-6989586621679125182"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-73"></span><span id="_U1"><span class="annot"><span class="annottext">_U1 :: forall p q. Iso (U1 p) (U1 q) () ()
</span><a href="Optics.Internal.Generic.html#_U1"><span class="hs-identifier hs-var hs-var">_U1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a b t. (s -&gt; a) -&gt; (b -&gt; t) -&gt; Iso s t a b
</span><a href="Optics.Iso.html#iso"><span class="hs-identifier hs-var">iso</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">forall k (p :: k). U1 p
</span><span class="hs-identifier hs-var">U1</span></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span id="local-6989586621679125176"><span id="local-6989586621679125177"><span class="annot"><a href="Optics.Internal.Generic.html#_Par1"><span class="hs-identifier hs-type">_Par1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Iso.html#Iso"><span class="hs-identifier hs-type">Iso</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Par1</span></span><span> </span><span class="annot"><a href="#local-6989586621679125177"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Par1</span></span><span> </span><span class="annot"><a href="#local-6989586621679125176"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679125177"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125176"><span class="hs-identifier hs-type">q</span></a></span></span></span><span>
</span><span id="line-76"></span><span id="_Par1"><span class="annot"><span class="annottext">_Par1 :: forall p q. Iso (Par1 p) (Par1 q) p q
</span><a href="Optics.Internal.Generic.html#_Par1"><span class="hs-identifier hs-var hs-var">_Par1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a t b. (Coercible s a, Coercible t b) =&gt; Iso s t a b
</span><a href="Optics.Iso.html#coerced"><span class="hs-identifier hs-var">coerced</span></a></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span id="local-6989586621679125166"><span id="local-6989586621679125167"><span id="local-6989586621679125168"><span id="local-6989586621679125169"><span class="annot"><a href="Optics.Internal.Generic.html#_Rec1"><span class="hs-identifier hs-type">_Rec1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Iso.html#Iso"><span class="hs-identifier hs-type">Iso</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec1</span></span><span> </span><span class="annot"><a href="#local-6989586621679125169"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125168"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec1</span></span><span> </span><span class="annot"><a href="#local-6989586621679125167"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125166"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679125169"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125168"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679125167"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125166"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-79"></span><span id="_Rec1"><span class="annot"><span class="annottext">_Rec1 :: forall (f :: * -&gt; *) p (g :: * -&gt; *) q.
Iso (Rec1 f p) (Rec1 g q) (f p) (g q)
</span><a href="Optics.Internal.Generic.html#_Rec1"><span class="hs-identifier hs-var hs-var">_Rec1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a t b. (Coercible s a, Coercible t b) =&gt; Iso s t a b
</span><a href="Optics.Iso.html#coerced"><span class="hs-identifier hs-var">coerced</span></a></span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span id="local-6989586621679125156"><span id="local-6989586621679125157"><span id="local-6989586621679125158"><span id="local-6989586621679125159"><span id="local-6989586621679125160"><span id="local-6989586621679125161"><span class="annot"><a href="Optics.Internal.Generic.html#_K1"><span class="hs-identifier hs-type">_K1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Iso.html#Iso"><span class="hs-identifier hs-type">Iso</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679125161"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125160"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125159"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679125158"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125157"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125156"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679125160"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125157"><span class="hs-identifier hs-type">d</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-82"></span><span id="_K1"><span class="annot"><span class="annottext">_K1 :: forall i c p j d q. Iso (K1 i c p) (K1 j d q) c d
</span><a href="Optics.Internal.Generic.html#_K1"><span class="hs-identifier hs-var hs-var">_K1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a t b. (Coercible s a, Coercible t b) =&gt; Iso s t a b
</span><a href="Optics.Iso.html#coerced"><span class="hs-identifier hs-var">coerced</span></a></span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span id="local-6989586621679125141"><span id="local-6989586621679125142"><span id="local-6989586621679125143"><span id="local-6989586621679125144"><span id="local-6989586621679125145"><span id="local-6989586621679125146"><span id="local-6989586621679125147"><span id="local-6989586621679125148"><span class="annot"><a href="Optics.Internal.Generic.html#_M1"><span class="hs-identifier hs-type">_M1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Iso.html#Iso"><span class="hs-identifier hs-type">Iso</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679125148"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125147"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125146"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125145"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679125144"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125143"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125142"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125141"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679125146"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125145"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679125142"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125141"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-85"></span><span id="_M1"><span class="annot"><span class="annottext">_M1 :: forall i (c :: Meta) (f :: * -&gt; *) p j (d :: Meta) (g :: * -&gt; *) q.
Iso (M1 i c f p) (M1 j d g q) (f p) (g q)
</span><a href="Optics.Internal.Generic.html#_M1"><span class="hs-identifier hs-var hs-var">_M1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a t b. (Coercible s a, Coercible t b) =&gt; Iso s t a b
</span><a href="Optics.Iso.html#coerced"><span class="hs-identifier hs-var">coerced</span></a></span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span id="local-6989586621679125129"><span id="local-6989586621679125130"><span id="local-6989586621679125131"><span id="local-6989586621679125132"><span class="annot"><a href="Optics.Internal.Generic.html#_L1"><span class="hs-identifier hs-type">_L1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Prism.html#Prism"><span class="hs-identifier hs-type">Prism</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679125132"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679125131"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679125130"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679125129"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679125131"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679125130"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679125132"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125130"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679125129"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125130"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-88"></span><span id="_L1"><span class="annot"><span class="annottext">_L1 :: forall (a :: * -&gt; *) (c :: * -&gt; *) t (b :: * -&gt; *).
Prism ((:+:) a c t) ((:+:) b c t) (a t) (b t)
</span><a href="Optics.Internal.Generic.html#_L1"><span class="hs-identifier hs-var hs-var">_L1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall b t s a. (b -&gt; t) -&gt; (s -&gt; Either t a) -&gt; Prism s t a b
</span><a href="Optics.Prism.html#prism"><span class="hs-identifier hs-var">prism</span></a></span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="annot"><span class="annottext">forall {f :: * -&gt; *} {g :: * -&gt; *} {p} {f :: * -&gt; *}.
(:+:) f g p -&gt; Either ((:+:) f g p) (f p)
</span><a href="#local-6989586621679124228"><span class="hs-identifier hs-var">reviewer</span></a></span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-90"></span><span>    </span><span id="local-6989586621679124228"><span class="annot"><span class="annottext">reviewer :: (:+:) f g p -&gt; Either ((:+:) f g p) (f p)
</span><a href="#local-6989586621679124228"><span class="hs-identifier hs-var hs-var">reviewer</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679124227"><span class="annot"><span class="annottext">f p
</span><a href="#local-6989586621679124227"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">f p
</span><a href="#local-6989586621679124227"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-91"></span><span>    </span><span class="annot"><a href="#local-6989586621679124228"><span class="hs-identifier hs-var">reviewer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679124225"><span class="annot"><span class="annottext">g p
</span><a href="#local-6989586621679124225"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="annot"><span class="annottext">g p
</span><a href="#local-6989586621679124225"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span id="local-6989586621679125110"><span id="local-6989586621679125111"><span id="local-6989586621679125112"><span id="local-6989586621679125113"><span class="annot"><a href="Optics.Internal.Generic.html#_R1"><span class="hs-identifier hs-type">_R1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Prism.html#Prism"><span class="hs-identifier hs-type">Prism</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679125113"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679125112"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679125111"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679125113"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679125110"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679125111"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679125112"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125111"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679125110"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125111"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-94"></span><span id="_R1"><span class="annot"><span class="annottext">_R1 :: forall (c :: * -&gt; *) (a :: * -&gt; *) t (b :: * -&gt; *).
Prism ((:+:) c a t) ((:+:) c b t) (a t) (b t)
</span><a href="Optics.Internal.Generic.html#_R1"><span class="hs-identifier hs-var hs-var">_R1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall b t s a. (b -&gt; t) -&gt; (s -&gt; Either t a) -&gt; Prism s t a b
</span><a href="Optics.Prism.html#prism"><span class="hs-identifier hs-var">prism</span></a></span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="annot"><span class="annottext">forall {f :: * -&gt; *} {g :: * -&gt; *} {p} {g :: * -&gt; *}.
(:+:) f g p -&gt; Either ((:+:) f g p) (g p)
</span><a href="#local-6989586621679124224"><span class="hs-identifier hs-var">reviewer</span></a></span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-96"></span><span>    </span><span id="local-6989586621679124224"><span class="annot"><span class="annottext">reviewer :: (:+:) f g p -&gt; Either ((:+:) f g p) (g p)
</span><a href="#local-6989586621679124224"><span class="hs-identifier hs-var hs-var">reviewer</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679124223"><span class="annot"><span class="annottext">g p
</span><a href="#local-6989586621679124223"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">g p
</span><a href="#local-6989586621679124223"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-97"></span><span>    </span><span class="annot"><a href="#local-6989586621679124224"><span class="hs-identifier hs-var">reviewer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679124222"><span class="annot"><span class="annottext">f p
</span><a href="#local-6989586621679124222"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="annot"><span class="annottext">f p
</span><a href="#local-6989586621679124222"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-100"></span><span class="hs-comment">-- Field</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="hs-keyword">class</span><span> </span><span id="GFieldImpl"><span class="annot"><a href="Optics.Internal.Generic.html#GFieldImpl"><span class="hs-identifier hs-var">GFieldImpl</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679125092"><span class="annot"><a href="#local-6989586621679125092"><span class="hs-identifier hs-type">name</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679125096"><span class="annot"><a href="#local-6989586621679125096"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679125095"><span class="annot"><a href="#local-6989586621679125095"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679125094"><span class="annot"><a href="#local-6989586621679125094"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679125093"><span class="annot"><a href="#local-6989586621679125093"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679125092"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125096"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679125094"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-103"></span><span>                                       </span><span class="hs-comment">{- These hold morally, but we can't prove it.
                                          , name t -&gt; b
                                          , name s b -&gt; t
                                          , name t a -&gt; s -}</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-107"></span><span>  </span><span id="gfieldImpl"><span class="annot"><a href="Optics.Internal.Generic.html#gfieldImpl"><span class="hs-identifier hs-type">gfieldImpl</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Lens.html#Lens"><span class="hs-identifier hs-type">Lens</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125096"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125095"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125094"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125093"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-110"></span><span>  </span><span id="local-6989586621679125085"><span id="local-6989586621679125086"><span id="local-6989586621679125087"><span id="local-6989586621679125088"><span id="local-6989586621679125089"><span id="local-6989586621679125090"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679125090"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679125089"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679125088"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#GetFieldPaths"><span class="hs-identifier hs-type">GetFieldPaths</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125090"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125087"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679125090"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasField</span></span><span> </span><span class="annot"><a href="#local-6989586621679125087"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125090"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125086"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldSum"><span class="hs-identifier hs-type">GSetFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125088"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679125090"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679125089"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679125085"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldImpl"><span class="hs-identifier hs-type">GFieldImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125087"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125090"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125089"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125086"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125085"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-116"></span><span>  </span><span id="local-6989586621679124208"><span class="annot"><span class="annottext">gfieldImpl :: Lens s t a b
</span><a href="#local-6989586621679124208"><span class="hs-identifier hs-var hs-var hs-var hs-var">gfieldImpl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a b t. (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; Lens s t a b
</span><a href="Optics.Lens.html#lens"><span class="hs-identifier hs-var">lens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {k} (x :: k) r a. HasField x r a =&gt; r -&gt; a
</span><span class="hs-identifier hs-var">getField</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679125087"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679124206"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679124206"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a x. Generic a =&gt; Rep a x -&gt; a
</span><span class="hs-identifier hs-var">to</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree Symbol) (g :: * -&gt; *) (h :: * -&gt; *) b x.
GSetFieldSum path g h b =&gt;
g x -&gt; b -&gt; h x
</span><a href="Optics.Internal.Generic.html#gsetFieldSum"><span class="hs-identifier hs-var">gsetFieldSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679125088"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a x. Generic a =&gt; a -&gt; Rep a x
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679124206"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gfieldImpl"><span class="hs-pragma hs-type">gfieldImpl</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-keyword">class</span><span> </span><span id="GSetFieldSum"><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldSum"><span class="hs-identifier hs-var">GSetFieldSum</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679125073"><span class="annot"><a href="#local-6989586621679125073"><span class="hs-identifier hs-type">path</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathTree"><span class="hs-identifier hs-type">PathTree</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679125072"><span class="annot"><a href="#local-6989586621679125072"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679125071"><span class="annot"><a href="#local-6989586621679125071"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679125070"><span class="annot"><a href="#local-6989586621679125070"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679125073"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125071"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679125070"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-122"></span><span>                                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679125073"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125072"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125070"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679125071"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-123"></span><span>  </span><span id="gsetFieldSum"><span class="annot"><a href="Optics.Internal.Generic.html#gsetFieldSum"><span class="hs-identifier hs-type">gsetFieldSum</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679125069"><span class="annot"><a href="#local-6989586621679125072"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125069"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679125070"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679125071"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125069"><span class="hs-identifier hs-type">x</span></a></span></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-126"></span><span>  </span><span id="local-6989586621679125059"><span id="local-6989586621679125060"><span id="local-6989586621679125061"><span id="local-6989586621679125062"><span id="local-6989586621679125063"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldSum"><span class="hs-identifier hs-type">GSetFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125063"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125062"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125061"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125060"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldSum"><span class="hs-identifier hs-type">GSetFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125063"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">D</span></span><span> </span><span class="annot"><a href="#local-6989586621679125059"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125062"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">D</span></span><span> </span><span class="annot"><a href="#local-6989586621679125059"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125061"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679125060"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-128"></span><span>  </span><span id="local-6989586621679124198"><span class="annot"><span class="annottext">gsetFieldSum :: forall x. M1 D m g x -&gt; b -&gt; M1 D m h x
</span><a href="#local-6989586621679124198"><span class="hs-identifier hs-var hs-var hs-var hs-var">gsetFieldSum</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679124196"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679124196"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree Symbol) (g :: * -&gt; *) (h :: * -&gt; *) b x.
GSetFieldSum path g h b =&gt;
g x -&gt; b -&gt; h x
</span><a href="Optics.Internal.Generic.html#gsetFieldSum"><span class="hs-identifier hs-var">gsetFieldSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679125063"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679124196"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-131"></span><span>  </span><span id="local-6989586621679125039"><span id="local-6989586621679125040"><span id="local-6989586621679125041"><span id="local-6989586621679125042"><span id="local-6989586621679125043"><span id="local-6989586621679125044"><span id="local-6989586621679125045"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldSum"><span class="hs-identifier hs-type">GSetFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125045"><span class="hs-identifier hs-type">path1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125044"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125043"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125042"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldSum"><span class="hs-identifier hs-type">GSetFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125041"><span class="hs-identifier hs-type">path2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125040"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125039"><span class="hs-identifier hs-type">h2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125042"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-133"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldSum"><span class="hs-identifier hs-type">GSetFieldSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathTree"><span class="hs-identifier hs-type">PathTree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125045"><span class="hs-identifier hs-type">path1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125041"><span class="hs-identifier hs-type">path2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679125044"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679125040"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679125043"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679125039"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679125042"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-134"></span><span>  </span><span id="local-6989586621679124189"><span class="annot"><span class="annottext">gsetFieldSum :: forall x. (:+:) g1 g2 x -&gt; b -&gt; (:+:) h1 h2 x
</span><a href="#local-6989586621679124189"><span class="hs-identifier hs-var hs-var hs-var hs-var">gsetFieldSum</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679124188"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679124188"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree Symbol) (g :: * -&gt; *) (h :: * -&gt; *) b x.
GSetFieldSum path g h b =&gt;
g x -&gt; b -&gt; h x
</span><a href="Optics.Internal.Generic.html#gsetFieldSum"><span class="hs-identifier hs-var">gsetFieldSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679125045"><span class="hs-identifier hs-type">path1</span></a></span><span> </span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679124188"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-135"></span><span>  </span><span class="annot"><a href="Optics.Internal.Generic.html#gsetFieldSum"><span class="hs-identifier hs-var">gsetFieldSum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679124187"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679124187"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree Symbol) (g :: * -&gt; *) (h :: * -&gt; *) b x.
GSetFieldSum path g h b =&gt;
g x -&gt; b -&gt; h x
</span><a href="Optics.Internal.Generic.html#gsetFieldSum"><span class="hs-identifier hs-var">gsetFieldSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679125041"><span class="hs-identifier hs-type">path2</span></a></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679124187"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gsetFieldSum"><span class="hs-pragma hs-type">gsetFieldSum</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-139"></span><span>  </span><span id="local-6989586621679125013"><span id="local-6989586621679125014"><span id="local-6989586621679125016"><span id="local-6989586621679125017"><span id="local-6989586621679125018"><span id="local-6989586621679125019"><span id="local-6989586621679125020"><span id="local-6989586621679125021"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679125021"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldPath"><span class="hs-identifier hs-type">GSetFieldPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125020"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125019"><span class="hs-identifier hs-type">epath</span></a></span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#When"><span class="hs-identifier hs-type">When</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#IsLeft"><span class="hs-identifier hs-type">IsLeft</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125019"><span class="hs-identifier hs-type">epath</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#HideReps"><span class="hs-identifier hs-type">HideReps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125018"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125017"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125021"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125018"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125017"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125016"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-142"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldSum"><span class="hs-identifier hs-type">GSetFieldSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathLeaf"><span class="hs-identifier hs-type">PathLeaf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125019"><span class="hs-identifier hs-type">epath</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaCons</span></span><span> </span><span class="annot"><a href="#local-6989586621679125020"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125014"><span class="hs-identifier hs-type">fix</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125013"><span class="hs-identifier hs-type">hs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679125018"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>                                      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaCons</span></span><span> </span><span class="annot"><a href="#local-6989586621679125020"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125014"><span class="hs-identifier hs-type">fix</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125013"><span class="hs-identifier hs-type">hs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679125017"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679125016"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-144"></span><span>  </span><span id="local-6989586621679124180"><span class="annot"><span class="annottext">gsetFieldSum :: forall x.
M1 C ('MetaCons con fix hs) g x
-&gt; b -&gt; M1 C ('MetaCons con fix hs) h x
</span><a href="#local-6989586621679124180"><span class="hs-identifier hs-var hs-var hs-var hs-var">gsetFieldSum</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679124179"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679124179"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) b x.
GSetFieldProd path g h b =&gt;
g x -&gt; b -&gt; h x
</span><a href="Optics.Internal.Generic.html#gsetFieldProd"><span class="hs-identifier hs-var">gsetFieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679125021"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679124179"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="GSetFieldPath"><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldPath"><span class="hs-identifier hs-var">GSetFieldPath</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679124177"><span class="annot"><a href="#local-6989586621679124177"><span class="hs-identifier hs-type">con</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679124176"><span class="annot"><a href="#local-6989586621679124176"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-147"></span><span>  </span><span id="GSetFieldPath"><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldPath"><span class="hs-identifier hs-var">GSetFieldPath</span></a></span></span><span> </span><span id="local-6989586621679124175"><span class="annot"><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><a href="#local-6989586621679124175"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679124175"><span class="hs-identifier hs-type">path</span></a></span><span>
</span><span id="line-148"></span><span>  </span><span id="GSetFieldPath"><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldPath"><span class="hs-identifier hs-var">GSetFieldPath</span></a></span></span><span> </span><span id="local-6989586621679124173"><span id="local-6989586621679124174"><span class="annot"><a href="#local-6989586621679124174"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><a href="#local-6989586621679124173"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span>
</span><span id="line-149"></span><span>    </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data constructor &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#QuoteSymbol"><span class="hs-identifier hs-type">QuoteSymbol</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124174"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span>
</span><span id="line-150"></span><span>     </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; doesn't have a field named &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#QuoteSymbol"><span class="hs-identifier hs-type">QuoteSymbol</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124173"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span class="hs-keyword">class</span><span> </span><span id="GSetFieldProd"><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-var">GSetFieldProd</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679125011"><span class="annot"><a href="#local-6989586621679125011"><span class="hs-identifier hs-type">path</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679125010"><span class="annot"><a href="#local-6989586621679125010"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679125009"><span class="annot"><a href="#local-6989586621679125009"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679125008"><span class="annot"><a href="#local-6989586621679125008"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679125011"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125009"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679125008"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-153"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679125011"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125010"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125008"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679125009"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-154"></span><span>  </span><span id="gsetFieldProd"><span class="annot"><a href="Optics.Internal.Generic.html#gsetFieldProd"><span class="hs-identifier hs-type">gsetFieldProd</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679125007"><span class="annot"><a href="#local-6989586621679125010"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125007"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679125008"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679125009"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125007"><span class="hs-identifier hs-type">x</span></a></span></span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span class="hs-comment">-- fast path left</span><span>
</span><span id="line-157"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPING</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-158"></span><span>  </span><span id="local-6989586621679124996"><span id="local-6989586621679124998"><span id="local-6989586621679124999"><span id="local-6989586621679125000"><span id="local-6989586621679125001"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125001"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679125000"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124999"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124998"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathLeft"><span class="hs-identifier hs-type">PathLeft</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679125001"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679125000"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124996"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124999"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124996"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124998"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-160"></span><span>  </span><span id="local-6989586621679124167"><span class="annot"><span class="annottext">gsetFieldProd :: forall x. (:*:) g1 g2 x -&gt; b -&gt; (:*:) h1 g2 x
</span><a href="#local-6989586621679124167"><span class="hs-identifier hs-var hs-var hs-var hs-var">gsetFieldProd</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679124166"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679124166"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679124164"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679124164"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679124164"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) b x.
GSetFieldProd path g h b =&gt;
g x -&gt; b -&gt; h x
</span><a href="Optics.Internal.Generic.html#gsetFieldProd"><span class="hs-identifier hs-var">gsetFieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679125001"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679124166"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="hs-comment">-- slow path left</span><span>
</span><span id="line-163"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-164"></span><span>  </span><span id="local-6989586621679124979"><span id="local-6989586621679124980"><span id="local-6989586621679124981"><span id="local-6989586621679124982"><span id="local-6989586621679124983"><span id="local-6989586621679124984"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124984"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124983"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124982"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124981"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124980"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679124979"><span class="hs-identifier hs-type">h2</span></a></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathLeft"><span class="hs-identifier hs-type">PathLeft</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124984"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124983"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124980"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124982"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124979"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124981"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-167"></span><span>  </span><span id="local-6989586621679124157"><span class="annot"><span class="annottext">gsetFieldProd :: forall x. (:*:) g1 g2 x -&gt; b -&gt; (:*:) h1 h2 x
</span><a href="#local-6989586621679124157"><span class="hs-identifier hs-var hs-var hs-var hs-var">gsetFieldProd</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679124156"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679124156"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679124155"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679124155"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679124155"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) b x.
GSetFieldProd path g h b =&gt;
g x -&gt; b -&gt; h x
</span><a href="Optics.Internal.Generic.html#gsetFieldProd"><span class="hs-identifier hs-var">gsetFieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124984"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679124156"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span class="hs-comment">-- fast path right</span><span>
</span><span id="line-170"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPING</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-171"></span><span>  </span><span id="local-6989586621679124967"><span id="local-6989586621679124969"><span id="local-6989586621679124970"><span id="local-6989586621679124971"><span id="local-6989586621679124972"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124972"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124971"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124970"><span class="hs-identifier hs-type">h2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124969"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathRight"><span class="hs-identifier hs-type">PathRight</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124972"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124967"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124971"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124967"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124970"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124969"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-173"></span><span>  </span><span id="local-6989586621679124150"><span class="annot"><span class="annottext">gsetFieldProd :: forall x. (:*:) g1 g2 x -&gt; b -&gt; (:*:) g1 h2 x
</span><a href="#local-6989586621679124150"><span class="hs-identifier hs-var hs-var hs-var hs-var">gsetFieldProd</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679124149"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679124149"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679124148"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679124148"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679124149"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) b x.
GSetFieldProd path g h b =&gt;
g x -&gt; b -&gt; h x
</span><a href="Optics.Internal.Generic.html#gsetFieldProd"><span class="hs-identifier hs-var">gsetFieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124972"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679124148"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-comment">-- slow path right</span><span>
</span><span id="line-176"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-177"></span><span>  </span><span id="local-6989586621679124954"><span id="local-6989586621679124955"><span id="local-6989586621679124956"><span id="local-6989586621679124957"><span id="local-6989586621679124958"><span id="local-6989586621679124959"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124959"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124958"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124957"><span class="hs-identifier hs-type">h2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124956"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-178"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124955"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679124954"><span class="hs-identifier hs-type">h1</span></a></span><span>
</span><span id="line-179"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathRight"><span class="hs-identifier hs-type">PathRight</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124959"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124955"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124958"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124954"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124957"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124956"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-180"></span><span>  </span><span id="local-6989586621679124141"><span class="annot"><span class="annottext">gsetFieldProd :: forall x. (:*:) g1 g2 x -&gt; b -&gt; (:*:) h1 h2 x
</span><a href="#local-6989586621679124141"><span class="hs-identifier hs-var hs-var hs-var hs-var">gsetFieldProd</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679124140"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679124140"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679124139"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679124139"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679124140"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) b x.
GSetFieldProd path g h b =&gt;
g x -&gt; b -&gt; h x
</span><a href="Optics.Internal.Generic.html#gsetFieldProd"><span class="hs-identifier hs-var">gsetFieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124959"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679124139"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-183"></span><span>  </span><span id="local-6989586621679124945"><span id="local-6989586621679124946"><span id="local-6989586621679124947"><span id="local-6989586621679124948"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679124948"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679124947"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GSetFieldProd"><span class="hs-identifier hs-type">GSetFieldProd</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="annot"><a href="#local-6989586621679124946"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec0</span></span><span> </span><span class="annot"><a href="#local-6989586621679124945"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="annot"><a href="#local-6989586621679124946"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec0</span></span><span> </span><span class="annot"><a href="#local-6989586621679124947"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124948"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-185"></span><span>  </span><span id="local-6989586621679124134"><span class="annot"><span class="annottext">gsetFieldProd :: forall x. M1 S m (Rec0 a) x -&gt; r -&gt; M1 S m (Rec0 b) x
</span><a href="#local-6989586621679124134"><span class="hs-identifier hs-var hs-var hs-var hs-var">gsetFieldProd</span></a></span></span><span> </span><span class="annot"><span class="annottext">M1 S m (Rec0 a) x
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-188"></span><span class="hs-comment">-- Affine field</span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="hs-keyword">class</span><span> </span><span id="GAffineFieldImpl"><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldImpl"><span class="hs-identifier hs-var">GAffineFieldImpl</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679124934"><span class="annot"><a href="#local-6989586621679124934"><span class="hs-identifier hs-type">repDefined</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>                       </span><span class="hs-special">(</span><span id="local-6989586621679124933"><span class="annot"><a href="#local-6989586621679124933"><span class="hs-identifier hs-type">name</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679124939"><span class="annot"><a href="#local-6989586621679124939"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679124938"><span class="annot"><a href="#local-6989586621679124938"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679124937"><span class="annot"><a href="#local-6989586621679124937"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679124936"><span class="annot"><a href="#local-6989586621679124936"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679124933"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124939"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679124937"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-192"></span><span>                                             </span><span class="hs-comment">{- These hold morally, but we can't prove it.
                                                , name t -&gt; b
                                                , name s b -&gt; t
                                                , name t a -&gt; s -}</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span>  </span><span id="gafieldImpl"><span class="annot"><a href="Optics.Internal.Generic.html#gafieldImpl"><span class="hs-identifier hs-type">gafieldImpl</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.AffineTraversal.html#AffineTraversal"><span class="hs-identifier hs-type">AffineTraversal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124939"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124938"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124937"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124936"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-200"></span><span>  </span><span id="local-6989586621679124915"><span id="local-6989586621679124916"><span id="local-6989586621679124917"><span id="local-6989586621679124918"><span id="local-6989586621679124919"><span id="local-6989586621679124920"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679124920"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-201"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679124919"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-202"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124918"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#GetFieldPaths"><span class="hs-identifier hs-type">GetFieldPaths</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124920"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124917"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679124920"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasField</span></span><span> </span><span class="annot"><a href="#local-6989586621679124917"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124920"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124916"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-comment">-- require the field to be in scope</span><span>
</span><span id="line-204"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#Unless"><span class="hs-identifier hs-type">Unless</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#AnyHasPath"><span class="hs-identifier hs-type">AnyHasPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124918"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span>
</span><span id="line-206"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Type &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#QuoteType"><span class="hs-identifier hs-type">QuoteType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124920"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span>
</span><span id="line-207"></span><span>       </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; doesn't have a field named &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#QuoteSymbol"><span class="hs-identifier hs-type">QuoteSymbol</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124917"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldSum"><span class="hs-identifier hs-type">GAffineFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124918"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679124920"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679124919"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124916"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124915"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-209"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldImpl"><span class="hs-identifier hs-type">GAffineFieldImpl</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="annot"><a href="#local-6989586621679124917"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124920"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124919"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124916"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124915"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-210"></span><span>  </span><span id="local-6989586621679124120"><span class="annot"><span class="annottext">gafieldImpl :: AffineTraversal s t a b
</span><a href="#local-6989586621679124120"><span class="hs-identifier hs-var hs-var hs-var hs-var">gafieldImpl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k (is :: IxList) s t a b r.
Is k An_AffineTraversal =&gt;
Optic k is s t a b
-&gt; ((s -&gt; Either t a) -&gt; (s -&gt; b -&gt; t) -&gt; r) -&gt; r
</span><a href="Optics.AffineTraversal.html#withAffineTraversal"><span class="hs-identifier hs-var">withAffineTraversal</span></a></span><span>
</span><span id="line-211"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall s t a b.
AffineTraversalVL s t a b -&gt; AffineTraversal s t a b
</span><a href="Optics.AffineTraversal.html#atraversalVL"><span class="hs-identifier hs-var">atraversalVL</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679124111"><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679124111"><span class="hs-identifier hs-var">point</span></a></span></span><span> </span><span id="local-6989586621679124110"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124110"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679124109"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679124109"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a x. Generic a =&gt; Rep a x -&gt; a
</span><span class="hs-identifier hs-var">to</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree Symbol) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GAffineFieldSum path g h a b =&gt;
AffineTraversalVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gafieldSum"><span class="hs-identifier hs-var">gafieldSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124918"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679124111"><span class="hs-identifier hs-var">point</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124110"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a x. Generic a =&gt; a -&gt; Rep a x
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679124109"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679124106"><span class="annot"><span class="annottext">s -&gt; Either t a
</span><a href="#local-6989586621679124106"><span class="hs-identifier hs-var">match</span></a></span></span><span> </span><span id="local-6989586621679124105"><span class="annot"><span class="annottext">s -&gt; b -&gt; t
</span><a href="#local-6989586621679124105"><span class="hs-identifier hs-var">update</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall s t a b.
AffineTraversalVL s t a b -&gt; AffineTraversal s t a b
</span><a href="Optics.AffineTraversal.html#atraversalVL"><span class="hs-identifier hs-var">atraversalVL</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679124102"><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679124102"><span class="hs-identifier hs-var">point</span></a></span></span><span> </span><span id="local-6989586621679124101"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124101"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679124100"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679124100"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-213"></span><span>        </span><span class="annot"><span class="annottext">forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679124102"><span class="hs-identifier hs-var">point</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s -&gt; b -&gt; t
</span><a href="#local-6989586621679124105"><span class="hs-identifier hs-var">update</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679124100"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124101"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s -&gt; Either t a
</span><a href="#local-6989586621679124106"><span class="hs-identifier hs-var">match</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679124100"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gafieldImpl"><span class="hs-pragma hs-type">gafieldImpl</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-keyword">class</span><span> </span><span id="GAffineFieldSum"><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldSum"><span class="hs-identifier hs-var">GAffineFieldSum</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679124892"><span class="annot"><a href="#local-6989586621679124892"><span class="hs-identifier hs-type">path</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathTree"><span class="hs-identifier hs-type">PathTree</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679124891"><span class="annot"><a href="#local-6989586621679124891"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679124890"><span class="annot"><a href="#local-6989586621679124890"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679124889"><span class="annot"><a href="#local-6989586621679124889"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679124888"><span class="annot"><a href="#local-6989586621679124888"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-219"></span><span>  </span><span id="gafieldSum"><span class="annot"><a href="Optics.Internal.Generic.html#gafieldSum"><span class="hs-identifier hs-type">gafieldSum</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679124887"><span class="annot"><a href="Optics.AffineTraversal.html#AffineTraversalVL"><span class="hs-identifier hs-type">AffineTraversalVL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124891"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124887"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124890"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124887"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124889"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124888"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-222"></span><span>  </span><span id="local-6989586621679124865"><span id="local-6989586621679124866"><span id="local-6989586621679124867"><span id="local-6989586621679124868"><span id="local-6989586621679124869"><span id="local-6989586621679124870"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldSum"><span class="hs-identifier hs-type">GAffineFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124870"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124869"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124868"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124867"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124866"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-223"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldSum"><span class="hs-identifier hs-type">GAffineFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124870"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">D</span></span><span> </span><span class="annot"><a href="#local-6989586621679124865"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124869"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">D</span></span><span> </span><span class="annot"><a href="#local-6989586621679124865"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124868"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124867"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124866"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-224"></span><span>  </span><span id="local-6989586621679124090"><span class="annot"><span class="annottext">gafieldSum :: forall x. AffineTraversalVL (M1 D m g x) (M1 D m h x) a b
</span><a href="#local-6989586621679124090"><span class="hs-identifier hs-var hs-var hs-var hs-var">gafieldSum</span></a></span></span><span> </span><span id="local-6989586621679124089"><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679124089"><span class="hs-identifier hs-var">point</span></a></span></span><span> </span><span id="local-6989586621679124088"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124088"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679124087"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679124087"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree Symbol) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GAffineFieldSum path g h a b =&gt;
AffineTraversalVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gafieldSum"><span class="hs-identifier hs-var">gafieldSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124870"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679124089"><span class="hs-identifier hs-var">point</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124088"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679124087"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-227"></span><span>  </span><span id="local-6989586621679124847"><span id="local-6989586621679124848"><span id="local-6989586621679124849"><span id="local-6989586621679124850"><span id="local-6989586621679124851"><span id="local-6989586621679124852"><span id="local-6989586621679124853"><span id="local-6989586621679124854"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldSum"><span class="hs-identifier hs-type">GAffineFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124854"><span class="hs-identifier hs-type">path1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124853"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124852"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124851"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124850"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-228"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldSum"><span class="hs-identifier hs-type">GAffineFieldSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124849"><span class="hs-identifier hs-type">path2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124848"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124847"><span class="hs-identifier hs-type">h2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124851"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124850"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-229"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldSum"><span class="hs-identifier hs-type">GAffineFieldSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathTree"><span class="hs-identifier hs-type">PathTree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124854"><span class="hs-identifier hs-type">path1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124849"><span class="hs-identifier hs-type">path2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124853"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124848"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124852"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124847"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124851"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124850"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-230"></span><span>  </span><span id="local-6989586621679124075"><span class="annot"><span class="annottext">gafieldSum :: forall x. AffineTraversalVL ((:+:) g1 g2 x) ((:+:) h1 h2 x) a b
</span><a href="#local-6989586621679124075"><span class="hs-identifier hs-var hs-var hs-var hs-var">gafieldSum</span></a></span></span><span> </span><span id="local-6989586621679124074"><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679124074"><span class="hs-identifier hs-var">point</span></a></span></span><span> </span><span id="local-6989586621679124073"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124073"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679124072"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679124072"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree Symbol) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GAffineFieldSum path g h a b =&gt;
AffineTraversalVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gafieldSum"><span class="hs-identifier hs-var">gafieldSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124854"><span class="hs-identifier hs-type">path1</span></a></span><span> </span><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679124074"><span class="hs-identifier hs-var">point</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124073"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679124072"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-231"></span><span>  </span><span class="annot"><a href="Optics.Internal.Generic.html#gafieldSum"><span class="hs-identifier hs-var">gafieldSum</span></a></span><span> </span><span id="local-6989586621679124071"><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679124071"><span class="hs-identifier hs-var">point</span></a></span></span><span> </span><span id="local-6989586621679124070"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124070"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679124069"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679124069"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree Symbol) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GAffineFieldSum path g h a b =&gt;
AffineTraversalVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gafieldSum"><span class="hs-identifier hs-var">gafieldSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124849"><span class="hs-identifier hs-type">path2</span></a></span><span> </span><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679124071"><span class="hs-identifier hs-var">point</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124070"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679124069"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-232"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gafieldSum"><span class="hs-pragma hs-type">gafieldSum</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-235"></span><span>  </span><span id="local-6989586621679124832"><span id="local-6989586621679124833"><span id="local-6989586621679124834"><span id="local-6989586621679124835"><span id="local-6989586621679124836"><span id="local-6989586621679124837"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldMaybe"><span class="hs-identifier hs-type">GAffineFieldMaybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124837"><span class="hs-identifier hs-type">epath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124836"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124835"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124834"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124833"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-236"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldSum"><span class="hs-identifier hs-type">GAffineFieldSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathLeaf"><span class="hs-identifier hs-type">PathLeaf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124837"><span class="hs-identifier hs-type">epath</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C</span></span><span> </span><span class="annot"><a href="#local-6989586621679124832"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124836"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C</span></span><span> </span><span class="annot"><a href="#local-6989586621679124832"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124835"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124834"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124833"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-237"></span><span>  </span><span id="local-6989586621679124061"><span class="annot"><span class="annottext">gafieldSum :: forall x. AffineTraversalVL (M1 C m g x) (M1 C m h x) a b
</span><a href="#local-6989586621679124061"><span class="hs-identifier hs-var hs-var hs-var hs-var">gafieldSum</span></a></span></span><span> </span><span id="local-6989586621679124060"><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679124060"><span class="hs-identifier hs-var">point</span></a></span></span><span> </span><span id="local-6989586621679124059"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124059"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679124058"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679124058"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (epath :: Either Symbol [Path]) (g :: * -&gt; *) (h :: * -&gt; *)
       a b x.
GAffineFieldMaybe epath g h a b =&gt;
AffineTraversalVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gafieldMaybe"><span class="hs-identifier hs-var">gafieldMaybe</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124837"><span class="hs-identifier hs-type">epath</span></a></span><span> </span><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679124060"><span class="hs-identifier hs-var">point</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124059"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679124058"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span class="hs-keyword">class</span><span> </span><span id="GAffineFieldMaybe"><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldMaybe"><span class="hs-identifier hs-var">GAffineFieldMaybe</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679124829"><span class="annot"><a href="#local-6989586621679124829"><span class="hs-identifier hs-type">epath</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679124828"><span class="annot"><a href="#local-6989586621679124828"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679124827"><span class="annot"><a href="#local-6989586621679124827"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679124826"><span class="annot"><a href="#local-6989586621679124826"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679124825"><span class="annot"><a href="#local-6989586621679124825"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-240"></span><span>  </span><span id="gafieldMaybe"><span class="annot"><a href="Optics.Internal.Generic.html#gafieldMaybe"><span class="hs-identifier hs-type">gafieldMaybe</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679124824"><span class="annot"><a href="Optics.AffineTraversal.html#AffineTraversalVL"><span class="hs-identifier hs-type">AffineTraversalVL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124828"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124824"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124827"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124824"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124826"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124825"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-243"></span><span>  </span><span id="local-6989586621679124814"><span id="local-6989586621679124815"><span id="local-6989586621679124816"><span id="local-6989586621679124817"><span id="local-6989586621679124818"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679124818"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679124817"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-244"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldMaybe"><span class="hs-identifier hs-type">GAffineFieldMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><a href="#local-6989586621679124816"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124818"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124817"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124815"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124814"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-245"></span><span>  </span><span id="local-6989586621679124050"><span class="annot"><span class="annottext">gafieldMaybe :: forall x. AffineTraversalVL (g x) (h x) a b
</span><a href="#local-6989586621679124050"><span class="hs-identifier hs-var hs-var hs-var hs-var">gafieldMaybe</span></a></span></span><span> </span><span id="local-6989586621679124049"><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679124049"><span class="hs-identifier hs-var">point</span></a></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679124048"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679124048"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><a href="#local-6989586621679124049"><span class="hs-identifier hs-var">point</span></a></span><span> </span><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679124048"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-248"></span><span>  </span><span id="local-6989586621679124801"><span id="local-6989586621679124802"><span id="local-6989586621679124803"><span id="local-6989586621679124804"><span id="local-6989586621679124805"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124805"><span class="hs-identifier hs-type">prodPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124804"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124803"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124802"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124801"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-249"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GAffineFieldMaybe"><span class="hs-identifier hs-type">GAffineFieldMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><a href="#local-6989586621679124805"><span class="hs-identifier hs-type">prodPath</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124804"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124803"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124802"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124801"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-250"></span><span>  </span><span id="local-6989586621679124041"><span class="annot"><span class="annottext">gafieldMaybe :: forall x. AffineTraversalVL (g x) (h x) a b
</span><a href="#local-6989586621679124041"><span class="hs-identifier hs-var hs-var hs-var hs-var">gafieldMaybe</span></a></span></span><span> </span><span class="annot"><span class="annottext">forall r. r -&gt; f r
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679124040"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124040"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679124039"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679124039"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GFieldProd path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gfieldProd"><span class="hs-identifier hs-var">gfieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124805"><span class="hs-identifier hs-type">prodPath</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124040"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679124039"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span class="hs-keyword">class</span><span> </span><span id="GFieldProd"><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-var">GFieldProd</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679124798"><span class="annot"><a href="#local-6989586621679124798"><span class="hs-identifier hs-type">path</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679124797"><span class="annot"><a href="#local-6989586621679124797"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679124796"><span class="annot"><a href="#local-6989586621679124796"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679124795"><span class="annot"><a href="#local-6989586621679124795"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679124794"><span class="annot"><a href="#local-6989586621679124794"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679124798"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124797"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679124795"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-255"></span><span>                                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124798"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124796"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679124794"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-256"></span><span>                                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124798"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124797"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124794"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679124796"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-257"></span><span>                                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124798"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124796"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124795"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679124797"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-258"></span><span>  </span><span id="gfieldProd"><span class="annot"><a href="Optics.Internal.Generic.html#gfieldProd"><span class="hs-identifier hs-type">gfieldProd</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679124793"><span class="annot"><a href="Optics.Lens.html#LensVL"><span class="hs-identifier hs-type">LensVL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124797"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124793"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124796"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124793"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124795"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124794"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span class="hs-comment">-- fast path left</span><span>
</span><span id="line-261"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPING</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-262"></span><span>  </span><span id="local-6989586621679124781"><span id="local-6989586621679124782"><span id="local-6989586621679124783"><span id="local-6989586621679124784"><span id="local-6989586621679124785"><span id="local-6989586621679124786"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124786"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124785"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124784"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124783"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124782"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathLeft"><span class="hs-identifier hs-type">PathLeft</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124786"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124785"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124781"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124784"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124781"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124783"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124782"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-264"></span><span>  </span><span id="local-6989586621679124029"><span class="annot"><span class="annottext">gfieldProd :: forall x. LensVL ((:*:) g1 g2 x) ((:*:) h1 g2 x) a b
</span><a href="#local-6989586621679124029"><span class="hs-identifier hs-var hs-var hs-var hs-var">gfieldProd</span></a></span></span><span> </span><span id="local-6989586621679124028"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124028"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679124027"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679124027"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679124026"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679124026"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679124026"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GFieldProd path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gfieldProd"><span class="hs-identifier hs-var">gfieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124786"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124028"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679124027"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-comment">-- slow path left</span><span>
</span><span id="line-267"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-268"></span><span>  </span><span id="local-6989586621679124765"><span id="local-6989586621679124766"><span id="local-6989586621679124767"><span id="local-6989586621679124768"><span id="local-6989586621679124769"><span id="local-6989586621679124770"><span id="local-6989586621679124771"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124771"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124770"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124769"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124768"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124767"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-269"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124766"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679124765"><span class="hs-identifier hs-type">h2</span></a></span><span>
</span><span id="line-270"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathLeft"><span class="hs-identifier hs-type">PathLeft</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124771"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124770"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124766"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124769"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124765"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124768"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124767"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-271"></span><span>  </span><span id="local-6989586621679124016"><span class="annot"><span class="annottext">gfieldProd :: forall x. LensVL ((:*:) g1 g2 x) ((:*:) h1 h2 x) a b
</span><a href="#local-6989586621679124016"><span class="hs-identifier hs-var hs-var hs-var hs-var">gfieldProd</span></a></span></span><span> </span><span id="local-6989586621679124015"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124015"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679124014"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679124014"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679124013"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679124013"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679124013"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GFieldProd path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gfieldProd"><span class="hs-identifier hs-var">gfieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124771"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124015"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679124014"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span class="hs-comment">-- fast path right</span><span>
</span><span id="line-274"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPING</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-275"></span><span>  </span><span id="local-6989586621679124751"><span id="local-6989586621679124752"><span id="local-6989586621679124753"><span id="local-6989586621679124754"><span id="local-6989586621679124755"><span id="local-6989586621679124756"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124756"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124755"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124754"><span class="hs-identifier hs-type">h2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124753"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124752"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-276"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathRight"><span class="hs-identifier hs-type">PathRight</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124756"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124751"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124755"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124751"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124754"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124753"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124752"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-277"></span><span>  </span><span id="local-6989586621679124005"><span class="annot"><span class="annottext">gfieldProd :: forall x. LensVL ((:*:) g1 g2 x) ((:*:) g1 h2 x) a b
</span><a href="#local-6989586621679124005"><span class="hs-identifier hs-var hs-var hs-var hs-var">gfieldProd</span></a></span></span><span> </span><span id="local-6989586621679124004"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124004"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679124003"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679124003"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679124002"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679124002"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679124003"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GFieldProd path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gfieldProd"><span class="hs-identifier hs-var">gfieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124756"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679124004"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679124002"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span class="hs-comment">-- slow path right</span><span>
</span><span id="line-280"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-281"></span><span>  </span><span id="local-6989586621679124735"><span id="local-6989586621679124736"><span id="local-6989586621679124737"><span id="local-6989586621679124738"><span id="local-6989586621679124739"><span id="local-6989586621679124740"><span id="local-6989586621679124741"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124741"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124740"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124739"><span class="hs-identifier hs-type">h2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124738"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124737"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-282"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124736"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679124735"><span class="hs-identifier hs-type">h1</span></a></span><span>
</span><span id="line-283"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathRight"><span class="hs-identifier hs-type">PathRight</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124741"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124736"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124740"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124735"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124739"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124738"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124737"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-284"></span><span>  </span><span id="local-6989586621679123992"><span class="annot"><span class="annottext">gfieldProd :: forall x. LensVL ((:*:) g1 g2 x) ((:*:) h1 h2 x) a b
</span><a href="#local-6989586621679123992"><span class="hs-identifier hs-var hs-var hs-var hs-var">gfieldProd</span></a></span></span><span> </span><span id="local-6989586621679123991"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679123991"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679123990"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679123990"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679123989"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679123989"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679123990"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GFieldProd path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gfieldProd"><span class="hs-identifier hs-var">gfieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124741"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679123991"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679123989"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-287"></span><span>  </span><span id="local-6989586621679124723"><span id="local-6989586621679124724"><span id="local-6989586621679124725"><span id="local-6989586621679124726"><span id="local-6989586621679124727"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679124727"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679124726"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-288"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124725"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679124724"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-289"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="annot"><a href="#local-6989586621679124723"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec0</span></span><span> </span><span class="annot"><a href="#local-6989586621679124726"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="annot"><a href="#local-6989586621679124723"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec0</span></span><span> </span><span class="annot"><a href="#local-6989586621679124724"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124727"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124725"><span class="hs-identifier hs-type">s</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-290"></span><span>  </span><span id="local-6989586621679123980"><span class="annot"><span class="annottext">gfieldProd :: forall x. LensVL (M1 S m (Rec0 a) x) (M1 S m (Rec0 b) x) r s
</span><a href="#local-6989586621679123980"><span class="hs-identifier hs-var hs-var hs-var hs-var">gfieldProd</span></a></span></span><span> </span><span id="local-6989586621679123979"><span class="annot"><span class="annottext">r -&gt; f s
</span><a href="#local-6989586621679123979"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679123978"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679123978"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; f s
</span><a href="#local-6989586621679123979"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679123978"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-293"></span><span class="hs-comment">-- Position</span><span>
</span><span id="line-294"></span><span>
</span><span id="line-295"></span><span class="hs-keyword">class</span><span> </span><span id="GPositionImpl"><span class="annot"><a href="Optics.Internal.Generic.html#GPositionImpl"><span class="hs-identifier hs-var">GPositionImpl</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679124715"><span class="annot"><a href="#local-6989586621679124715"><span class="hs-identifier hs-type">repDefined</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-296"></span><span>                    </span><span class="hs-special">(</span><span id="local-6989586621679124714"><span class="annot"><a href="#local-6989586621679124714"><span class="hs-identifier hs-type">n</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nat</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679124719"><span class="annot"><a href="#local-6989586621679124719"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679124718"><span class="annot"><a href="#local-6989586621679124718"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679124717"><span class="annot"><a href="#local-6989586621679124717"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679124716"><span class="annot"><a href="#local-6989586621679124716"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679124714"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124719"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679124717"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-297"></span><span>                                    </span><span class="hs-comment">{- These hold morally, but we can't prove it.
                                       , n t -&gt; b
                                       , n s b -&gt; t
                                       , n t a -&gt; s -}</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span>  </span><span id="gpositionImpl"><span class="annot"><a href="Optics.Internal.Generic.html#gpositionImpl"><span class="hs-identifier hs-type">gpositionImpl</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Lens.html#Lens"><span class="hs-identifier hs-type">Lens</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124719"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124718"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124717"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124716"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-303"></span><span>
</span><span id="line-304"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-305"></span><span>  </span><span id="local-6989586621679124697"><span id="local-6989586621679124698"><span id="local-6989586621679124699"><span id="local-6989586621679124700"><span id="local-6989586621679124701"><span id="local-6989586621679124702"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679124702"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-306"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679124701"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-307"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124700"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">If</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124699"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=?</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;There is no 0th position&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-309"></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#GetPositionPaths"><span class="hs-identifier hs-type">GetPositionPaths</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124702"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124699"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679124702"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#When"><span class="hs-identifier hs-type">When</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124699"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;=?</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#HideReps"><span class="hs-identifier hs-type">HideReps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679124702"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679124701"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionSum"><span class="hs-identifier hs-type">GPositionSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124700"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679124702"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679124701"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124698"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124697"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-312"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionImpl"><span class="hs-identifier hs-type">GPositionImpl</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="annot"><a href="#local-6989586621679124699"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124702"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124701"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124698"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124697"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-313"></span><span>  </span><span id="local-6989586621679123967"><span class="annot"><span class="annottext">gpositionImpl :: Lens s t a b
</span><a href="#local-6989586621679123967"><span class="hs-identifier hs-var hs-var hs-var hs-var">gpositionImpl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k (is :: IxList) s t a b r.
Is k A_Lens =&gt;
Optic k is s t a b -&gt; ((s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; r) -&gt; r
</span><a href="Optics.Lens.html#withLens"><span class="hs-identifier hs-var">withLens</span></a></span><span>
</span><span id="line-314"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall s t a b. LensVL s t a b -&gt; Lens s t a b
</span><a href="Optics.Lens.html#lensVL"><span class="hs-identifier hs-var">lensVL</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679123959"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679123959"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679123958"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679123958"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a x. Generic a =&gt; Rep a x -&gt; a
</span><span class="hs-identifier hs-var">to</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree (Nat, Nat)) (g :: * -&gt; *) (h :: * -&gt; *) a
       b x.
GPositionSum path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gpositionSum"><span class="hs-identifier hs-var">gpositionSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124700"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679123959"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a x. Generic a =&gt; a -&gt; Rep a x
</span><span class="hs-identifier hs-var">from</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679123958"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679123956"><span class="annot"><span class="annottext">s -&gt; a
</span><a href="#local-6989586621679123956"><span class="hs-identifier hs-var">get</span></a></span></span><span> </span><span id="local-6989586621679123955"><span class="annot"><span class="annottext">s -&gt; b -&gt; t
</span><a href="#local-6989586621679123955"><span class="hs-identifier hs-var">set</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall s t a b. LensVL s t a b -&gt; Lens s t a b
</span><a href="Optics.Lens.html#lensVL"><span class="hs-identifier hs-var">lensVL</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679123952"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679123952"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679123951"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679123951"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">s -&gt; b -&gt; t
</span><a href="#local-6989586621679123955"><span class="hs-identifier hs-var">set</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679123951"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679123952"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s -&gt; a
</span><a href="#local-6989586621679123956"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679123951"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gpositionImpl"><span class="hs-pragma hs-type">gpositionImpl</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-319"></span><span>
</span><span id="line-320"></span><span class="hs-keyword">class</span><span> </span><span id="GPositionSum"><span class="annot"><a href="Optics.Internal.Generic.html#GPositionSum"><span class="hs-identifier hs-var">GPositionSum</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679124687"><span class="annot"><a href="#local-6989586621679124687"><span class="hs-identifier hs-type">path</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathTree"><span class="hs-identifier hs-type">PathTree</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Nat</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679124686"><span class="annot"><a href="#local-6989586621679124686"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679124685"><span class="annot"><a href="#local-6989586621679124685"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679124684"><span class="annot"><a href="#local-6989586621679124684"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679124683"><span class="annot"><a href="#local-6989586621679124683"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679124687"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124686"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679124684"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-321"></span><span>                                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124687"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124685"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679124683"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-322"></span><span>                                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124687"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124686"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124683"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679124685"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-323"></span><span>                                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124687"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124685"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124684"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679124686"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-324"></span><span>  </span><span id="gpositionSum"><span class="annot"><a href="Optics.Internal.Generic.html#gpositionSum"><span class="hs-identifier hs-type">gpositionSum</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679124682"><span class="annot"><a href="Optics.Lens.html#LensVL"><span class="hs-identifier hs-type">LensVL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124686"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124682"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124685"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124682"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124684"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124683"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-327"></span><span>  </span><span id="local-6989586621679124669"><span id="local-6989586621679124670"><span id="local-6989586621679124671"><span id="local-6989586621679124672"><span id="local-6989586621679124673"><span id="local-6989586621679124674"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionSum"><span class="hs-identifier hs-type">GPositionSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124674"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124673"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124672"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124671"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124670"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-328"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionSum"><span class="hs-identifier hs-type">GPositionSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124674"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">D</span></span><span> </span><span class="annot"><a href="#local-6989586621679124669"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124673"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">D</span></span><span> </span><span class="annot"><a href="#local-6989586621679124669"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124672"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124671"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124670"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-329"></span><span>  </span><span id="local-6989586621679123942"><span class="annot"><span class="annottext">gpositionSum :: forall x. LensVL (M1 D m g x) (M1 D m h x) a b
</span><a href="#local-6989586621679123942"><span class="hs-identifier hs-var hs-var hs-var hs-var">gpositionSum</span></a></span></span><span> </span><span id="local-6989586621679123941"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679123941"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679123940"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679123940"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree (Nat, Nat)) (g :: * -&gt; *) (h :: * -&gt; *) a
       b x.
GPositionSum path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gpositionSum"><span class="hs-identifier hs-var">gpositionSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124674"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679123941"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679123940"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-332"></span><span>  </span><span id="local-6989586621679124651"><span id="local-6989586621679124652"><span id="local-6989586621679124653"><span id="local-6989586621679124654"><span id="local-6989586621679124655"><span id="local-6989586621679124656"><span id="local-6989586621679124657"><span id="local-6989586621679124658"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionSum"><span class="hs-identifier hs-type">GPositionSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124658"><span class="hs-identifier hs-type">path1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124657"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124656"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124655"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124654"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-333"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionSum"><span class="hs-identifier hs-type">GPositionSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124653"><span class="hs-identifier hs-type">path2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124652"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124651"><span class="hs-identifier hs-type">h2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124655"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124654"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-334"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionSum"><span class="hs-identifier hs-type">GPositionSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathTree"><span class="hs-identifier hs-type">PathTree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124658"><span class="hs-identifier hs-type">path1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124653"><span class="hs-identifier hs-type">path2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124657"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124652"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124656"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124651"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124655"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124654"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-335"></span><span>  </span><span id="local-6989586621679123928"><span class="annot"><span class="annottext">gpositionSum :: forall x. LensVL ((:+:) g1 g2 x) ((:+:) h1 h2 x) a b
</span><a href="#local-6989586621679123928"><span class="hs-identifier hs-var hs-var hs-var hs-var">gpositionSum</span></a></span></span><span> </span><span id="local-6989586621679123927"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679123927"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679123926"><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679123926"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree (Nat, Nat)) (g :: * -&gt; *) (h :: * -&gt; *) a
       b x.
GPositionSum path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gpositionSum"><span class="hs-identifier hs-var">gpositionSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124658"><span class="hs-identifier hs-type">path1</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679123927"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g1 x
</span><a href="#local-6989586621679123926"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-336"></span><span>  </span><span class="annot"><a href="Optics.Internal.Generic.html#gpositionSum"><span class="hs-identifier hs-var">gpositionSum</span></a></span><span> </span><span id="local-6989586621679123925"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679123925"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679123924"><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679123924"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: PathTree (Nat, Nat)) (g :: * -&gt; *) (h :: * -&gt; *) a
       b x.
GPositionSum path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gpositionSum"><span class="hs-identifier hs-var">gpositionSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124653"><span class="hs-identifier hs-type">path2</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679123925"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g2 x
</span><a href="#local-6989586621679123924"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-337"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gpositionSum"><span class="hs-pragma hs-type">gpositionSum</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-340"></span><span>  </span><span id="local-6989586621679124630"><span id="local-6989586621679124631"><span id="local-6989586621679124632"><span id="local-6989586621679124633"><span id="local-6989586621679124634"><span id="local-6989586621679124635"><span id="local-6989586621679124636"><span id="local-6989586621679124637"><span id="local-6989586621679124638"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679124638"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionPath"><span class="hs-identifier hs-type">GPositionPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124637"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124636"><span class="hs-identifier hs-type">epath</span></a></span><span>
</span><span id="line-341"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#When"><span class="hs-identifier hs-type">When</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#IsLeft"><span class="hs-identifier hs-type">IsLeft</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124636"><span class="hs-identifier hs-type">epath</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#HideReps"><span class="hs-identifier hs-type">HideReps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124635"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124634"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-342"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GFieldProd"><span class="hs-identifier hs-type">GFieldProd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124638"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124635"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124634"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124633"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124632"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-343"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPositionSum"><span class="hs-identifier hs-type">GPositionSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathLeaf"><span class="hs-identifier hs-type">PathLeaf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124636"><span class="hs-identifier hs-type">epath</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaCons</span></span><span> </span><span class="annot"><a href="#local-6989586621679124637"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124631"><span class="hs-identifier hs-type">fix</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124630"><span class="hs-identifier hs-type">hs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124635"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>                                      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">MetaCons</span></span><span> </span><span class="annot"><a href="#local-6989586621679124637"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124631"><span class="hs-identifier hs-type">fix</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124630"><span class="hs-identifier hs-type">hs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124634"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124633"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124632"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-345"></span><span>  </span><span id="local-6989586621679123914"><span class="annot"><span class="annottext">gpositionSum :: forall x.
LensVL
  (M1 C ('MetaCons con fix hs) g x)
  (M1 C ('MetaCons con fix hs) h x)
  a
  b
</span><a href="#local-6989586621679123914"><span class="hs-identifier hs-var hs-var hs-var hs-var">gpositionSum</span></a></span></span><span> </span><span id="local-6989586621679123913"><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679123913"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679123912"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679123912"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GFieldProd path g h a b =&gt;
LensVL (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gfieldProd"><span class="hs-identifier hs-var">gfieldProd</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124638"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679123913"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679123912"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="GPositionPath"><span class="annot"><a href="Optics.Internal.Generic.html#GPositionPath"><span class="hs-identifier hs-var">GPositionPath</span></a></span></span><span> </span><span id="local-6989586621679123911"><span class="annot"><a href="#local-6989586621679123911"><span class="hs-identifier hs-type">con</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679123910"><span class="annot"><a href="#local-6989586621679123910"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Nat</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nat</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-348"></span><span>  </span><span id="GPositionPath"><span class="annot"><a href="Optics.Internal.Generic.html#GPositionPath"><span class="hs-identifier hs-var">GPositionPath</span></a></span></span><span> </span><span id="local-6989586621679123909"><span class="annot"><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="annot"><a href="#local-6989586621679123909"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679123909"><span class="hs-identifier hs-type">path</span></a></span><span>
</span><span id="line-349"></span><span>  </span><span id="GPositionPath"><span class="annot"><a href="Optics.Internal.Generic.html#GPositionPath"><span class="hs-identifier hs-var">GPositionPath</span></a></span></span><span> </span><span id="local-6989586621679123906"><span id="local-6989586621679123907"><span id="local-6989586621679123908"><span class="annot"><a href="#local-6989586621679123908"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679123907"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679123906"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span>
</span><span id="line-350"></span><span>    </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data constructor &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#QuoteSymbol"><span class="hs-identifier hs-type">QuoteSymbol</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679123908"><span class="hs-identifier hs-type">con</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span>
</span><span id="line-351"></span><span>     </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; has &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#ShowFieldNumber"><span class="hs-identifier hs-type">ShowFieldNumber</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679123906"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;, &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span>
</span><span id="line-352"></span><span>     </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#ToOrdinal"><span class="hs-identifier hs-type">ToOrdinal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679123907"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; requested&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-353"></span><span>
</span><span id="line-354"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="ShowFieldNumber"><span class="annot"><a href="Optics.Internal.Generic.html#ShowFieldNumber"><span class="hs-identifier hs-var">ShowFieldNumber</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679123903"><span class="annot"><a href="#local-6989586621679123903"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nat</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ErrorMessage</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-355"></span><span>  </span><span id="ShowFieldNumber"><span class="annot"><a href="Optics.Internal.Generic.html#ShowFieldNumber"><span class="hs-identifier hs-var">ShowFieldNumber</span></a></span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;no fields&quot;</span></span><span>
</span><span id="line-356"></span><span>  </span><span id="ShowFieldNumber"><span class="annot"><a href="Optics.Internal.Generic.html#ShowFieldNumber"><span class="hs-identifier hs-var">ShowFieldNumber</span></a></span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;1 field&quot;</span></span><span>
</span><span id="line-357"></span><span>  </span><span id="ShowFieldNumber"><span class="annot"><a href="Optics.Internal.Generic.html#ShowFieldNumber"><span class="hs-identifier hs-var">ShowFieldNumber</span></a></span></span><span> </span><span id="local-6989586621679123901"><span class="annot"><a href="#local-6989586621679123901"><span class="hs-identifier hs-type hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679123901"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; fields&quot;</span></span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-360"></span><span class="hs-comment">-- Constructor</span><span>
</span><span id="line-361"></span><span>
</span><span id="line-362"></span><span class="hs-keyword">class</span><span> </span><span id="GConstructorImpl"><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorImpl"><span class="hs-identifier hs-var">GConstructorImpl</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679124623"><span class="annot"><a href="#local-6989586621679124623"><span class="hs-identifier hs-type">repDefined</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-363"></span><span>                       </span><span class="hs-special">(</span><span id="local-6989586621679124622"><span class="annot"><a href="#local-6989586621679124622"><span class="hs-identifier hs-type">name</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Symbol</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679124627"><span class="annot"><a href="#local-6989586621679124627"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679124626"><span class="annot"><a href="#local-6989586621679124626"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679124625"><span class="annot"><a href="#local-6989586621679124625"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679124624"><span class="annot"><a href="#local-6989586621679124624"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679124622"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124627"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679124625"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-364"></span><span>                                             </span><span class="hs-comment">{- These hold morally, but we can't prove it.
                                                , name t -&gt; b
                                                , name s b -&gt; t
                                                , name t a -&gt; s -}</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-368"></span><span>
</span><span id="line-369"></span><span>  </span><span id="gconstructorImpl"><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorImpl"><span class="hs-identifier hs-type">gconstructorImpl</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Prism.html#Prism"><span class="hs-identifier hs-type">Prism</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124627"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124626"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124625"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124624"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-372"></span><span>  </span><span id="local-6989586621679124604"><span id="local-6989586621679124605"><span id="local-6989586621679124606"><span id="local-6989586621679124607"><span id="local-6989586621679124608"><span id="local-6989586621679124609"><span id="local-6989586621679124610"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679124610"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-373"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679124609"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-374"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124608"><span class="hs-identifier hs-type">epath</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#GetNamePath"><span class="hs-identifier hs-type">GetNamePath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124607"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679124610"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-375"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124606"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#FromRight"><span class="hs-identifier hs-type">FromRight</span></a></span><span>
</span><span id="line-376"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span>
</span><span id="line-377"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Type &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#QuoteType"><span class="hs-identifier hs-type">QuoteType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124610"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span>
</span><span id="line-378"></span><span>       </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; doesn't have a constructor named &quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:&lt;&gt;:</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#QuoteSymbol"><span class="hs-identifier hs-type">QuoteSymbol</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124607"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-379"></span><span>    </span><span class="annot"><a href="#local-6989586621679124608"><span class="hs-identifier hs-type">epath</span></a></span><span>
</span><span id="line-380"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#When"><span class="hs-identifier hs-type">When</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#IsLeft"><span class="hs-identifier hs-type">IsLeft</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124608"><span class="hs-identifier hs-type">epath</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#HideReps"><span class="hs-identifier hs-type">HideReps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679124610"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679124609"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-381"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124606"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679124610"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679124609"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124605"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124604"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-382"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorImpl"><span class="hs-identifier hs-type">GConstructorImpl</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="annot"><a href="#local-6989586621679124607"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124610"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124609"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124605"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124604"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-383"></span><span>  </span><span id="local-6989586621679123881"><span class="annot"><span class="annottext">gconstructorImpl :: Prism s t a b
</span><a href="#local-6989586621679123881"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorImpl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k (is :: IxList) s t a b r.
Is k A_Prism =&gt;
Optic k is s t a b -&gt; ((b -&gt; t) -&gt; (s -&gt; Either t a) -&gt; r) -&gt; r
</span><a href="Optics.Prism.html#withPrism"><span class="hs-identifier hs-var">withPrism</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b x y.
(Generic a, Generic b) =&gt;
Iso a b (Rep a x) (Rep b y)
</span><a href="Optics.Internal.Generic.html#generic"><span class="hs-identifier hs-var">generic</span></a></span><span> </span><span class="annot"><span class="annottext">forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GConstructorSum path g h a b =&gt;
Prism (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-var">gconstructorSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124606"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b t s a. (b -&gt; t) -&gt; (s -&gt; Either t a) -&gt; Prism s t a b
</span><a href="Optics.Prism.html#prism"><span class="hs-identifier hs-var">prism</span></a></span><span>
</span><span id="line-384"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorImpl"><span class="hs-pragma hs-type">gconstructorImpl</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-385"></span><span>
</span><span id="line-386"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-387"></span><span>
</span><span id="line-388"></span><span class="hs-keyword">class</span><span> </span><span id="GConstructorSum"><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-var">GConstructorSum</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679124577"><span class="annot"><a href="#local-6989586621679124577"><span class="hs-identifier hs-type">path</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#Path"><span class="hs-identifier hs-type">Path</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679124576"><span class="annot"><a href="#local-6989586621679124576"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679124575"><span class="annot"><a href="#local-6989586621679124575"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679124574"><span class="annot"><a href="#local-6989586621679124574"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679124573"><span class="annot"><a href="#local-6989586621679124573"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679124577"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124576"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679124574"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-389"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124577"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124575"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679124573"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-390"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124577"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124576"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124573"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679124575"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-391"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124577"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124575"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124574"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679124576"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-392"></span><span>  </span><span id="gconstructorSum"><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-type">gconstructorSum</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679124572"><span class="annot"><a href="Optics.Prism.html#Prism"><span class="hs-identifier hs-type">Prism</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124576"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124572"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124575"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124572"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124574"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124573"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-393"></span><span>
</span><span id="line-394"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-395"></span><span>  </span><span id="local-6989586621679124560"><span id="local-6989586621679124561"><span id="local-6989586621679124562"><span id="local-6989586621679124563"><span id="local-6989586621679124564"><span id="local-6989586621679124565"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124565"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124564"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124563"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124562"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124561"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-396"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124565"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">D</span></span><span> </span><span class="annot"><a href="#local-6989586621679124560"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124564"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">D</span></span><span> </span><span class="annot"><a href="#local-6989586621679124560"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124563"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124562"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124561"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-397"></span><span>  </span><span id="local-6989586621679123869"><span class="annot"><span class="annottext">gconstructorSum :: forall x. Prism (M1 D m g x) (M1 D m h x) a b
</span><a href="#local-6989586621679123869"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorSum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall i (c :: Meta) (f :: * -&gt; *) p j (d :: Meta) (g :: * -&gt; *) q.
Iso (M1 i c f p) (M1 j d g q) (f p) (g q)
</span><a href="Optics.Internal.Generic.html#_M1"><span class="hs-identifier hs-var">_M1</span></a></span><span> </span><span class="annot"><span class="annottext">forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GConstructorSum path g h a b =&gt;
Prism (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-var">gconstructorSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124565"><span class="hs-identifier hs-type">path</span></a></span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span class="hs-comment">-- fast path left</span><span>
</span><span id="line-400"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPING</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-401"></span><span>  </span><span id="local-6989586621679124547"><span id="local-6989586621679124548"><span id="local-6989586621679124549"><span id="local-6989586621679124550"><span id="local-6989586621679124551"><span id="local-6989586621679124552"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124552"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124551"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124550"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124549"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124548"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-402"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathLeft"><span class="hs-identifier hs-type">PathLeft</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124552"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124551"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124547"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124550"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124547"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124549"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124548"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-403"></span><span>  </span><span id="local-6989586621679123860"><span class="annot"><span class="annottext">gconstructorSum :: forall x. Prism ((:+:) g1 g2 x) ((:+:) h1 g2 x) a b
</span><a href="#local-6989586621679123860"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorSum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (a :: * -&gt; *) (c :: * -&gt; *) t (b :: * -&gt; *).
Prism ((:+:) a c t) ((:+:) b c t) (a t) (b t)
</span><a href="Optics.Internal.Generic.html#_L1"><span class="hs-identifier hs-var">_L1</span></a></span><span> </span><span class="annot"><span class="annottext">forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GConstructorSum path g h a b =&gt;
Prism (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-var">gconstructorSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124552"><span class="hs-identifier hs-type">path</span></a></span><span>
</span><span id="line-404"></span><span>
</span><span id="line-405"></span><span class="hs-comment">-- slow path left</span><span>
</span><span id="line-406"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-407"></span><span>  </span><span id="local-6989586621679124531"><span id="local-6989586621679124532"><span id="local-6989586621679124533"><span id="local-6989586621679124534"><span id="local-6989586621679124535"><span id="local-6989586621679124536"><span id="local-6989586621679124537"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124537"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124536"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124535"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124534"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124533"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-408"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124532"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679124531"><span class="hs-identifier hs-type">h2</span></a></span><span>
</span><span id="line-409"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathLeft"><span class="hs-identifier hs-type">PathLeft</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124537"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124536"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124532"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124535"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124531"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124534"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124533"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-410"></span><span>  </span><span id="local-6989586621679123850"><span class="annot"><span class="annottext">gconstructorSum :: forall x. Prism ((:+:) g1 g2 x) ((:+:) h1 h2 x) a b
</span><a href="#local-6989586621679123850"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorSum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (a :: * -&gt; *) (c :: * -&gt; *) t (b :: * -&gt; *).
Prism ((:+:) a c t) ((:+:) b c t) (a t) (b t)
</span><a href="Optics.Internal.Generic.html#_L1"><span class="hs-identifier hs-var">_L1</span></a></span><span> </span><span class="annot"><span class="annottext">forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GConstructorSum path g h a b =&gt;
Prism (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-var">gconstructorSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124537"><span class="hs-identifier hs-type">path</span></a></span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span class="hs-comment">-- fast path right</span><span>
</span><span id="line-413"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPING</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-414"></span><span>  </span><span id="local-6989586621679124518"><span id="local-6989586621679124519"><span id="local-6989586621679124520"><span id="local-6989586621679124521"><span id="local-6989586621679124522"><span id="local-6989586621679124523"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124523"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124522"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124521"><span class="hs-identifier hs-type">h2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124520"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124519"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-415"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathRight"><span class="hs-identifier hs-type">PathRight</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124523"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124518"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124522"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124518"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124521"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124520"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124519"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-416"></span><span>  </span><span id="local-6989586621679123842"><span class="annot"><span class="annottext">gconstructorSum :: forall x. Prism ((:+:) g1 g2 x) ((:+:) g1 h2 x) a b
</span><a href="#local-6989586621679123842"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorSum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (c :: * -&gt; *) (a :: * -&gt; *) t (b :: * -&gt; *).
Prism ((:+:) c a t) ((:+:) c b t) (a t) (b t)
</span><a href="Optics.Internal.Generic.html#_R1"><span class="hs-identifier hs-var">_R1</span></a></span><span> </span><span class="annot"><span class="annottext">forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GConstructorSum path g h a b =&gt;
Prism (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-var">gconstructorSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124523"><span class="hs-identifier hs-type">path</span></a></span><span>
</span><span id="line-417"></span><span>
</span><span id="line-418"></span><span class="hs-comment">-- slow path right</span><span>
</span><span id="line-419"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-420"></span><span>  </span><span id="local-6989586621679124503"><span id="local-6989586621679124504"><span id="local-6989586621679124505"><span id="local-6989586621679124506"><span id="local-6989586621679124507"><span id="local-6989586621679124508"><span id="local-6989586621679124509"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124509"><span class="hs-identifier hs-type">path</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124508"><span class="hs-identifier hs-type">g2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124507"><span class="hs-identifier hs-type">h2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124506"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124505"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-421"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124504"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679124503"><span class="hs-identifier hs-type">h1</span></a></span><span>
</span><span id="line-422"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Optics.Internal.Generic.TypeLevel.html#PathRight"><span class="hs-identifier hs-type">PathRight</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124509"><span class="hs-identifier hs-type">path</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124504"><span class="hs-identifier hs-type">g1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124508"><span class="hs-identifier hs-type">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124503"><span class="hs-identifier hs-type">h1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124507"><span class="hs-identifier hs-type">h2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124506"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124505"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-423"></span><span>  </span><span id="local-6989586621679123832"><span class="annot"><span class="annottext">gconstructorSum :: forall x. Prism ((:+:) g1 g2 x) ((:+:) h1 h2 x) a b
</span><a href="#local-6989586621679123832"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorSum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (c :: * -&gt; *) (a :: * -&gt; *) t (b :: * -&gt; *).
Prism ((:+:) c a t) ((:+:) c b t) (a t) (b t)
</span><a href="Optics.Internal.Generic.html#_R1"><span class="hs-identifier hs-var">_R1</span></a></span><span> </span><span class="annot"><span class="annottext">forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">forall (path :: [Path]) (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GConstructorSum path g h a b =&gt;
Prism (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorSum"><span class="hs-identifier hs-var">gconstructorSum</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679124509"><span class="hs-identifier hs-type">path</span></a></span><span>
</span><span id="line-424"></span><span>
</span><span id="line-425"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-426"></span><span>  </span><span id="local-6989586621679124491"><span id="local-6989586621679124492"><span id="local-6989586621679124493"><span id="local-6989586621679124494"><span id="local-6989586621679124495"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier hs-type">GConstructorTuple</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124495"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124494"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124493"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124492"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-427"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorSum"><span class="hs-identifier hs-type">GConstructorSum</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C</span></span><span> </span><span class="annot"><a href="#local-6989586621679124491"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124495"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">C</span></span><span> </span><span class="annot"><a href="#local-6989586621679124491"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124494"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124493"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124492"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-428"></span><span>  </span><span id="local-6989586621679123821"><span class="annot"><span class="annottext">gconstructorSum :: forall x. Prism (M1 C m g x) (M1 C m h x) a b
</span><a href="#local-6989586621679123821"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorSum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall destKind srcKind (is :: IxList) s t a b.
Is srcKind destKind =&gt;
Optic srcKind is s t a b -&gt; Optic destKind is s t a b
</span><a href="Optics.Internal.Optic.html#castOptic"><span class="hs-identifier hs-var">castOptic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall i (c :: Meta) (f :: * -&gt; *) p j (d :: Meta) (g :: * -&gt; *) q.
Iso (M1 i c f p) (M1 j d g q) (f p) (g q)
</span><a href="Optics.Internal.Generic.html#_M1"><span class="hs-identifier hs-var">_M1</span></a></span><span> </span><span class="annot"><span class="annottext">forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">forall (g :: * -&gt; *) (h :: * -&gt; *) a b x.
GConstructorTuple g h a b =&gt;
Iso (g x) (h x) a b
</span><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-identifier hs-var">gconstructorTuple</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-429"></span><span>
</span><span id="line-430"></span><span class="hs-keyword">class</span><span> </span><span id="GConstructorTuple"><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier hs-var">GConstructorTuple</span></a></span></span><span> </span><span id="local-6989586621679124481"><span class="annot"><a href="#local-6989586621679124481"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679124480"><span class="annot"><a href="#local-6989586621679124480"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span id="local-6989586621679124479"><span class="annot"><a href="#local-6989586621679124479"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679124478"><span class="annot"><a href="#local-6989586621679124478"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679124481"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679124479"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-431"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124480"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679124478"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-432"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124481"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124478"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679124480"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-433"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124480"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124479"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679124481"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-434"></span><span>  </span><span id="gconstructorTuple"><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-identifier hs-type">gconstructorTuple</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679124477"><span class="annot"><a href="Optics.Iso.html#Iso"><span class="hs-identifier hs-type">Iso</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124481"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124477"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124480"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124477"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124479"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124478"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-435"></span><span>
</span><span id="line-436"></span><span class="hs-comment">-- Fon uncluttering types in below instances a bit.</span><span>
</span><span id="line-437"></span><span class="hs-keyword">type</span><span> </span><span id="F"><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-var">F</span></a></span></span><span> </span><span id="local-6989586621679123818"><span class="annot"><a href="#local-6989586621679123818"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679123817"><span class="annot"><a href="#local-6989586621679123817"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="annot"><a href="#local-6989586621679123818"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rec0</span></span><span> </span><span class="annot"><a href="#local-6989586621679123817"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-438"></span><span>
</span><span id="line-439"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-440"></span><span>  </span><span id="local-6989586621679124468"><span id="local-6989586621679124469"><span id="local-6989586621679124470"><span id="local-6989586621679124471"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Optics.Internal.Magic.html#Dysfunctional"><span class="hs-identifier hs-type">Dysfunctional</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124471"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124470"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124469"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124468"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-441"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span>
</span><span id="line-442"></span><span>    </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Generic based access supports constructors&quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:$$:</span><span>
</span><span id="line-443"></span><span>     </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;containing up to 5 fields. Please generate&quot;</span></span><span> </span><span class="hs-special">'</span><span class="hs-operator">:$$:</span><span>
</span><span id="line-444"></span><span>     </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;PrismS with Template Haskell if you need more.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-445"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier hs-type">GConstructorTuple</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124471"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124470"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124469"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124468"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-446"></span><span>  </span><span id="local-6989586621679123809"><span class="annot"><span class="annottext">gconstructorTuple :: forall x. Iso (g x) (h x) a b
</span><a href="#local-6989586621679123809"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorTuple</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;unreachable&quot;</span></span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-449"></span><span>  </span><span id="local-6989586621679124461"><span id="local-6989586621679124462"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679124462"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-450"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124461"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-451"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier hs-type">GConstructorTuple</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="annot"><a href="#local-6989586621679124462"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124461"><span class="hs-identifier hs-type">b</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-452"></span><span>  </span><span id="local-6989586621679123801"><span class="annot"><span class="annottext">gconstructorTuple :: forall x. Iso (U1 x) (U1 x) a b
</span><a href="#local-6989586621679123801"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorTuple</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall p q. Iso (U1 p) (U1 q) () ()
</span><a href="Optics.Internal.Generic.html#_U1"><span class="hs-identifier hs-var">_U1</span></a></span><span>
</span><span id="line-453"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-pragma hs-type">gconstructorTuple</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-454"></span><span>
</span><span id="line-455"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-456"></span><span>  </span><span id="local-6989586621679124450"><span id="local-6989586621679124451"><span id="local-6989586621679124452"><span id="local-6989586621679124453"><span id="local-6989586621679124454"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679124454"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679124453"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-457"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124452"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679124451"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-458"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier hs-type">GConstructorTuple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124450"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124453"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124450"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124451"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124454"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124452"><span class="hs-identifier hs-type">s</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-459"></span><span>  </span><span id="local-6989586621679123790"><span class="annot"><span class="annottext">gconstructorTuple :: forall x. Iso (F m a x) (F m b x) r s
</span><a href="#local-6989586621679123790"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorTuple</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a t b. (Coercible s a, Coercible t b) =&gt; Iso s t a b
</span><a href="Optics.Iso.html#coerced"><span class="hs-identifier hs-var">coerced</span></a></span><span>
</span><span id="line-460"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-pragma hs-type">gconstructorTuple</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-461"></span><span>
</span><span id="line-462"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-463"></span><span>  </span><span id="local-6989586621679124433"><span id="local-6989586621679124434"><span id="local-6989586621679124435"><span id="local-6989586621679124436"><span id="local-6989586621679124437"><span id="local-6989586621679124438"><span id="local-6989586621679124439"><span id="local-6989586621679124440"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679124440"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124439"><span class="hs-identifier hs-type">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124438"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-464"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124437"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124436"><span class="hs-identifier hs-type">b1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124435"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-465"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier hs-type">GConstructorTuple</span></a></span><span>
</span><span id="line-466"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124434"><span class="hs-identifier hs-type">m1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124439"><span class="hs-identifier hs-type">a1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124433"><span class="hs-identifier hs-type">m2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124438"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-467"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124434"><span class="hs-identifier hs-type">m1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124436"><span class="hs-identifier hs-type">b1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124433"><span class="hs-identifier hs-type">m2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124435"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124440"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124437"><span class="hs-identifier hs-type">s</span></a></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-468"></span><span>  </span><span id="local-6989586621679123783"><span class="annot"><span class="annottext">gconstructorTuple :: forall x.
Iso ((:*:) (F m1 a1) (F m2 a2) x) ((:*:) (F m1 b1) (F m2 b2) x) r s
</span><a href="#local-6989586621679123783"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorTuple</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a b t. (s -&gt; a) -&gt; (b -&gt; t) -&gt; Iso s t a b
</span><a href="Optics.Iso.html#iso"><span class="hs-identifier hs-var">iso</span></a></span><span>
</span><span id="line-469"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679123782"><span class="annot"><span class="annottext">a1
</span><a href="#local-6989586621679123782"><span class="hs-identifier hs-var">a1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679123781"><span class="annot"><span class="annottext">a2
</span><a href="#local-6989586621679123781"><span class="hs-identifier hs-var">a2</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a1
</span><a href="#local-6989586621679123782"><span class="hs-identifier hs-var">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a2
</span><a href="#local-6989586621679123781"><span class="hs-identifier hs-var">a2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-470"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679123780"><span class="annot"><span class="annottext">b1
</span><a href="#local-6989586621679123780"><span class="hs-identifier hs-var">b1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679123779"><span class="annot"><span class="annottext">b2
</span><a href="#local-6989586621679123779"><span class="hs-identifier hs-var">b2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b1
</span><a href="#local-6989586621679123780"><span class="hs-identifier hs-var">b1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b2
</span><a href="#local-6989586621679123779"><span class="hs-identifier hs-var">b2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-471"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-pragma hs-type">gconstructorTuple</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-472"></span><span>
</span><span id="line-473"></span><span class="hs-comment">-- | Only for a derived balanced representation.</span><span>
</span><span id="line-474"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-475"></span><span>  </span><span id="local-6989586621679124410"><span id="local-6989586621679124411"><span id="local-6989586621679124412"><span id="local-6989586621679124413"><span id="local-6989586621679124414"><span id="local-6989586621679124415"><span id="local-6989586621679124416"><span id="local-6989586621679124417"><span id="local-6989586621679124418"><span id="local-6989586621679124419"><span id="local-6989586621679124420"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679124420"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124419"><span class="hs-identifier hs-type">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124418"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124417"><span class="hs-identifier hs-type">a3</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-476"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124416"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124415"><span class="hs-identifier hs-type">b1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124414"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124413"><span class="hs-identifier hs-type">b3</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-477"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier hs-type">GConstructorTuple</span></a></span><span>
</span><span id="line-478"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124412"><span class="hs-identifier hs-type">m1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124419"><span class="hs-identifier hs-type">a1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124411"><span class="hs-identifier hs-type">m2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124418"><span class="hs-identifier hs-type">a2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124410"><span class="hs-identifier hs-type">m3</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124417"><span class="hs-identifier hs-type">a3</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-479"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124412"><span class="hs-identifier hs-type">m1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124415"><span class="hs-identifier hs-type">b1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124411"><span class="hs-identifier hs-type">m2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124414"><span class="hs-identifier hs-type">b2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124410"><span class="hs-identifier hs-type">m3</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124413"><span class="hs-identifier hs-type">b3</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124420"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124416"><span class="hs-identifier hs-type">s</span></a></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-480"></span><span>  </span><span id="local-6989586621679123772"><span class="annot"><span class="annottext">gconstructorTuple :: forall x.
Iso
  ((:*:) (F m1 a1) (F m2 a2 :*: F m3 a3) x)
  ((:*:) (F m1 b1) (F m2 b2 :*: F m3 b3) x)
  r
  s
</span><a href="#local-6989586621679123772"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorTuple</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a b t. (s -&gt; a) -&gt; (b -&gt; t) -&gt; Iso s t a b
</span><a href="Optics.Iso.html#iso"><span class="hs-identifier hs-var">iso</span></a></span><span>
</span><span id="line-481"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679123771"><span class="annot"><span class="annottext">a1
</span><a href="#local-6989586621679123771"><span class="hs-identifier hs-var">a1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679123770"><span class="annot"><span class="annottext">a2
</span><a href="#local-6989586621679123770"><span class="hs-identifier hs-var">a2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679123769"><span class="annot"><span class="annottext">a3
</span><a href="#local-6989586621679123769"><span class="hs-identifier hs-var">a3</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a1
</span><a href="#local-6989586621679123771"><span class="hs-identifier hs-var">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a2
</span><a href="#local-6989586621679123770"><span class="hs-identifier hs-var">a2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a3
</span><a href="#local-6989586621679123769"><span class="hs-identifier hs-var">a3</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-482"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679123768"><span class="annot"><span class="annottext">b1
</span><a href="#local-6989586621679123768"><span class="hs-identifier hs-var">b1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679123767"><span class="annot"><span class="annottext">b2
</span><a href="#local-6989586621679123767"><span class="hs-identifier hs-var">b2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679123766"><span class="annot"><span class="annottext">b3
</span><a href="#local-6989586621679123766"><span class="hs-identifier hs-var">b3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b1
</span><a href="#local-6989586621679123768"><span class="hs-identifier hs-var">b1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b2
</span><a href="#local-6989586621679123767"><span class="hs-identifier hs-var">b2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b3
</span><a href="#local-6989586621679123766"><span class="hs-identifier hs-var">b3</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-483"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-pragma hs-type">gconstructorTuple</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-484"></span><span>
</span><span id="line-485"></span><span class="hs-comment">-- | Only for a derived balanced representation.</span><span>
</span><span id="line-486"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-487"></span><span>  </span><span id="local-6989586621679124381"><span id="local-6989586621679124382"><span id="local-6989586621679124383"><span id="local-6989586621679124384"><span id="local-6989586621679124385"><span id="local-6989586621679124386"><span id="local-6989586621679124387"><span id="local-6989586621679124388"><span id="local-6989586621679124389"><span id="local-6989586621679124390"><span id="local-6989586621679124391"><span id="local-6989586621679124392"><span id="local-6989586621679124393"><span id="local-6989586621679124394"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679124394"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124393"><span class="hs-identifier hs-type">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124392"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124391"><span class="hs-identifier hs-type">a3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124390"><span class="hs-identifier hs-type">a4</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-488"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124389"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124388"><span class="hs-identifier hs-type">b1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124387"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124386"><span class="hs-identifier hs-type">b3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124385"><span class="hs-identifier hs-type">b4</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-489"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier hs-type">GConstructorTuple</span></a></span><span>
</span><span id="line-490"></span><span>         </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124384"><span class="hs-identifier hs-type">m1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124393"><span class="hs-identifier hs-type">a1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124383"><span class="hs-identifier hs-type">m2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124392"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124382"><span class="hs-identifier hs-type">m3</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124391"><span class="hs-identifier hs-type">a3</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124381"><span class="hs-identifier hs-type">m4</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124390"><span class="hs-identifier hs-type">a4</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-491"></span><span>         </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124384"><span class="hs-identifier hs-type">m1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124388"><span class="hs-identifier hs-type">b1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124383"><span class="hs-identifier hs-type">m2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124387"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124382"><span class="hs-identifier hs-type">m3</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124386"><span class="hs-identifier hs-type">b3</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124381"><span class="hs-identifier hs-type">m4</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124385"><span class="hs-identifier hs-type">b4</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124394"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124389"><span class="hs-identifier hs-type">s</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-492"></span><span>  </span><span id="local-6989586621679123759"><span class="annot"><span class="annottext">gconstructorTuple :: forall x.
Iso
  ((:*:) (F m1 a1 :*: F m2 a2) (F m3 a3 :*: F m4 a4) x)
  ((:*:) (F m1 b1 :*: F m2 b2) (F m3 b3 :*: F m4 b4) x)
  r
  s
</span><a href="#local-6989586621679123759"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorTuple</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a b t. (s -&gt; a) -&gt; (b -&gt; t) -&gt; Iso s t a b
</span><a href="Optics.Iso.html#iso"><span class="hs-identifier hs-var">iso</span></a></span><span>
</span><span id="line-493"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679123758"><span class="annot"><span class="annottext">a1
</span><a href="#local-6989586621679123758"><span class="hs-identifier hs-var">a1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679123757"><span class="annot"><span class="annottext">a2
</span><a href="#local-6989586621679123757"><span class="hs-identifier hs-var">a2</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679123756"><span class="annot"><span class="annottext">a3
</span><a href="#local-6989586621679123756"><span class="hs-identifier hs-var">a3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679123755"><span class="annot"><span class="annottext">a4
</span><a href="#local-6989586621679123755"><span class="hs-identifier hs-var">a4</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a1
</span><a href="#local-6989586621679123758"><span class="hs-identifier hs-var">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a2
</span><a href="#local-6989586621679123757"><span class="hs-identifier hs-var">a2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a3
</span><a href="#local-6989586621679123756"><span class="hs-identifier hs-var">a3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a4
</span><a href="#local-6989586621679123755"><span class="hs-identifier hs-var">a4</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-494"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679123754"><span class="annot"><span class="annottext">b1
</span><a href="#local-6989586621679123754"><span class="hs-identifier hs-var">b1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679123753"><span class="annot"><span class="annottext">b2
</span><a href="#local-6989586621679123753"><span class="hs-identifier hs-var">b2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679123752"><span class="annot"><span class="annottext">b3
</span><a href="#local-6989586621679123752"><span class="hs-identifier hs-var">b3</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679123751"><span class="annot"><span class="annottext">b4
</span><a href="#local-6989586621679123751"><span class="hs-identifier hs-var">b4</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b1
</span><a href="#local-6989586621679123754"><span class="hs-identifier hs-var">b1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b2
</span><a href="#local-6989586621679123753"><span class="hs-identifier hs-var">b2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b3
</span><a href="#local-6989586621679123752"><span class="hs-identifier hs-var">b3</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b4
</span><a href="#local-6989586621679123751"><span class="hs-identifier hs-var">b4</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-495"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-pragma hs-type">gconstructorTuple</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-496"></span><span>
</span><span id="line-497"></span><span class="hs-comment">-- | Only for a derived balanced representation.</span><span>
</span><span id="line-498"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-499"></span><span>  </span><span id="local-6989586621679124346"><span id="local-6989586621679124347"><span id="local-6989586621679124348"><span id="local-6989586621679124349"><span id="local-6989586621679124350"><span id="local-6989586621679124351"><span id="local-6989586621679124352"><span id="local-6989586621679124353"><span id="local-6989586621679124354"><span id="local-6989586621679124355"><span id="local-6989586621679124356"><span id="local-6989586621679124357"><span id="local-6989586621679124358"><span id="local-6989586621679124359"><span id="local-6989586621679124360"><span id="local-6989586621679124361"><span id="local-6989586621679124362"><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679124362"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124361"><span class="hs-identifier hs-type">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124360"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124359"><span class="hs-identifier hs-type">a3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124358"><span class="hs-identifier hs-type">a4</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124357"><span class="hs-identifier hs-type">a5</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-500"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124356"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124355"><span class="hs-identifier hs-type">b1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124354"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124353"><span class="hs-identifier hs-type">b3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124352"><span class="hs-identifier hs-type">b4</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679124351"><span class="hs-identifier hs-type">b5</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-501"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GConstructorTuple"><span class="hs-identifier hs-type">GConstructorTuple</span></a></span><span>
</span><span id="line-502"></span><span>         </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124350"><span class="hs-identifier hs-type">m1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124361"><span class="hs-identifier hs-type">a1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124349"><span class="hs-identifier hs-type">m2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124360"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124348"><span class="hs-identifier hs-type">m3</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124359"><span class="hs-identifier hs-type">a3</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124347"><span class="hs-identifier hs-type">m4</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124358"><span class="hs-identifier hs-type">a4</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124346"><span class="hs-identifier hs-type">m5</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124357"><span class="hs-identifier hs-type">a5</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-503"></span><span>         </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124350"><span class="hs-identifier hs-type">m1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124355"><span class="hs-identifier hs-type">b1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124349"><span class="hs-identifier hs-type">m2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124354"><span class="hs-identifier hs-type">b2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124348"><span class="hs-identifier hs-type">m3</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124353"><span class="hs-identifier hs-type">b3</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124347"><span class="hs-identifier hs-type">m4</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124352"><span class="hs-identifier hs-type">b4</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124346"><span class="hs-identifier hs-type">m5</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124351"><span class="hs-identifier hs-type">b5</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124362"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124356"><span class="hs-identifier hs-type">s</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-504"></span><span>  </span><span id="local-6989586621679123744"><span class="annot"><span class="annottext">gconstructorTuple :: forall x.
Iso
  ((:*:) (F m1 a1 :*: F m2 a2) (F m3 a3 :*: (F m4 a4 :*: F m5 a5)) x)
  ((:*:) (F m1 b1 :*: F m2 b2) (F m3 b3 :*: (F m4 b4 :*: F m5 b5)) x)
  r
  s
</span><a href="#local-6989586621679123744"><span class="hs-identifier hs-var hs-var hs-var hs-var">gconstructorTuple</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a b t. (s -&gt; a) -&gt; (b -&gt; t) -&gt; Iso s t a b
</span><a href="Optics.Iso.html#iso"><span class="hs-identifier hs-var">iso</span></a></span><span>
</span><span id="line-505"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679123743"><span class="annot"><span class="annottext">a1
</span><a href="#local-6989586621679123743"><span class="hs-identifier hs-var">a1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679123742"><span class="annot"><span class="annottext">a2
</span><a href="#local-6989586621679123742"><span class="hs-identifier hs-var">a2</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679123741"><span class="annot"><span class="annottext">a3
</span><a href="#local-6989586621679123741"><span class="hs-identifier hs-var">a3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679123740"><span class="annot"><span class="annottext">a4
</span><a href="#local-6989586621679123740"><span class="hs-identifier hs-var">a4</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679123739"><span class="annot"><span class="annottext">a5
</span><a href="#local-6989586621679123739"><span class="hs-identifier hs-var">a5</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-506"></span><span>       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a1
</span><a href="#local-6989586621679123743"><span class="hs-identifier hs-var">a1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a2
</span><a href="#local-6989586621679123742"><span class="hs-identifier hs-var">a2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a3
</span><a href="#local-6989586621679123741"><span class="hs-identifier hs-var">a3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a4
</span><a href="#local-6989586621679123740"><span class="hs-identifier hs-var">a4</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a5
</span><a href="#local-6989586621679123739"><span class="hs-identifier hs-var">a5</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-507"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679123738"><span class="annot"><span class="annottext">b1
</span><a href="#local-6989586621679123738"><span class="hs-identifier hs-var">b1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679123737"><span class="annot"><span class="annottext">b2
</span><a href="#local-6989586621679123737"><span class="hs-identifier hs-var">b2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679123736"><span class="annot"><span class="annottext">b3
</span><a href="#local-6989586621679123736"><span class="hs-identifier hs-var">b3</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679123735"><span class="annot"><span class="annottext">b4
</span><a href="#local-6989586621679123735"><span class="hs-identifier hs-var">b4</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679123734"><span class="annot"><span class="annottext">b5
</span><a href="#local-6989586621679123734"><span class="hs-identifier hs-var">b5</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-508"></span><span>       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b1
</span><a href="#local-6989586621679123738"><span class="hs-identifier hs-var">b1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b2
</span><a href="#local-6989586621679123737"><span class="hs-identifier hs-var">b2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b3
</span><a href="#local-6989586621679123736"><span class="hs-identifier hs-var">b3</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b4
</span><a href="#local-6989586621679123735"><span class="hs-identifier hs-var">b4</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">:*:</span></span><span> </span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">b5
</span><a href="#local-6989586621679123734"><span class="hs-identifier hs-var">b5</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-509"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gconstructorTuple"><span class="hs-pragma hs-type">gconstructorTuple</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-510"></span><span>
</span><span id="line-511"></span><span class="hs-comment">----------------------------------------</span><span>
</span><span id="line-512"></span><span class="hs-comment">-- Types</span><span>
</span><span id="line-513"></span><span>
</span><span id="line-514"></span><span class="hs-keyword">class</span><span> </span><span id="GPlateImpl"><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-var">GPlateImpl</span></a></span></span><span> </span><span id="local-6989586621679124344"><span class="annot"><a href="#local-6989586621679124344"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span id="local-6989586621679124342"><span class="annot"><a href="#local-6989586621679124342"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-515"></span><span>  </span><span id="gplateImpl"><span class="annot"><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-type">gplateImpl</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679124343"><span class="annot"><a href="Optics.Traversal.html#TraversalVL%27"><span class="hs-identifier hs-type">TraversalVL'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124344"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124343"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124342"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-516"></span><span>
</span><span id="line-517"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679124332"><span id="local-6989586621679124333"><span id="local-6989586621679124334"><span id="local-6989586621679124335"><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124335"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124334"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span class="annot"><a href="#local-6989586621679124333"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124332"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124335"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124334"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-518"></span><span>  </span><span id="local-6989586621679123722"><span class="annot"><span class="annottext">gplateImpl :: forall x. TraversalVL' (M1 i c f x) a
</span><a href="#local-6989586621679123722"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateImpl</span></a></span></span><span> </span><span id="local-6989586621679123721"><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679123721"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">M1</span></span><span> </span><span id="local-6989586621679123720"><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679123720"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k i (c :: Meta) (f :: k -&gt; *) (p :: k). f p -&gt; M1 i c f p
</span><span class="hs-identifier hs-var">M1</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (g :: * -&gt; *) a x. GPlateImpl g a =&gt; TraversalVL' (g x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var">gplateImpl</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679123721"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679123720"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-519"></span><span>
</span><span id="line-520"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679124323"><span id="local-6989586621679124324"><span id="local-6989586621679124325"><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124325"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124324"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124323"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124324"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124325"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:+:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124323"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124324"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-521"></span><span>  </span><span id="local-6989586621679123707"><span class="annot"><span class="annottext">gplateImpl :: forall x. TraversalVL' ((:+:) f g x) a
</span><a href="#local-6989586621679123707"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateImpl</span></a></span></span><span> </span><span id="local-6989586621679123706"><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679123706"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">L1</span></span><span> </span><span id="local-6989586621679123705"><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679123705"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). f p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">L1</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (g :: * -&gt; *) a x. GPlateImpl g a =&gt; TraversalVL' (g x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var">gplateImpl</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679123706"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679123705"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-522"></span><span>  </span><span class="annot"><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var">gplateImpl</span></a></span><span> </span><span id="local-6989586621679123704"><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679123704"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">R1</span></span><span> </span><span id="local-6989586621679123703"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679123703"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k). g p -&gt; (:+:) f g p
</span><span class="hs-identifier hs-var">R1</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (g :: * -&gt; *) a x. GPlateImpl g a =&gt; TraversalVL' (g x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var">gplateImpl</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679123704"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679123703"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-523"></span><span>
</span><span id="line-524"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679124315"><span id="local-6989586621679124316"><span id="local-6989586621679124317"><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124317"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124316"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124315"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124316"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679124317"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span class="annot"><a href="#local-6989586621679124315"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124316"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-525"></span><span>  </span><span id="local-6989586621679123690"><span class="annot"><span class="annottext">gplateImpl :: forall x. TraversalVL' ((:*:) f g x) a
</span><a href="#local-6989586621679123690"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateImpl</span></a></span></span><span> </span><span id="local-6989586621679123689"><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679123689"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679123688"><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679123688"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:*:</span></span><span> </span><span id="local-6989586621679123687"><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679123687"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k (f :: k -&gt; *) (g :: k -&gt; *) (p :: k).
f p -&gt; g p -&gt; (:*:) f g p
</span><span class="hs-operator hs-var">(:*:)</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (g :: * -&gt; *) a x. GPlateImpl g a =&gt; TraversalVL' (g x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var">gplateImpl</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679123689"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679123688"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (g :: * -&gt; *) a x. GPlateImpl g a =&gt; TraversalVL' (g x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var">gplateImpl</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679123689"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">g x
</span><a href="#local-6989586621679123687"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-526"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-pragma hs-type">gplateImpl</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-527"></span><span>
</span><span id="line-528"></span><span class="hs-comment">-- | Matching type.</span><span>
</span><span id="line-529"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPING</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621679124307"><span id="local-6989586621679124308"><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679124308"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124307"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124307"><span class="hs-identifier hs-type">a</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-530"></span><span>  </span><span id="local-6989586621679123681"><span class="annot"><span class="annottext">gplateImpl :: forall x. TraversalVL' (K1 i a x) a
</span><a href="#local-6989586621679123681"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateImpl</span></a></span></span><span> </span><span id="local-6989586621679123680"><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679123680"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679123679"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679123679"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679123680"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679123679"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-531"></span><span>
</span><span id="line-532"></span><span class="hs-comment">-- | Recurse into the inner type if it has a 'Generic' instance.</span><span>
</span><span id="line-533"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679124297"><span id="local-6989586621679124298"><span id="local-6989586621679124299"><span class="annot"><a href="Optics.Internal.Generic.html#GPlateInner"><span class="hs-identifier hs-type">GPlateInner</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#Defined"><span class="hs-identifier hs-type">Defined</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679124299"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124299"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124298"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span class="annot"><a href="#local-6989586621679124297"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124299"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124298"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-534"></span><span>  </span><span id="local-6989586621679123670"><span class="annot"><span class="annottext">gplateImpl :: forall x. TraversalVL' (K1 i b x) a
</span><a href="#local-6989586621679123670"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateImpl</span></a></span></span><span> </span><span id="local-6989586621679123669"><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679123669"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">K1</span></span><span> </span><span id="local-6989586621679123668"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679123668"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k i c (p :: k). c -&gt; K1 i c p
</span><span class="hs-identifier hs-var">K1</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (repDefined :: Bool) s a.
GPlateInner repDefined s a =&gt;
TraversalVL' s a
</span><a href="Optics.Internal.Generic.html#gplateInner"><span class="hs-identifier hs-var">gplateInner</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Optics.Internal.Optic.TypeLevel.html#Defined"><span class="hs-identifier hs-type">Defined</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679124299"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679123669"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679123668"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-535"></span><span>
</span><span id="line-536"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679124290"><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">U1</span></span><span> </span><span class="annot"><a href="#local-6989586621679124290"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-537"></span><span>  </span><span id="local-6989586621679123662"><span class="annot"><span class="annottext">gplateImpl :: forall x. TraversalVL' (U1 x) a
</span><a href="#local-6989586621679123662"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateImpl</span></a></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-538"></span><span>
</span><span id="line-539"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679124286"><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">V1</span></span><span> </span><span class="annot"><a href="#local-6989586621679124286"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-540"></span><span>  </span><span id="local-6989586621679123658"><span class="annot"><span class="annottext">gplateImpl :: forall x. TraversalVL' (V1 x) a
</span><a href="#local-6989586621679123658"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateImpl</span></a></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>
</span><span id="line-541"></span><span>
</span><span id="line-542"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679124280"><span id="local-6989586621679124281"><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">URec</span></span><span> </span><span class="annot"><a href="#local-6989586621679124281"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124280"><span class="hs-identifier hs-type">a</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-543"></span><span>  </span><span id="local-6989586621679123653"><span class="annot"><span class="annottext">gplateImpl :: forall x. TraversalVL' (URec b x) a
</span><a href="#local-6989586621679123653"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateImpl</span></a></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-544"></span><span>
</span><span id="line-545"></span><span class="hs-keyword">class</span><span> </span><span id="GPlateInner"><span class="annot"><a href="Optics.Internal.Generic.html#GPlateInner"><span class="hs-identifier hs-var">GPlateInner</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679124294"><span class="annot"><a href="#local-6989586621679124294"><span class="hs-identifier hs-type">repDefined</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679124293"><span class="annot"><a href="#local-6989586621679124293"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679124292"><span class="annot"><a href="#local-6989586621679124292"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-546"></span><span>  </span><span id="gplateInner"><span class="annot"><a href="Optics.Internal.Generic.html#gplateInner"><span class="hs-identifier hs-type">gplateInner</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Optics.Traversal.html#TraversalVL%27"><span class="hs-identifier hs-type">TraversalVL'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124293"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124292"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-547"></span><span>
</span><span id="line-548"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679124275"><span id="local-6989586621679124276"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Generic</span></span><span> </span><span class="annot"><a href="#local-6989586621679124276"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateImpl"><span class="hs-identifier hs-type">GPlateImpl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rep</span></span><span> </span><span class="annot"><a href="#local-6989586621679124276"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679124275"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Optics.Internal.Generic.html#GPlateInner"><span class="hs-identifier hs-type">GPlateInner</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="annot"><a href="#local-6989586621679124276"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124275"><span class="hs-identifier hs-type">a</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-549"></span><span>  </span><span id="local-6989586621679123640"><span class="annot"><span class="annottext">gplateInner :: TraversalVL' s a
</span><a href="#local-6989586621679123640"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateInner</span></a></span></span><span> </span><span id="local-6989586621679123639"><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679123639"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">forall a x. Generic a =&gt; Rep a x -&gt; a
</span><span class="hs-identifier hs-var">to</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (g :: * -&gt; *) a x. GPlateImpl g a =&gt; TraversalVL' (g x) a
</span><a href="Optics.Internal.Generic.html#gplateImpl"><span class="hs-identifier hs-var">gplateImpl</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679123639"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a x. Generic a =&gt; a -&gt; Rep a x
</span><span class="hs-identifier hs-var">from</span></span><span>
</span><span id="line-550"></span><span>
</span><span id="line-551"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# INCOHERENT</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621679124268"><span id="local-6989586621679124269"><span id="local-6989586621679124270"><span class="annot"><a href="Optics.Internal.Generic.html#GPlateInner"><span class="hs-identifier hs-type">GPlateInner</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124270"><span class="hs-identifier hs-type">repNotDefined</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124269"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679124268"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-552"></span><span>  </span><span id="local-6989586621679123634"><span class="annot"><span class="annottext">gplateInner :: TraversalVL' s a
</span><a href="#local-6989586621679123634"><span class="hs-identifier hs-var hs-var hs-var hs-var">gplateInner</span></a></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-553"></span><span>
</span><span id="line-554"></span><span class="hs-comment">-- $setup</span><span>
</span><span id="line-555"></span><span class="hs-comment">-- &gt;&gt;&gt; import Optics.Core</span><span>
</span><span id="line-556"></span></pre></body></html>