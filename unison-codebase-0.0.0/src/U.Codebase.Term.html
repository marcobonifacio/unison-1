<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">U.Codebase.Term</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Lens</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">List</span></span><span class="hs-special">)</span><span>
</span><span id="line-4"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.State</span></span><span>
</span><span id="line-5"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Writer</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Writer</span></span><span>
</span><span id="line-6"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Foldable</span></span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">U.Codebase.Reference</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Reference</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Reference'</span></span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">U.Codebase.Reference</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Reference</span></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="U.Codebase.Referent.html"><span class="hs-identifier">U.Codebase.Referent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Referent.html#Referent%27"><span class="hs-identifier">Referent'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="U.Codebase.Referent.html"><span class="hs-identifier">U.Codebase.Referent</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Referent</span></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="U.Codebase.Type.html"><span class="hs-identifier">U.Codebase.Type</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Type.html#TypeR"><span class="hs-identifier">TypeR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="U.Codebase.Type.html"><span class="hs-identifier">U.Codebase.Type</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Type</span></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">U.Core.ABT</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ABT</span></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">U.Core.ABT.Var</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ABT</span></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Unison.Hash</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Hash</span></span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Unison.Prelude</span></span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-keyword">type</span><span> </span><span id="ConstructorId"><span class="annot"><a href="U.Codebase.Term.html#ConstructorId"><span class="hs-identifier hs-var">ConstructorId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span class="hs-keyword">type</span><span> </span><span id="Term"><span class="annot"><a href="U.Codebase.Term.html#Term"><span class="hs-identifier hs-var">Term</span></a></span></span><span> </span><span id="local-6989586621679140415"><span class="annot"><a href="#local-6989586621679140415"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ABT.Term</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140415"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679140415"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span class="hs-comment">-- | A version of 'Term' but where TermRefs never have a 'Nothing' Hash, but instead self references</span><span>
</span><span id="line-25"></span><span class="hs-comment">-- are filled with User Variable references</span><span>
</span><span id="line-26"></span><span class="hs-comment">-- to the relevant piece of the component in a component map.</span><span>
</span><span id="line-27"></span><span class="hs-keyword">type</span><span> </span><span id="HashableTerm"><span class="annot"><a href="U.Codebase.Term.html#HashableTerm"><span class="hs-identifier hs-var">HashableTerm</span></a></span></span><span> </span><span id="local-6989586621679140414"><span class="annot"><a href="#local-6989586621679140414"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ABT.Term</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-type">F'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><a href="U.Codebase.Term.html#HashableTermRef"><span class="hs-identifier hs-type">HashableTermRef</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Term.html#TypeRef"><span class="hs-identifier hs-type">TypeRef</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Term.html#HashableTermLink"><span class="hs-identifier hs-type">HashableTermLink</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Term.html#TypeLink"><span class="hs-identifier hs-type">TypeLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140414"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679140414"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span class="hs-keyword">type</span><span> </span><span id="Type"><span class="annot"><a href="U.Codebase.Term.html#Type"><span class="hs-identifier hs-var">Type</span></a></span></span><span> </span><span id="local-6989586621679140410"><span class="annot"><a href="#local-6989586621679140410"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="U.Codebase.Type.html#TypeR"><span class="hs-identifier hs-type">TypeR</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Term.html#TypeRef"><span class="hs-identifier hs-type">TypeRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140410"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-keyword">type</span><span> </span><span id="TermRef"><span class="annot"><a href="U.Codebase.Term.html#TermRef"><span class="hs-identifier hs-var">TermRef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference'</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Hash</span></span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-keyword">type</span><span> </span><span id="HashableTermRef"><span class="annot"><a href="U.Codebase.Term.html#HashableTermRef"><span class="hs-identifier hs-var">HashableTermRef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference'</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Hash</span></span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span class="hs-keyword">type</span><span> </span><span id="TypeRef"><span class="annot"><a href="U.Codebase.Term.html#TypeRef"><span class="hs-identifier hs-var">TypeRef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference</span></span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-keyword">type</span><span> </span><span id="TermLink"><span class="annot"><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-var">TermLink</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="U.Codebase.Referent.html#Referent%27"><span class="hs-identifier hs-type">Referent'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference'</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Hash</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference'</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Hash</span></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="hs-keyword">type</span><span> </span><span id="HashableTermLink"><span class="annot"><a href="U.Codebase.Term.html#HashableTermLink"><span class="hs-identifier hs-var">HashableTermLink</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="U.Codebase.Referent.html#Referent%27"><span class="hs-identifier hs-type">Referent'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference'</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Hash</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference'</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Hash</span></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span class="hs-keyword">type</span><span> </span><span id="TypeLink"><span class="annot"><a href="U.Codebase.Term.html#TypeLink"><span class="hs-identifier hs-var">TypeLink</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference</span></span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="hs-comment">-- | Base functor for terms in the Unison codebase</span><span>
</span><span id="line-44"></span><span class="hs-keyword">type</span><span> </span><span id="F"><span class="annot"><a href="U.Codebase.Term.html#F"><span class="hs-identifier hs-var">F</span></a></span></span><span> </span><span id="local-6989586621679140408"><span class="annot"><a href="#local-6989586621679140408"><span class="hs-identifier hs-type">vt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-type">F'</span></a></span><span>
</span><span id="line-46"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-47"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#TermRef"><span class="hs-identifier hs-type">TermRef</span></a></span><span>
</span><span id="line-48"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#TypeRef"><span class="hs-identifier hs-type">TypeRef</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-type">TermLink</span></a></span><span>
</span><span id="line-50"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#TypeLink"><span class="hs-identifier hs-type">TypeLink</span></a></span><span>
</span><span id="line-51"></span><span>    </span><span class="annot"><a href="#local-6989586621679140408"><span class="hs-identifier hs-type">vt</span></a></span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="hs-comment">-- | Generalized version.  We could generalize further to allow sharing within</span><span>
</span><span id="line-54"></span><span class="hs-comment">--  terms.</span><span>
</span><span id="line-55"></span><span class="hs-keyword">data</span><span> </span><span id="F%27"><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-var">F'</span></a></span></span><span> </span><span id="local-6989586621679140918"><span class="annot"><a href="#local-6989586621679140918"><span class="hs-identifier hs-type">text</span></a></span></span><span> </span><span id="local-6989586621679140917"><span class="annot"><a href="#local-6989586621679140917"><span class="hs-identifier hs-type">termRef</span></a></span></span><span> </span><span id="local-6989586621679140916"><span class="annot"><a href="#local-6989586621679140916"><span class="hs-identifier hs-type">typeRef</span></a></span></span><span> </span><span id="local-6989586621679140915"><span class="annot"><a href="#local-6989586621679140915"><span class="hs-identifier hs-type">termLink</span></a></span></span><span> </span><span id="local-6989586621679140914"><span class="annot"><a href="#local-6989586621679140914"><span class="hs-identifier hs-type">typeLink</span></a></span></span><span> </span><span id="local-6989586621679140913"><span class="annot"><a href="#local-6989586621679140913"><span class="hs-identifier hs-type">vt</span></a></span></span><span> </span><span id="local-6989586621679140875"><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Int"><span class="annot"><a href="U.Codebase.Term.html#Int"><span class="hs-identifier hs-var">Int</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int64</span></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Nat"><span class="annot"><a href="U.Codebase.Term.html#Nat"><span class="hs-identifier hs-var">Nat</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Float"><span class="annot"><a href="U.Codebase.Term.html#Float"><span class="hs-identifier hs-var">Float</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Boolean"><span class="annot"><a href="U.Codebase.Term.html#Boolean"><span class="hs-identifier hs-var">Boolean</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Text"><span class="annot"><a href="U.Codebase.Term.html#Text"><span class="hs-identifier hs-var">Text</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679140918"><span class="hs-identifier hs-type">text</span></a></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Char"><span class="annot"><a href="U.Codebase.Term.html#Char"><span class="hs-identifier hs-var">Char</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Ref"><span class="annot"><a href="U.Codebase.Term.html#Ref"><span class="hs-identifier hs-var">Ref</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679140917"><span class="hs-identifier hs-type">termRef</span></a></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- First argument identifies the data type,</span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-comment">-- second argument identifies the constructor</span><span>
</span><span id="line-65"></span><span>    </span><span id="Constructor"><span class="annot"><a href="U.Codebase.Term.html#Constructor"><span class="hs-identifier hs-var">Constructor</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679140916"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Term.html#ConstructorId"><span class="hs-identifier hs-type">ConstructorId</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Request"><span class="annot"><a href="U.Codebase.Term.html#Request"><span class="hs-identifier hs-var">Request</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679140916"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="annot"><a href="U.Codebase.Term.html#ConstructorId"><span class="hs-identifier hs-type">ConstructorId</span></a></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Handle"><span class="annot"><a href="U.Codebase.Term.html#Handle"><span class="hs-identifier hs-var">Handle</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="App"><span class="annot"><a href="U.Codebase.Term.html#App"><span class="hs-identifier hs-var">App</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Ann"><span class="annot"><a href="U.Codebase.Term.html#Ann"><span class="hs-identifier hs-var">Ann</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Type.html#TypeR"><span class="hs-identifier hs-type">TypeR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140916"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140913"><span class="hs-identifier hs-type">vt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="List"><span class="annot"><a href="U.Codebase.Term.html#List"><span class="hs-identifier hs-var">List</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Seq</span></span><span> </span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="If"><span class="annot"><a href="U.Codebase.Term.html#If"><span class="hs-identifier hs-var">If</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="And"><span class="annot"><a href="U.Codebase.Term.html#And"><span class="hs-identifier hs-var">And</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Or"><span class="annot"><a href="U.Codebase.Term.html#Or"><span class="hs-identifier hs-var">Or</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Lam"><span class="annot"><a href="U.Codebase.Term.html#Lam"><span class="hs-identifier hs-var">Lam</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- Note: let rec blocks have an outer ABT.Cycle which introduces as many</span><span>
</span><span id="line-76"></span><span>    </span><span class="hs-comment">-- variables as there are bindings</span><span>
</span><span id="line-77"></span><span>    </span><span id="LetRec"><span class="annot"><a href="U.Codebase.Term.html#LetRec"><span class="hs-identifier hs-var">LetRec</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- Note: first parameter is the binding, second is the expression which may refer</span><span>
</span><span id="line-79"></span><span>    </span><span class="hs-comment">-- to this let bound variable. Constructed as `Let b (abs v e)`</span><span>
</span><span id="line-80"></span><span>    </span><span id="Let"><span class="annot"><a href="U.Codebase.Term.html#Let"><span class="hs-identifier hs-var">Let</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- Pattern matching / eliminating data types, example:</span><span>
</span><span id="line-82"></span><span>    </span><span class="hs-comment">--  case x of</span><span>
</span><span id="line-83"></span><span>    </span><span class="hs-comment">--    Just n -&gt; rhs1</span><span>
</span><span id="line-84"></span><span>    </span><span class="hs-comment">--    Nothing -&gt; rhs2</span><span>
</span><span id="line-85"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-86"></span><span>    </span><span class="hs-comment">-- translates to</span><span>
</span><span id="line-87"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-88"></span><span>    </span><span class="hs-comment">--   Match x</span><span>
</span><span id="line-89"></span><span>    </span><span class="hs-comment">--     [ (Constructor 0 [Var], ABT.abs n rhs1)</span><span>
</span><span id="line-90"></span><span>    </span><span class="hs-comment">--     , (Constructor 1 [], rhs2) ]</span><span>
</span><span id="line-91"></span><span>    </span><span id="Match"><span class="annot"><a href="U.Codebase.Term.html#Match"><span class="hs-identifier hs-var">Match</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="U.Codebase.Term.html#MatchCase"><span class="hs-identifier hs-type">MatchCase</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140918"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140916"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140875"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TermLink"><span class="annot"><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-var">TermLink</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679140915"><span class="hs-identifier hs-type">termLink</span></a></span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TypeLink"><span class="annot"><a href="U.Codebase.Term.html#TypeLink"><span class="hs-identifier hs-var">TypeLink</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679140914"><span class="hs-identifier hs-type">typeLink</span></a></span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679140316"><span id="local-6989586621679140318"><span id="local-6989586621679140320"><span id="local-6989586621679140322"><span id="local-6989586621679140324"><span id="local-6989586621679140326"><span id="local-6989586621679140329"><span id="local-6989586621679140331"><span id="local-6989586621679140333"><span id="local-6989586621679140335"><span id="local-6989586621679140337"><span id="local-6989586621679140339"><span id="local-6989586621679140341"><span id="local-6989586621679140347"><span id="local-6989586621679140349"><span id="local-6989586621679140382"><span id="local-6989586621679140384"><span class="annot"><span class="annottext">forall a. F' text termRef typeRef termLink typeLink vt a -&gt; Bool
forall m a.
Monoid m =&gt;
(a -&gt; m) -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; m
forall a b.
(a -&gt; b -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
forall text termRef typeRef termLink typeLink vt a.
Eq a =&gt;
a -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; Bool
forall text termRef typeRef termLink typeLink vt a.
Num a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
forall text termRef typeRef termLink typeLink vt a.
Ord a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
forall text termRef typeRef termLink typeLink vt m.
Monoid m =&gt;
F' text termRef typeRef termLink typeLink vt m -&gt; m
forall text termRef typeRef termLink typeLink vt a.
F' text termRef typeRef termLink typeLink vt a -&gt; Bool
forall text termRef typeRef termLink typeLink vt a.
F' text termRef typeRef termLink typeLink vt a -&gt; Int
forall text termRef typeRef termLink typeLink vt a.
F' text termRef typeRef termLink typeLink vt a -&gt; [a]
forall text termRef typeRef termLink typeLink vt a.
(a -&gt; a -&gt; a)
-&gt; F' text termRef typeRef termLink typeLink vt a -&gt; a
forall text termRef typeRef termLink typeLink vt m a.
Monoid m =&gt;
(a -&gt; m) -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; m
forall text termRef typeRef termLink typeLink vt b a.
(b -&gt; a -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
forall text termRef typeRef termLink typeLink vt a b.
(a -&gt; b -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
product :: forall a.
Num a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
$cproduct :: forall text termRef typeRef termLink typeLink vt a.
Num a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
sum :: forall a.
Num a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
$csum :: forall text termRef typeRef termLink typeLink vt a.
Num a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
minimum :: forall a.
Ord a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
$cminimum :: forall text termRef typeRef termLink typeLink vt a.
Ord a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
maximum :: forall a.
Ord a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
$cmaximum :: forall text termRef typeRef termLink typeLink vt a.
Ord a =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; a
elem :: forall a.
Eq a =&gt;
a -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; Bool
$celem :: forall text termRef typeRef termLink typeLink vt a.
Eq a =&gt;
a -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; Bool
length :: forall a. F' text termRef typeRef termLink typeLink vt a -&gt; Int
$clength :: forall text termRef typeRef termLink typeLink vt a.
F' text termRef typeRef termLink typeLink vt a -&gt; Int
null :: forall a. F' text termRef typeRef termLink typeLink vt a -&gt; Bool
$cnull :: forall text termRef typeRef termLink typeLink vt a.
F' text termRef typeRef termLink typeLink vt a -&gt; Bool
toList :: forall a. F' text termRef typeRef termLink typeLink vt a -&gt; [a]
$ctoList :: forall text termRef typeRef termLink typeLink vt a.
F' text termRef typeRef termLink typeLink vt a -&gt; [a]
foldl1 :: forall a.
(a -&gt; a -&gt; a)
-&gt; F' text termRef typeRef termLink typeLink vt a -&gt; a
$cfoldl1 :: forall text termRef typeRef termLink typeLink vt a.
(a -&gt; a -&gt; a)
-&gt; F' text termRef typeRef termLink typeLink vt a -&gt; a
foldr1 :: forall a.
(a -&gt; a -&gt; a)
-&gt; F' text termRef typeRef termLink typeLink vt a -&gt; a
$cfoldr1 :: forall text termRef typeRef termLink typeLink vt a.
(a -&gt; a -&gt; a)
-&gt; F' text termRef typeRef termLink typeLink vt a -&gt; a
foldl' :: forall b a.
(b -&gt; a -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
$cfoldl' :: forall text termRef typeRef termLink typeLink vt b a.
(b -&gt; a -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
foldl :: forall b a.
(b -&gt; a -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
$cfoldl :: forall text termRef typeRef termLink typeLink vt b a.
(b -&gt; a -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
foldr' :: forall a b.
(a -&gt; b -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
$cfoldr' :: forall text termRef typeRef termLink typeLink vt a b.
(a -&gt; b -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
foldr :: forall a b.
(a -&gt; b -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
$cfoldr :: forall text termRef typeRef termLink typeLink vt a b.
(a -&gt; b -&gt; b)
-&gt; b -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; b
foldMap' :: forall m a.
Monoid m =&gt;
(a -&gt; m) -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; m
$cfoldMap' :: forall text termRef typeRef termLink typeLink vt m a.
Monoid m =&gt;
(a -&gt; m) -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; m
foldMap :: forall m a.
Monoid m =&gt;
(a -&gt; m) -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; m
$cfoldMap :: forall text termRef typeRef termLink typeLink vt m a.
Monoid m =&gt;
(a -&gt; m) -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; m
fold :: forall m.
Monoid m =&gt;
F' text termRef typeRef termLink typeLink vt m -&gt; m
$cfold :: forall text termRef typeRef termLink typeLink vt m.
Monoid m =&gt;
F' text termRef typeRef termLink typeLink vt m -&gt; m
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679140304"><span id="local-6989586621679140313"><span class="annot"><span class="annottext">forall a b.
a
-&gt; F' text termRef typeRef termLink typeLink vt b
-&gt; F' text termRef typeRef termLink typeLink vt a
forall a b.
(a -&gt; b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; F' text termRef typeRef termLink typeLink vt b
forall text termRef typeRef termLink typeLink vt a b.
a
-&gt; F' text termRef typeRef termLink typeLink vt b
-&gt; F' text termRef typeRef termLink typeLink vt a
forall text termRef typeRef termLink typeLink vt a b.
(a -&gt; b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; F' text termRef typeRef termLink typeLink vt b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: forall a b.
a
-&gt; F' text termRef typeRef termLink typeLink vt b
-&gt; F' text termRef typeRef termLink typeLink vt a
$c&lt;$ :: forall text termRef typeRef termLink typeLink vt a b.
a
-&gt; F' text termRef typeRef termLink typeLink vt b
-&gt; F' text termRef typeRef termLink typeLink vt a
fmap :: forall a b.
(a -&gt; b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; F' text termRef typeRef termLink typeLink vt b
$cfmap :: forall text termRef typeRef termLink typeLink vt a b.
(a -&gt; b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; F' text termRef typeRef termLink typeLink vt b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679140251"><span id="local-6989586621679140253"><span id="local-6989586621679140255"><span id="local-6989586621679140292"><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt.
Functor (F' text termRef typeRef termLink typeLink vt)
forall text termRef typeRef termLink typeLink vt.
Foldable (F' text termRef typeRef termLink typeLink vt)
forall text termRef typeRef termLink typeLink vt (m :: * -&gt; *) a.
Monad m =&gt;
F' text termRef typeRef termLink typeLink vt (m a)
-&gt; m (F' text termRef typeRef termLink typeLink vt a)
forall text termRef typeRef termLink typeLink vt (f :: * -&gt; *) a.
Applicative f =&gt;
F' text termRef typeRef termLink typeLink vt (f a)
-&gt; f (F' text termRef typeRef termLink typeLink vt a)
forall text termRef typeRef termLink typeLink vt (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; m (F' text termRef typeRef termLink typeLink vt b)
forall text termRef typeRef termLink typeLink vt (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; f (F' text termRef typeRef termLink typeLink vt b)
forall (t :: * -&gt; *).
Functor t
-&gt; Foldable t
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; f (F' text termRef typeRef termLink typeLink vt b)
sequence :: forall (m :: * -&gt; *) a.
Monad m =&gt;
F' text termRef typeRef termLink typeLink vt (m a)
-&gt; m (F' text termRef typeRef termLink typeLink vt a)
$csequence :: forall text termRef typeRef termLink typeLink vt (m :: * -&gt; *) a.
Monad m =&gt;
F' text termRef typeRef termLink typeLink vt (m a)
-&gt; m (F' text termRef typeRef termLink typeLink vt a)
mapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; m (F' text termRef typeRef termLink typeLink vt b)
$cmapM :: forall text termRef typeRef termLink typeLink vt (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; m (F' text termRef typeRef termLink typeLink vt b)
sequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
F' text termRef typeRef termLink typeLink vt (f a)
-&gt; f (F' text termRef typeRef termLink typeLink vt a)
$csequenceA :: forall text termRef typeRef termLink typeLink vt (f :: * -&gt; *) a.
Applicative f =&gt;
F' text termRef typeRef termLink typeLink vt (f a)
-&gt; f (F' text termRef typeRef termLink typeLink vt a)
traverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; f (F' text termRef typeRef termLink typeLink vt b)
$ctraverse :: forall text termRef typeRef termLink typeLink vt (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b)
-&gt; F' text termRef typeRef termLink typeLink vt a
-&gt; f (F' text termRef typeRef termLink typeLink vt b)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679140176"><span id="local-6989586621679140178"><span id="local-6989586621679140247"><span class="annot"><span class="annottext">Int -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; ShowS
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall text termRef typeRef termLink typeLink vt a.
(Show text, Show termRef, Show a, Show vt, Show termLink,
 Show typeLink, Show typeRef) =&gt;
Int -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; ShowS
forall text termRef typeRef termLink typeLink vt a.
(Show text, Show termRef, Show a, Show vt, Show termLink,
 Show typeLink, Show typeRef) =&gt;
[F' text termRef typeRef termLink typeLink vt a] -&gt; ShowS
forall text termRef typeRef termLink typeLink vt a.
(Show text, Show termRef, Show a, Show vt, Show termLink,
 Show typeLink, Show typeRef) =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; String
showList :: [F' text termRef typeRef termLink typeLink vt a] -&gt; ShowS
$cshowList :: forall text termRef typeRef termLink typeLink vt a.
(Show text, Show termRef, Show a, Show vt, Show termLink,
 Show typeLink, Show typeRef) =&gt;
[F' text termRef typeRef termLink typeLink vt a] -&gt; ShowS
show :: F' text termRef typeRef termLink typeLink vt a -&gt; String
$cshow :: forall text termRef typeRef termLink typeLink vt a.
(Show text, Show termRef, Show a, Show vt, Show termLink,
 Show typeLink, Show typeRef) =&gt;
F' text termRef typeRef termLink typeLink vt a -&gt; String
showsPrec :: Int -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; ShowS
$cshowsPrec :: forall text termRef typeRef termLink typeLink vt a.
(Show text, Show termRef, Show a, Show vt, Show termLink,
 Show typeLink, Show typeRef) =&gt;
Int -&gt; F' text termRef typeRef termLink typeLink vt a -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span id="local-6989586621679140171"><span id="local-6989586621679140172"><span id="local-6989586621679140173"><span id="local-6989586621679140174"></span></span></span></span><span class="hs-keyword">data</span><span> </span><span id="MatchCase"><span class="annot"><a href="U.Codebase.Term.html#MatchCase"><span class="hs-identifier hs-var">MatchCase</span></a></span></span><span> </span><span id="local-6989586621679140912"><span class="annot"><a href="#local-6989586621679140912"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679140911"><span class="annot"><a href="#local-6989586621679140911"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621679140874"><span class="annot"><a href="#local-6989586621679140874"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MatchCase"><span class="annot"><a href="U.Codebase.Term.html#MatchCase"><span class="hs-identifier hs-var">MatchCase</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140912"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140911"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679140874"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679140874"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679140130"><span id="local-6989586621679140132"><span id="local-6989586621679140134"><span id="local-6989586621679140136"><span id="local-6989586621679140138"><span id="local-6989586621679140140"><span id="local-6989586621679140142"><span id="local-6989586621679140144"><span id="local-6989586621679140146"><span id="local-6989586621679140148"><span id="local-6989586621679140150"><span id="local-6989586621679140152"><span id="local-6989586621679140154"><span id="local-6989586621679140157"><span id="local-6989586621679140159"><span id="local-6989586621679140166"><span id="local-6989586621679140168"><span class="annot"><span class="annottext">forall a. MatchCase t r a -&gt; Bool
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; MatchCase t r a -&gt; m
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
forall t r a. Eq a =&gt; a -&gt; MatchCase t r a -&gt; Bool
forall t r a. Num a =&gt; MatchCase t r a -&gt; a
forall t r a. Ord a =&gt; MatchCase t r a -&gt; a
forall t r m. Monoid m =&gt; MatchCase t r m -&gt; m
forall t r a. MatchCase t r a -&gt; Bool
forall t r a. MatchCase t r a -&gt; Int
forall t r a. MatchCase t r a -&gt; [a]
forall t r a. (a -&gt; a -&gt; a) -&gt; MatchCase t r a -&gt; a
forall t r m a. Monoid m =&gt; (a -&gt; m) -&gt; MatchCase t r a -&gt; m
forall t r b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
forall t r a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
product :: forall a. Num a =&gt; MatchCase t r a -&gt; a
$cproduct :: forall t r a. Num a =&gt; MatchCase t r a -&gt; a
sum :: forall a. Num a =&gt; MatchCase t r a -&gt; a
$csum :: forall t r a. Num a =&gt; MatchCase t r a -&gt; a
minimum :: forall a. Ord a =&gt; MatchCase t r a -&gt; a
$cminimum :: forall t r a. Ord a =&gt; MatchCase t r a -&gt; a
maximum :: forall a. Ord a =&gt; MatchCase t r a -&gt; a
$cmaximum :: forall t r a. Ord a =&gt; MatchCase t r a -&gt; a
elem :: forall a. Eq a =&gt; a -&gt; MatchCase t r a -&gt; Bool
$celem :: forall t r a. Eq a =&gt; a -&gt; MatchCase t r a -&gt; Bool
length :: forall a. MatchCase t r a -&gt; Int
$clength :: forall t r a. MatchCase t r a -&gt; Int
null :: forall a. MatchCase t r a -&gt; Bool
$cnull :: forall t r a. MatchCase t r a -&gt; Bool
toList :: forall a. MatchCase t r a -&gt; [a]
$ctoList :: forall t r a. MatchCase t r a -&gt; [a]
foldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; MatchCase t r a -&gt; a
$cfoldl1 :: forall t r a. (a -&gt; a -&gt; a) -&gt; MatchCase t r a -&gt; a
foldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; MatchCase t r a -&gt; a
$cfoldr1 :: forall t r a. (a -&gt; a -&gt; a) -&gt; MatchCase t r a -&gt; a
foldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
$cfoldl' :: forall t r b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
foldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
$cfoldl :: forall t r b a. (b -&gt; a -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
foldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
$cfoldr' :: forall t r a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
foldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
$cfoldr :: forall t r a b. (a -&gt; b -&gt; b) -&gt; b -&gt; MatchCase t r a -&gt; b
foldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; MatchCase t r a -&gt; m
$cfoldMap' :: forall t r m a. Monoid m =&gt; (a -&gt; m) -&gt; MatchCase t r a -&gt; m
foldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; MatchCase t r a -&gt; m
$cfoldMap :: forall t r m a. Monoid m =&gt; (a -&gt; m) -&gt; MatchCase t r a -&gt; m
fold :: forall m. Monoid m =&gt; MatchCase t r m -&gt; m
$cfold :: forall t r m. Monoid m =&gt; MatchCase t r m -&gt; m
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679140124"><span id="local-6989586621679140128"><span class="annot"><span class="annottext">forall a b. a -&gt; MatchCase t r b -&gt; MatchCase t r a
forall a b. (a -&gt; b) -&gt; MatchCase t r a -&gt; MatchCase t r b
forall t r a b. a -&gt; MatchCase t r b -&gt; MatchCase t r a
forall t r a b. (a -&gt; b) -&gt; MatchCase t r a -&gt; MatchCase t r b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: forall a b. a -&gt; MatchCase t r b -&gt; MatchCase t r a
$c&lt;$ :: forall t r a b. a -&gt; MatchCase t r b -&gt; MatchCase t r a
fmap :: forall a b. (a -&gt; b) -&gt; MatchCase t r a -&gt; MatchCase t r b
$cfmap :: forall t r a b. (a -&gt; b) -&gt; MatchCase t r a -&gt; MatchCase t r b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall t r a x. Rep (MatchCase t r a) x -&gt; MatchCase t r a
forall t r a x. MatchCase t r a -&gt; Rep (MatchCase t r a) x
$cto :: forall t r a x. Rep (MatchCase t r a) x -&gt; MatchCase t r a
$cfrom :: forall t r a x. MatchCase t r a -&gt; Rep (MatchCase t r a) x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall t r a. Rep1 (MatchCase t r) a -&gt; MatchCase t r a
forall t r a. MatchCase t r a -&gt; Rep1 (MatchCase t r) a
forall k (f :: k -&gt; *).
(forall (a :: k). f a -&gt; Rep1 f a)
-&gt; (forall (a :: k). Rep1 f a -&gt; f a) -&gt; Generic1 f
$cto1 :: forall t r a. Rep1 (MatchCase t r) a -&gt; MatchCase t r a
$cfrom1 :: forall t r a. MatchCase t r a -&gt; Rep1 (MatchCase t r) a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic1</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679140098"><span id="local-6989586621679140100"><span id="local-6989586621679140102"><span id="local-6989586621679140109"><span class="annot"><span class="annottext">forall t r. Functor (MatchCase t r)
forall t r. Foldable (MatchCase t r)
forall t r (m :: * -&gt; *) a.
Monad m =&gt;
MatchCase t r (m a) -&gt; m (MatchCase t r a)
forall t r (f :: * -&gt; *) a.
Applicative f =&gt;
MatchCase t r (f a) -&gt; f (MatchCase t r a)
forall t r (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; MatchCase t r a -&gt; m (MatchCase t r b)
forall t r (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; MatchCase t r a -&gt; f (MatchCase t r b)
forall (t :: * -&gt; *).
Functor t
-&gt; Foldable t
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; MatchCase t r a -&gt; f (MatchCase t r b)
sequence :: forall (m :: * -&gt; *) a.
Monad m =&gt;
MatchCase t r (m a) -&gt; m (MatchCase t r a)
$csequence :: forall t r (m :: * -&gt; *) a.
Monad m =&gt;
MatchCase t r (m a) -&gt; m (MatchCase t r a)
mapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; MatchCase t r a -&gt; m (MatchCase t r b)
$cmapM :: forall t r (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; MatchCase t r a -&gt; m (MatchCase t r b)
sequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
MatchCase t r (f a) -&gt; f (MatchCase t r a)
$csequenceA :: forall t r (f :: * -&gt; *) a.
Applicative f =&gt;
MatchCase t r (f a) -&gt; f (MatchCase t r a)
traverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; MatchCase t r a -&gt; f (MatchCase t r b)
$ctraverse :: forall t r (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; MatchCase t r a -&gt; f (MatchCase t r b)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679140087"><span id="local-6989586621679140089"><span id="local-6989586621679140096"><span class="annot"><span class="annottext">Int -&gt; MatchCase t r a -&gt; ShowS
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall t r a.
(Show t, Show r, Show a) =&gt;
Int -&gt; MatchCase t r a -&gt; ShowS
forall t r a.
(Show t, Show r, Show a) =&gt;
[MatchCase t r a] -&gt; ShowS
forall t r a. (Show t, Show r, Show a) =&gt; MatchCase t r a -&gt; String
showList :: [MatchCase t r a] -&gt; ShowS
$cshowList :: forall t r a.
(Show t, Show r, Show a) =&gt;
[MatchCase t r a] -&gt; ShowS
show :: MatchCase t r a -&gt; String
$cshow :: forall t r a. (Show t, Show r, Show a) =&gt; MatchCase t r a -&gt; String
showsPrec :: Int -&gt; MatchCase t r a -&gt; ShowS
$cshowsPrec :: forall t r a.
(Show t, Show r, Show a) =&gt;
Int -&gt; MatchCase t r a -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span id="local-6989586621679140085"><span id="local-6989586621679140086"></span></span><span class="hs-keyword">data</span><span> </span><span id="Pattern"><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-var">Pattern</span></a></span></span><span> </span><span id="local-6989586621679140856"><span class="annot"><a href="#local-6989586621679140856"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679140855"><span class="annot"><a href="#local-6989586621679140855"><span class="hs-identifier hs-type">r</span></a></span></span><span>
</span><span id="line-100"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PUnbound"><span class="annot"><a href="U.Codebase.Term.html#PUnbound"><span class="hs-identifier hs-var">PUnbound</span></a></span></span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PVar"><span class="annot"><a href="U.Codebase.Term.html#PVar"><span class="hs-identifier hs-var">PVar</span></a></span></span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PBoolean"><span class="annot"><a href="U.Codebase.Term.html#PBoolean"><span class="hs-identifier hs-var">PBoolean</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PInt"><span class="annot"><a href="U.Codebase.Term.html#PInt"><span class="hs-identifier hs-var">PInt</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Int64</span></span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PNat"><span class="annot"><a href="U.Codebase.Term.html#PNat"><span class="hs-identifier hs-var">PNat</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PFloat"><span class="annot"><a href="U.Codebase.Term.html#PFloat"><span class="hs-identifier hs-var">PFloat</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PText"><span class="annot"><a href="U.Codebase.Term.html#PText"><span class="hs-identifier hs-var">PText</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679140856"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PChar"><span class="annot"><a href="U.Codebase.Term.html#PChar"><span class="hs-identifier hs-var">PChar</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PConstructor"><span class="annot"><a href="U.Codebase.Term.html#PConstructor"><span class="hs-identifier hs-var">PConstructor</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679140855"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="U.Codebase.Term.html#ConstructorId"><span class="hs-identifier hs-type">ConstructorId</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140856"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140855"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PAs"><span class="annot"><a href="U.Codebase.Term.html#PAs"><span class="hs-identifier hs-var">PAs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140856"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140855"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PEffectPure"><span class="annot"><a href="U.Codebase.Term.html#PEffectPure"><span class="hs-identifier hs-var">PEffectPure</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140856"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140855"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PEffectBind"><span class="annot"><a href="U.Codebase.Term.html#PEffectBind"><span class="hs-identifier hs-var">PEffectBind</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621679140855"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="U.Codebase.Term.html#ConstructorId"><span class="hs-identifier hs-type">ConstructorId</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140856"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140855"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140856"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140855"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PSequenceLiteral"><span class="annot"><a href="U.Codebase.Term.html#PSequenceLiteral"><span class="hs-identifier hs-var">PSequenceLiteral</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140856"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140855"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PSequenceOp"><span class="annot"><a href="U.Codebase.Term.html#PSequenceOp"><span class="hs-identifier hs-var">PSequenceOp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140856"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140855"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="U.Codebase.Term.html#SeqOp"><span class="hs-identifier hs-type">SeqOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140856"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140855"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall t r x. Rep (Pattern t r) x -&gt; Pattern t r
forall t r x. Pattern t r -&gt; Rep (Pattern t r) x
$cto :: forall t r x. Rep (Pattern t r) x -&gt; Pattern t r
$cfrom :: forall t r x. Pattern t r -&gt; Rep (Pattern t r) x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679140052"><span id="local-6989586621679140066"><span class="annot"><span class="annottext">forall a b. a -&gt; Pattern t b -&gt; Pattern t a
forall a b. (a -&gt; b) -&gt; Pattern t a -&gt; Pattern t b
forall t a b. a -&gt; Pattern t b -&gt; Pattern t a
forall t a b. (a -&gt; b) -&gt; Pattern t a -&gt; Pattern t b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: forall a b. a -&gt; Pattern t b -&gt; Pattern t a
$c&lt;$ :: forall t a b. a -&gt; Pattern t b -&gt; Pattern t a
fmap :: forall a b. (a -&gt; b) -&gt; Pattern t a -&gt; Pattern t b
$cfmap :: forall t a b. (a -&gt; b) -&gt; Pattern t a -&gt; Pattern t b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679139955"><span id="local-6989586621679139957"><span id="local-6989586621679139959"><span id="local-6989586621679139961"><span id="local-6989586621679139963"><span id="local-6989586621679139965"><span id="local-6989586621679139973"><span id="local-6989586621679139975"><span id="local-6989586621679139977"><span id="local-6989586621679139979"><span id="local-6989586621679139981"><span id="local-6989586621679139983"><span id="local-6989586621679139985"><span id="local-6989586621679139998"><span id="local-6989586621679140000"><span id="local-6989586621679140037"><span id="local-6989586621679140039"><span class="annot"><span class="annottext">forall a. Pattern t a -&gt; Bool
forall t a. Eq a =&gt; a -&gt; Pattern t a -&gt; Bool
forall t a. Num a =&gt; Pattern t a -&gt; a
forall t a. Ord a =&gt; Pattern t a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pattern t a -&gt; m
forall t m. Monoid m =&gt; Pattern t m -&gt; m
forall t a. Pattern t a -&gt; Bool
forall t a. Pattern t a -&gt; Int
forall t a. Pattern t a -&gt; [a]
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
forall t a. (a -&gt; a -&gt; a) -&gt; Pattern t a -&gt; a
forall t m a. Monoid m =&gt; (a -&gt; m) -&gt; Pattern t a -&gt; m
forall t b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
forall t a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
product :: forall a. Num a =&gt; Pattern t a -&gt; a
$cproduct :: forall t a. Num a =&gt; Pattern t a -&gt; a
sum :: forall a. Num a =&gt; Pattern t a -&gt; a
$csum :: forall t a. Num a =&gt; Pattern t a -&gt; a
minimum :: forall a. Ord a =&gt; Pattern t a -&gt; a
$cminimum :: forall t a. Ord a =&gt; Pattern t a -&gt; a
maximum :: forall a. Ord a =&gt; Pattern t a -&gt; a
$cmaximum :: forall t a. Ord a =&gt; Pattern t a -&gt; a
elem :: forall a. Eq a =&gt; a -&gt; Pattern t a -&gt; Bool
$celem :: forall t a. Eq a =&gt; a -&gt; Pattern t a -&gt; Bool
length :: forall a. Pattern t a -&gt; Int
$clength :: forall t a. Pattern t a -&gt; Int
null :: forall a. Pattern t a -&gt; Bool
$cnull :: forall t a. Pattern t a -&gt; Bool
toList :: forall a. Pattern t a -&gt; [a]
$ctoList :: forall t a. Pattern t a -&gt; [a]
foldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; Pattern t a -&gt; a
$cfoldl1 :: forall t a. (a -&gt; a -&gt; a) -&gt; Pattern t a -&gt; a
foldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; Pattern t a -&gt; a
$cfoldr1 :: forall t a. (a -&gt; a -&gt; a) -&gt; Pattern t a -&gt; a
foldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
$cfoldl' :: forall t b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
foldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
$cfoldl :: forall t b a. (b -&gt; a -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
foldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
$cfoldr' :: forall t a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
foldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
$cfoldr :: forall t a b. (a -&gt; b -&gt; b) -&gt; b -&gt; Pattern t a -&gt; b
foldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pattern t a -&gt; m
$cfoldMap' :: forall t m a. Monoid m =&gt; (a -&gt; m) -&gt; Pattern t a -&gt; m
foldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Pattern t a -&gt; m
$cfoldMap :: forall t m a. Monoid m =&gt; (a -&gt; m) -&gt; Pattern t a -&gt; m
fold :: forall m. Monoid m =&gt; Pattern t m -&gt; m
$cfold :: forall t m. Monoid m =&gt; Pattern t m -&gt; m
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679139904"><span id="local-6989586621679139906"><span id="local-6989586621679139908"><span id="local-6989586621679139949"><span class="annot"><span class="annottext">forall t. Functor (Pattern t)
forall t. Foldable (Pattern t)
forall t (m :: * -&gt; *) a.
Monad m =&gt;
Pattern t (m a) -&gt; m (Pattern t a)
forall t (f :: * -&gt; *) a.
Applicative f =&gt;
Pattern t (f a) -&gt; f (Pattern t a)
forall t (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Pattern t a -&gt; m (Pattern t b)
forall t (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Pattern t a -&gt; f (Pattern t b)
forall (t :: * -&gt; *).
Functor t
-&gt; Foldable t
-&gt; (forall (f :: * -&gt; *) a b.
    Applicative f =&gt;
    (a -&gt; f b) -&gt; t a -&gt; f (t b))
-&gt; (forall (f :: * -&gt; *) a. Applicative f =&gt; t (f a) -&gt; f (t a))
-&gt; (forall (m :: * -&gt; *) a b.
    Monad m =&gt;
    (a -&gt; m b) -&gt; t a -&gt; m (t b))
-&gt; (forall (m :: * -&gt; *) a. Monad m =&gt; t (m a) -&gt; m (t a))
-&gt; Traversable t
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Pattern t a -&gt; f (Pattern t b)
sequence :: forall (m :: * -&gt; *) a.
Monad m =&gt;
Pattern t (m a) -&gt; m (Pattern t a)
$csequence :: forall t (m :: * -&gt; *) a.
Monad m =&gt;
Pattern t (m a) -&gt; m (Pattern t a)
mapM :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Pattern t a -&gt; m (Pattern t b)
$cmapM :: forall t (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Pattern t a -&gt; m (Pattern t b)
sequenceA :: forall (f :: * -&gt; *) a.
Applicative f =&gt;
Pattern t (f a) -&gt; f (Pattern t a)
$csequenceA :: forall t (f :: * -&gt; *) a.
Applicative f =&gt;
Pattern t (f a) -&gt; f (Pattern t a)
traverse :: forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Pattern t a -&gt; f (Pattern t b)
$ctraverse :: forall t (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; Pattern t a -&gt; f (Pattern t b)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Traversable</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679139866"><span id="local-6989586621679139868"><span id="local-6989586621679139902"><span class="annot"><span class="annottext">Int -&gt; Pattern t r -&gt; ShowS
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall t r. (Show t, Show r) =&gt; Int -&gt; Pattern t r -&gt; ShowS
forall t r. (Show t, Show r) =&gt; [Pattern t r] -&gt; ShowS
forall t r. (Show t, Show r) =&gt; Pattern t r -&gt; String
showList :: [Pattern t r] -&gt; ShowS
$cshowList :: forall t r. (Show t, Show r) =&gt; [Pattern t r] -&gt; ShowS
show :: Pattern t r -&gt; String
$cshow :: forall t r. (Show t, Show r) =&gt; Pattern t r -&gt; String
showsPrec :: Int -&gt; Pattern t r -&gt; ShowS
$cshowsPrec :: forall t r. (Show t, Show r) =&gt; Int -&gt; Pattern t r -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-keyword">data</span><span> </span><span id="SeqOp"><span class="annot"><a href="U.Codebase.Term.html#SeqOp"><span class="hs-identifier hs-var">SeqOp</span></a></span></span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PCons"><span class="annot"><a href="U.Codebase.Term.html#PCons"><span class="hs-identifier hs-var">PCons</span></a></span></span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PSnoc"><span class="annot"><a href="U.Codebase.Term.html#PSnoc"><span class="hs-identifier hs-var">PSnoc</span></a></span></span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PConcat"><span class="annot"><a href="U.Codebase.Term.html#PConcat"><span class="hs-identifier hs-var">PConcat</span></a></span></span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679139859"><span id="local-6989586621679139861"><span class="annot"><span class="annottext">SeqOp -&gt; SeqOp -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SeqOp -&gt; SeqOp -&gt; Bool
$c/= :: SeqOp -&gt; SeqOp -&gt; Bool
== :: SeqOp -&gt; SeqOp -&gt; Bool
$c== :: SeqOp -&gt; SeqOp -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679139852"><span id="local-6989586621679139854"><span id="local-6989586621679139856"><span class="annot"><span class="annottext">Int -&gt; SeqOp -&gt; ShowS
[SeqOp] -&gt; ShowS
SeqOp -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SeqOp] -&gt; ShowS
$cshowList :: [SeqOp] -&gt; ShowS
show :: SeqOp -&gt; String
$cshow :: SeqOp -&gt; String
showsPrec :: Int -&gt; SeqOp -&gt; ShowS
$cshowsPrec :: Int -&gt; SeqOp -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="annot"><a href="U.Codebase.Term.html#extraMap"><span class="hs-identifier hs-type">extraMap</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-keyword">forall</span><span>
</span><span id="line-124"></span><span>    </span><span id="local-6989586621679140846"><span class="annot"><a href="#local-6989586621679140846"><span class="hs-identifier hs-type">text</span></a></span></span><span>
</span><span id="line-125"></span><span>    </span><span id="local-6989586621679140844"><span class="annot"><a href="#local-6989586621679140844"><span class="hs-identifier hs-type">termRef</span></a></span></span><span>
</span><span id="line-126"></span><span>    </span><span id="local-6989586621679140842"><span class="annot"><a href="#local-6989586621679140842"><span class="hs-identifier hs-type">typeRef</span></a></span></span><span>
</span><span id="line-127"></span><span>    </span><span id="local-6989586621679140840"><span class="annot"><a href="#local-6989586621679140840"><span class="hs-identifier hs-type">termLink</span></a></span></span><span>
</span><span id="line-128"></span><span>    </span><span id="local-6989586621679140838"><span class="annot"><a href="#local-6989586621679140838"><span class="hs-identifier hs-type">typeLink</span></a></span></span><span>
</span><span id="line-129"></span><span>    </span><span id="local-6989586621679140836"><span class="annot"><a href="#local-6989586621679140836"><span class="hs-identifier hs-type">vt</span></a></span></span><span>
</span><span id="line-130"></span><span>    </span><span id="local-6989586621679140845"><span class="annot"><a href="#local-6989586621679140845"><span class="hs-identifier hs-type">text'</span></a></span></span><span>
</span><span id="line-131"></span><span>    </span><span id="local-6989586621679140843"><span class="annot"><a href="#local-6989586621679140843"><span class="hs-identifier hs-type">termRef'</span></a></span></span><span>
</span><span id="line-132"></span><span>    </span><span id="local-6989586621679140841"><span class="annot"><a href="#local-6989586621679140841"><span class="hs-identifier hs-type">typeRef'</span></a></span></span><span>
</span><span id="line-133"></span><span>    </span><span id="local-6989586621679140839"><span class="annot"><a href="#local-6989586621679140839"><span class="hs-identifier hs-type">termLink'</span></a></span></span><span>
</span><span id="line-134"></span><span>    </span><span id="local-6989586621679140837"><span class="annot"><a href="#local-6989586621679140837"><span class="hs-identifier hs-type">typeLink'</span></a></span></span><span>
</span><span id="line-135"></span><span>    </span><span id="local-6989586621679140847"><span class="annot"><a href="#local-6989586621679140847"><span class="hs-identifier hs-type">vt'</span></a></span></span><span>
</span><span id="line-136"></span><span>    </span><span id="local-6989586621679140848"><span class="annot"><a href="#local-6989586621679140848"><span class="hs-identifier hs-type">v</span></a></span></span><span>
</span><span id="line-137"></span><span>    </span><span id="local-6989586621679140835"><span class="annot"><a href="#local-6989586621679140835"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-138"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679140848"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679140847"><span class="hs-identifier hs-type">vt'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140846"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140845"><span class="hs-identifier hs-type">text'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140844"><span class="hs-identifier hs-type">termRef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140843"><span class="hs-identifier hs-type">termRef'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140842"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140841"><span class="hs-identifier hs-type">typeRef'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-142"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140840"><span class="hs-identifier hs-type">termLink</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140839"><span class="hs-identifier hs-type">termLink'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-143"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140838"><span class="hs-identifier hs-type">typeLink</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140837"><span class="hs-identifier hs-type">typeLink'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-144"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140836"><span class="hs-identifier hs-type">vt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140847"><span class="hs-identifier hs-type">vt'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-145"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ABT.Term</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-type">F'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140846"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140844"><span class="hs-identifier hs-type">termRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140842"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140840"><span class="hs-identifier hs-type">termLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140838"><span class="hs-identifier hs-type">typeLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140836"><span class="hs-identifier hs-type">vt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679140848"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140835"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-146"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ABT.Term</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-type">F'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140845"><span class="hs-identifier hs-type">text'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140843"><span class="hs-identifier hs-type">termRef'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140841"><span class="hs-identifier hs-type">typeRef'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140839"><span class="hs-identifier hs-type">termLink'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140837"><span class="hs-identifier hs-type">typeLink'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140847"><span class="hs-identifier hs-type">vt'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679140848"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140835"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-147"></span><span id="extraMap"><span class="annot"><span class="annottext">extraMap :: forall text termRef typeRef termLink typeLink vt text' termRef'
       typeRef' termLink' typeLink' vt' v a.
(Ord v, Ord vt') =&gt;
(text -&gt; text')
-&gt; (termRef -&gt; termRef')
-&gt; (typeRef -&gt; typeRef')
-&gt; (termLink -&gt; termLink')
-&gt; (typeLink -&gt; typeLink')
-&gt; (vt -&gt; vt')
-&gt; Term (F' text termRef typeRef termLink typeLink vt) v a
-&gt; Term (F' text' termRef' typeRef' termLink' typeLink' vt') v a
</span><a href="U.Codebase.Term.html#extraMap"><span class="hs-identifier hs-var hs-var">extraMap</span></a></span></span><span> </span><span id="local-6989586621679139837"><span class="annot"><span class="annottext">text -&gt; text'
</span><a href="#local-6989586621679139837"><span class="hs-identifier hs-var">ftext</span></a></span></span><span> </span><span id="local-6989586621679139836"><span class="annot"><span class="annottext">termRef -&gt; termRef'
</span><a href="#local-6989586621679139836"><span class="hs-identifier hs-var">ftermRef</span></a></span></span><span> </span><span id="local-6989586621679139835"><span class="annot"><span class="annottext">typeRef -&gt; typeRef'
</span><a href="#local-6989586621679139835"><span class="hs-identifier hs-var">ftypeRef</span></a></span></span><span> </span><span id="local-6989586621679139834"><span class="annot"><span class="annottext">termLink -&gt; termLink'
</span><a href="#local-6989586621679139834"><span class="hs-identifier hs-var">ftermLink</span></a></span></span><span> </span><span id="local-6989586621679139833"><span class="annot"><span class="annottext">typeLink -&gt; typeLink'
</span><a href="#local-6989586621679139833"><span class="hs-identifier hs-var">ftypeLink</span></a></span></span><span> </span><span id="local-6989586621679139832"><span class="annot"><span class="annottext">vt -&gt; vt'
</span><a href="#local-6989586621679139832"><span class="hs-identifier hs-var">fvt</span></a></span></span><span> </span><span id="local-6989586621679139831"><span class="annot"><span class="annottext">Term (F' text termRef typeRef termLink typeLink vt) v a
</span><a href="#local-6989586621679139831"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-148"></span><span>  </span><span class="annot"><span class="annottext">forall a. Identity a -&gt; a
</span><span class="hs-identifier hs-var">runIdentity</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) text termRef typeRef termLink typeLink vt
       text' termRef' typeRef' termLink' typeLink' vt' v a.
(Ord v, Ord vt', Monad m) =&gt;
(text -&gt; m text')
-&gt; (termRef -&gt; m termRef')
-&gt; (typeRef -&gt; m typeRef')
-&gt; (termLink -&gt; m termLink')
-&gt; (typeLink -&gt; m typeLink')
-&gt; (vt -&gt; m vt')
-&gt; Term (F' text termRef typeRef termLink typeLink vt) v a
-&gt; m (Term
        (F' text' termRef' typeRef' termLink' typeLink' vt') v a)
</span><a href="U.Codebase.Term.html#extraMapM"><span class="hs-identifier hs-var">extraMapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">text -&gt; text'
</span><a href="#local-6989586621679139837"><span class="hs-identifier hs-var">ftext</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">termRef -&gt; termRef'
</span><a href="#local-6989586621679139836"><span class="hs-identifier hs-var">ftermRef</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">typeRef -&gt; typeRef'
</span><a href="#local-6989586621679139835"><span class="hs-identifier hs-var">ftypeRef</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">termLink -&gt; termLink'
</span><a href="#local-6989586621679139834"><span class="hs-identifier hs-var">ftermLink</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">typeLink -&gt; typeLink'
</span><a href="#local-6989586621679139833"><span class="hs-identifier hs-var">ftypeLink</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">vt -&gt; vt'
</span><a href="#local-6989586621679139832"><span class="hs-identifier hs-var">fvt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term (F' text termRef typeRef termLink typeLink vt) v a
</span><a href="#local-6989586621679139831"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="annot"><a href="U.Codebase.Term.html#extraMapM"><span class="hs-identifier hs-type">extraMapM</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-151"></span><span>  </span><span class="hs-keyword">forall</span><span>
</span><span id="line-152"></span><span>    </span><span id="local-6989586621679140813"><span class="annot"><a href="#local-6989586621679140813"><span class="hs-identifier hs-type">m</span></a></span></span><span>
</span><span id="line-153"></span><span>    </span><span id="local-6989586621679140812"><span class="annot"><a href="#local-6989586621679140812"><span class="hs-identifier hs-type">text</span></a></span></span><span>
</span><span id="line-154"></span><span>    </span><span id="local-6989586621679140810"><span class="annot"><a href="#local-6989586621679140810"><span class="hs-identifier hs-type">termRef</span></a></span></span><span>
</span><span id="line-155"></span><span>    </span><span id="local-6989586621679140808"><span class="annot"><a href="#local-6989586621679140808"><span class="hs-identifier hs-type">typeRef</span></a></span></span><span>
</span><span id="line-156"></span><span>    </span><span id="local-6989586621679140806"><span class="annot"><a href="#local-6989586621679140806"><span class="hs-identifier hs-type">termLink</span></a></span></span><span>
</span><span id="line-157"></span><span>    </span><span id="local-6989586621679140804"><span class="annot"><a href="#local-6989586621679140804"><span class="hs-identifier hs-type">typeLink</span></a></span></span><span>
</span><span id="line-158"></span><span>    </span><span id="local-6989586621679140802"><span class="annot"><a href="#local-6989586621679140802"><span class="hs-identifier hs-type">vt</span></a></span></span><span>
</span><span id="line-159"></span><span>    </span><span id="local-6989586621679140811"><span class="annot"><a href="#local-6989586621679140811"><span class="hs-identifier hs-type">text'</span></a></span></span><span>
</span><span id="line-160"></span><span>    </span><span id="local-6989586621679140809"><span class="annot"><a href="#local-6989586621679140809"><span class="hs-identifier hs-type">termRef'</span></a></span></span><span>
</span><span id="line-161"></span><span>    </span><span id="local-6989586621679140807"><span class="annot"><a href="#local-6989586621679140807"><span class="hs-identifier hs-type">typeRef'</span></a></span></span><span>
</span><span id="line-162"></span><span>    </span><span id="local-6989586621679140805"><span class="annot"><a href="#local-6989586621679140805"><span class="hs-identifier hs-type">termLink'</span></a></span></span><span>
</span><span id="line-163"></span><span>    </span><span id="local-6989586621679140803"><span class="annot"><a href="#local-6989586621679140803"><span class="hs-identifier hs-type">typeLink'</span></a></span></span><span>
</span><span id="line-164"></span><span>    </span><span id="local-6989586621679140814"><span class="annot"><a href="#local-6989586621679140814"><span class="hs-identifier hs-type">vt'</span></a></span></span><span>
</span><span id="line-165"></span><span>    </span><span id="local-6989586621679140815"><span class="annot"><a href="#local-6989586621679140815"><span class="hs-identifier hs-type">v</span></a></span></span><span>
</span><span id="line-166"></span><span>    </span><span id="local-6989586621679140801"><span class="annot"><a href="#local-6989586621679140801"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679140815"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679140814"><span class="hs-identifier hs-type">vt'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679140813"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140812"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140813"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140811"><span class="hs-identifier hs-type">text'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140810"><span class="hs-identifier hs-type">termRef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140813"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140809"><span class="hs-identifier hs-type">termRef'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-170"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140808"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140813"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140807"><span class="hs-identifier hs-type">typeRef'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140806"><span class="hs-identifier hs-type">termLink</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140813"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140805"><span class="hs-identifier hs-type">termLink'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140804"><span class="hs-identifier hs-type">typeLink</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140813"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140803"><span class="hs-identifier hs-type">typeLink'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-173"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140802"><span class="hs-identifier hs-type">vt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140813"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140814"><span class="hs-identifier hs-type">vt'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-174"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ABT.Term</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-type">F'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140812"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140810"><span class="hs-identifier hs-type">termRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140808"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140806"><span class="hs-identifier hs-type">termLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140804"><span class="hs-identifier hs-type">typeLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140802"><span class="hs-identifier hs-type">vt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679140815"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140801"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-175"></span><span>  </span><span class="annot"><a href="#local-6989586621679140813"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ABT.Term</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-type">F'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140811"><span class="hs-identifier hs-type">text'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140809"><span class="hs-identifier hs-type">termRef'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140807"><span class="hs-identifier hs-type">typeRef'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140805"><span class="hs-identifier hs-type">termLink'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140803"><span class="hs-identifier hs-type">typeLink'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140814"><span class="hs-identifier hs-type">vt'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679140815"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140801"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span id="extraMapM"><span class="annot"><span class="annottext">extraMapM :: forall (m :: * -&gt; *) text termRef typeRef termLink typeLink vt
       text' termRef' typeRef' termLink' typeLink' vt' v a.
(Ord v, Ord vt', Monad m) =&gt;
(text -&gt; m text')
-&gt; (termRef -&gt; m termRef')
-&gt; (typeRef -&gt; m typeRef')
-&gt; (termLink -&gt; m termLink')
-&gt; (typeLink -&gt; m typeLink')
-&gt; (vt -&gt; m vt')
-&gt; Term (F' text termRef typeRef termLink typeLink vt) v a
-&gt; m (Term
        (F' text' termRef' typeRef' termLink' typeLink' vt') v a)
</span><a href="U.Codebase.Term.html#extraMapM"><span class="hs-identifier hs-var hs-var">extraMapM</span></a></span></span><span> </span><span id="local-6989586621679139817"><span class="annot"><span class="annottext">text -&gt; m text'
</span><a href="#local-6989586621679139817"><span class="hs-identifier hs-var">ftext</span></a></span></span><span> </span><span id="local-6989586621679139816"><span class="annot"><span class="annottext">termRef -&gt; m termRef'
</span><a href="#local-6989586621679139816"><span class="hs-identifier hs-var">ftermRef</span></a></span></span><span> </span><span id="local-6989586621679139815"><span class="annot"><span class="annottext">typeRef -&gt; m typeRef'
</span><a href="#local-6989586621679139815"><span class="hs-identifier hs-var">ftypeRef</span></a></span></span><span> </span><span id="local-6989586621679139814"><span class="annot"><span class="annottext">termLink -&gt; m termLink'
</span><a href="#local-6989586621679139814"><span class="hs-identifier hs-var">ftermLink</span></a></span></span><span> </span><span id="local-6989586621679139813"><span class="annot"><span class="annottext">typeLink -&gt; m typeLink'
</span><a href="#local-6989586621679139813"><span class="hs-identifier hs-var">ftypeLink</span></a></span></span><span> </span><span id="local-6989586621679139812"><span class="annot"><span class="annottext">vt -&gt; m vt'
</span><a href="#local-6989586621679139812"><span class="hs-identifier hs-var">fvt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term (F' text termRef typeRef termLink typeLink vt) v a
-&gt; m (Term
        (F' text' termRef' typeRef' termLink' typeLink' vt') v a)
</span><a href="#local-6989586621679139811"><span class="hs-identifier hs-var">go'</span></a></span><span>
</span><span id="line-177"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-178"></span><span>    </span><span id="local-6989586621679139811"><span class="annot"><span class="annottext">go' :: Term (F' text termRef typeRef termLink typeLink vt) v a
-&gt; m (Term
        (F' text' termRef' typeRef' termLink' typeLink' vt') v a)
</span><a href="#local-6989586621679139811"><span class="hs-identifier hs-var hs-var">go'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall v (m :: * -&gt; *) (g :: * -&gt; *) (f :: * -&gt; *) a.
(Ord v, Monad m, Traversable g) =&gt;
(forall a1. f a1 -&gt; m (g a1)) -&gt; Term f v a -&gt; m (Term g v a)
</span><span class="hs-identifier hs-var">ABT.transformM</span></span><span> </span><span class="annot"><span class="annottext">forall x.
F' text termRef typeRef termLink typeLink vt x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
</span><a href="#local-6989586621679139809"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-179"></span><span>    </span><span class="annot"><a href="#local-6989586621679139809"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679140774"><span class="annot"><a href="#local-6989586621679140774"><span class="hs-identifier hs-type">x</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-type">F'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140812"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140810"><span class="hs-identifier hs-type">termRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140808"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140806"><span class="hs-identifier hs-type">termLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140804"><span class="hs-identifier hs-type">typeLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140802"><span class="hs-identifier hs-type">vt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140774"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140813"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-type">F'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140811"><span class="hs-identifier hs-type">text'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140809"><span class="hs-identifier hs-type">termRef'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140807"><span class="hs-identifier hs-type">typeRef'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140805"><span class="hs-identifier hs-type">termLink'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140803"><span class="hs-identifier hs-type">typeLink'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140814"><span class="hs-identifier hs-type">vt'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140774"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-180"></span><span>    </span><span id="local-6989586621679139809"><span class="annot"><span class="annottext">go :: forall x.
F' text termRef typeRef termLink typeLink vt x
-&gt; m (F' text' termRef' typeRef' termLink' typeLink' vt' x)
</span><a href="#local-6989586621679139809"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-181"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span id="local-6989586621679139771"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679139771"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
Int64 -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Int"><span class="hs-identifier hs-var">Int</span></a></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679139771"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-182"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Nat"><span class="hs-identifier hs-type">Nat</span></a></span><span> </span><span id="local-6989586621679139770"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139770"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
Word64 -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Nat"><span class="hs-identifier hs-var">Nat</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139770"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-183"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Float"><span class="hs-identifier hs-type">Float</span></a></span><span> </span><span id="local-6989586621679139769"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679139769"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
Double -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Float"><span class="hs-identifier hs-var">Float</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679139769"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-184"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Boolean"><span class="hs-identifier hs-type">Boolean</span></a></span><span> </span><span id="local-6989586621679139768"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679139768"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
Bool -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Boolean"><span class="hs-identifier hs-var">Boolean</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679139768"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-185"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span id="local-6989586621679139767"><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679139767"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
text -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Text"><span class="hs-identifier hs-var">Text</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">text -&gt; m text'
</span><a href="#local-6989586621679139817"><span class="hs-identifier hs-var">ftext</span></a></span><span> </span><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679139767"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-186"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Char"><span class="hs-identifier hs-type">Char</span></a></span><span> </span><span id="local-6989586621679139765"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679139765"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
Char -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Char"><span class="hs-identifier hs-var">Char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679139765"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-187"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Ref"><span class="hs-identifier hs-type">Ref</span></a></span><span> </span><span id="local-6989586621679139764"><span class="annot"><span class="annottext">termRef
</span><a href="#local-6989586621679139764"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
termRef -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Ref"><span class="hs-identifier hs-var">Ref</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">termRef -&gt; m termRef'
</span><a href="#local-6989586621679139816"><span class="hs-identifier hs-var">ftermRef</span></a></span><span> </span><span class="annot"><span class="annottext">termRef
</span><a href="#local-6989586621679139764"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-188"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Constructor"><span class="hs-identifier hs-type">Constructor</span></a></span><span> </span><span id="local-6989586621679139763"><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679139763"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621679139762"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139762"><span class="hs-identifier hs-var">cid</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
typeRef -&gt; Word64 -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Constructor"><span class="hs-identifier hs-var">Constructor</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">typeRef -&gt; m typeRef'
</span><a href="#local-6989586621679139815"><span class="hs-identifier hs-var">ftypeRef</span></a></span><span> </span><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679139763"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139762"><span class="hs-identifier hs-var">cid</span></a></span><span>
</span><span id="line-189"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Request"><span class="hs-identifier hs-type">Request</span></a></span><span> </span><span id="local-6989586621679139761"><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679139761"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621679139760"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139760"><span class="hs-identifier hs-var">cid</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
typeRef -&gt; Word64 -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Request"><span class="hs-identifier hs-var">Request</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">typeRef -&gt; m typeRef'
</span><a href="#local-6989586621679139815"><span class="hs-identifier hs-var">ftypeRef</span></a></span><span> </span><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679139761"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139760"><span class="hs-identifier hs-var">cid</span></a></span><span>
</span><span id="line-190"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Handle"><span class="hs-identifier hs-type">Handle</span></a></span><span> </span><span id="local-6989586621679139759"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139759"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621679139758"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139758"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Handle"><span class="hs-identifier hs-var">Handle</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139759"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139758"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-191"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#App"><span class="hs-identifier hs-type">App</span></a></span><span> </span><span id="local-6989586621679139757"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139757"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679139756"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139756"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#App"><span class="hs-identifier hs-var">App</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139757"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139756"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-192"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Ann"><span class="hs-identifier hs-type">Ann</span></a></span><span> </span><span id="local-6989586621679139755"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139755"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679139754"><span class="annot"><span class="annottext">TypeR typeRef vt
</span><a href="#local-6989586621679139754"><span class="hs-identifier hs-var">typ</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
a
-&gt; TypeR typeRef vt
-&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Ann"><span class="hs-identifier hs-var">Ann</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139755"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) (f :: * -&gt; *) v2 v a.
(Applicative m, Traversable f, Foldable f, Ord v2) =&gt;
(v -&gt; m v2) -&gt; Term f v a -&gt; m (Term f v2 a)
</span><span class="hs-identifier hs-var">ABT.vmapM</span></span><span> </span><span class="annot"><span class="annottext">vt -&gt; m vt'
</span><a href="#local-6989586621679139812"><span class="hs-identifier hs-var">fvt</span></a></span><span> </span><span class="annot"><span class="annottext">TypeR typeRef vt
</span><a href="#local-6989586621679139754"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">forall v (f :: * -&gt; *) r r' a.
(Ord v, Monad f) =&gt;
(r -&gt; f r') -&gt; Term (F' r) v a -&gt; f (Term (F' r') v a)
</span><a href="U.Codebase.Type.html#rmapM"><span class="hs-identifier hs-var">Type.rmapM</span></a></span><span> </span><span class="annot"><span class="annottext">typeRef -&gt; m typeRef'
</span><a href="#local-6989586621679139815"><span class="hs-identifier hs-var">ftypeRef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#List"><span class="hs-identifier hs-type">List</span></a></span><span> </span><span id="local-6989586621679139751"><span class="annot"><span class="annottext">Seq x
</span><a href="#local-6989586621679139751"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
Seq a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#List"><span class="hs-identifier hs-var">List</span></a></span><span> </span><span class="annot"><span class="annottext">Seq x
</span><a href="#local-6989586621679139751"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-194"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#If"><span class="hs-identifier hs-type">If</span></a></span><span> </span><span id="local-6989586621679139750"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139750"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679139749"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139749"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679139748"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139748"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#If"><span class="hs-identifier hs-var">If</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139750"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139749"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139748"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-195"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#And"><span class="hs-identifier hs-type">And</span></a></span><span> </span><span id="local-6989586621679139747"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139747"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679139746"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139746"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#And"><span class="hs-identifier hs-var">And</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139747"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139746"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-196"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Or"><span class="hs-identifier hs-type">Or</span></a></span><span> </span><span id="local-6989586621679139745"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139745"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679139744"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139744"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Or"><span class="hs-identifier hs-var">Or</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139745"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139744"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-197"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Lam"><span class="hs-identifier hs-type">Lam</span></a></span><span> </span><span id="local-6989586621679139743"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139743"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Lam"><span class="hs-identifier hs-var">Lam</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139743"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-198"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#LetRec"><span class="hs-identifier hs-type">LetRec</span></a></span><span> </span><span id="local-6989586621679139742"><span class="annot"><span class="annottext">[x]
</span><a href="#local-6989586621679139742"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span id="local-6989586621679139741"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139741"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
[a] -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#LetRec"><span class="hs-identifier hs-var">LetRec</span></a></span><span> </span><span class="annot"><span class="annottext">[x]
</span><a href="#local-6989586621679139742"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139741"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-199"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Let"><span class="hs-identifier hs-type">Let</span></a></span><span> </span><span id="local-6989586621679139740"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139740"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679139739"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139739"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Let"><span class="hs-identifier hs-var">Let</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139740"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139739"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-200"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span id="local-6989586621679139738"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139738"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679139737"><span class="annot"><span class="annottext">[MatchCase text typeRef x]
</span><a href="#local-6989586621679139737"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
a
-&gt; [MatchCase text typeRef a]
-&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Match"><span class="hs-identifier hs-var">Match</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139738"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">forall x.
MatchCase text typeRef x -&gt; m (MatchCase text' typeRef' x)
</span><a href="#local-6989586621679139735"><span class="hs-identifier hs-var">goCase</span></a></span><span> </span><span class="annot"><span class="annottext">[MatchCase text typeRef x]
</span><a href="#local-6989586621679139737"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-type">TermLink</span></a></span><span> </span><span id="local-6989586621679139734"><span class="annot"><span class="annottext">termLink
</span><a href="#local-6989586621679139734"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
termLink -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-var">TermLink</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">termLink -&gt; m termLink'
</span><a href="#local-6989586621679139814"><span class="hs-identifier hs-var">ftermLink</span></a></span><span> </span><span class="annot"><span class="annottext">termLink
</span><a href="#local-6989586621679139734"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-202"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#TypeLink"><span class="hs-identifier hs-type">TypeLink</span></a></span><span> </span><span id="local-6989586621679139733"><span class="annot"><span class="annottext">typeLink
</span><a href="#local-6989586621679139733"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
typeLink -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#TypeLink"><span class="hs-identifier hs-var">TypeLink</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">typeLink -&gt; m typeLink'
</span><a href="#local-6989586621679139813"><span class="hs-identifier hs-var">ftypeLink</span></a></span><span> </span><span class="annot"><span class="annottext">typeLink
</span><a href="#local-6989586621679139733"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-203"></span><span>    </span><span id="local-6989586621679140754"><span class="annot"><a href="#local-6989586621679139735"><span class="hs-identifier hs-type">goCase</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#MatchCase"><span class="hs-identifier hs-type">MatchCase</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140812"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140808"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140754"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140813"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#MatchCase"><span class="hs-identifier hs-type">MatchCase</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140811"><span class="hs-identifier hs-type">text'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140807"><span class="hs-identifier hs-type">typeRef'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140754"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-204"></span><span>    </span><span id="local-6989586621679139735"><span class="annot"><span class="annottext">goCase :: forall x.
MatchCase text typeRef x -&gt; m (MatchCase text' typeRef' x)
</span><a href="#local-6989586621679139735"><span class="hs-identifier hs-var hs-var">goCase</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#MatchCase"><span class="hs-identifier hs-type">MatchCase</span></a></span><span> </span><span id="local-6989586621679139727"><span class="annot"><span class="annottext">Pattern text typeRef
</span><a href="#local-6989586621679139727"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679139726"><span class="annot"><span class="annottext">Maybe x
</span><a href="#local-6989586621679139726"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679139725"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139725"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall t r a. Pattern t r -&gt; Maybe a -&gt; a -&gt; MatchCase t r a
</span><a href="U.Codebase.Term.html#MatchCase"><span class="hs-identifier hs-var">MatchCase</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pattern text typeRef -&gt; m (Pattern text' typeRef')
</span><a href="#local-6989586621679139724"><span class="hs-identifier hs-var">goPat</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern text typeRef
</span><a href="#local-6989586621679139727"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Maybe x
</span><a href="#local-6989586621679139726"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621679139725"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-205"></span><span>    </span><span id="local-6989586621679139724"><span class="annot"><span class="annottext">goPat :: Pattern text typeRef -&gt; m (Pattern text' typeRef')
</span><a href="#local-6989586621679139724"><span class="hs-identifier hs-var hs-var">goPat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) t t' r r'.
Applicative m =&gt;
(t -&gt; m t') -&gt; (r -&gt; m r') -&gt; Pattern t r -&gt; m (Pattern t' r')
</span><a href="U.Codebase.Term.html#rmapPatternM"><span class="hs-identifier hs-var">rmapPatternM</span></a></span><span> </span><span class="annot"><span class="annottext">text -&gt; m text'
</span><a href="#local-6989586621679139817"><span class="hs-identifier hs-var">ftext</span></a></span><span> </span><span class="annot"><span class="annottext">typeRef -&gt; m typeRef'
</span><a href="#local-6989586621679139815"><span class="hs-identifier hs-var">ftypeRef</span></a></span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span id="local-6989586621679140744"><span id="local-6989586621679140745"><span id="local-6989586621679140746"><span id="local-6989586621679140747"><span class="annot"><a href="U.Codebase.Term.html#rmapPattern"><span class="hs-identifier hs-type">rmapPattern</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140747"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140746"><span class="hs-identifier hs-type">t'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140745"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140744"><span class="hs-identifier hs-type">r'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140747"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140745"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140746"><span class="hs-identifier hs-type">t'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140744"><span class="hs-identifier hs-type">r'</span></a></span></span></span></span></span><span>
</span><span id="line-208"></span><span id="rmapPattern"><span class="annot"><span class="annottext">rmapPattern :: forall t t' r r'.
(t -&gt; t') -&gt; (r -&gt; r') -&gt; Pattern t r -&gt; Pattern t' r'
</span><a href="U.Codebase.Term.html#rmapPattern"><span class="hs-identifier hs-var hs-var">rmapPattern</span></a></span></span><span> </span><span id="local-6989586621679139718"><span class="annot"><span class="annottext">t -&gt; t'
</span><a href="#local-6989586621679139718"><span class="hs-identifier hs-var">ft</span></a></span></span><span> </span><span id="local-6989586621679139717"><span class="annot"><span class="annottext">r -&gt; r'
</span><a href="#local-6989586621679139717"><span class="hs-identifier hs-var">fr</span></a></span></span><span> </span><span id="local-6989586621679139716"><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679139716"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Identity a -&gt; a
</span><span class="hs-identifier hs-var">runIdentity</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) t t' r r'.
Applicative m =&gt;
(t -&gt; m t') -&gt; (r -&gt; m r') -&gt; Pattern t r -&gt; m (Pattern t' r')
</span><a href="U.Codebase.Term.html#rmapPatternM"><span class="hs-identifier hs-var">rmapPatternM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; t'
</span><a href="#local-6989586621679139718"><span class="hs-identifier hs-var">ft</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; r'
</span><a href="#local-6989586621679139717"><span class="hs-identifier hs-var">fr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679139716"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span id="local-6989586621679140748"><span id="local-6989586621679140749"><span id="local-6989586621679140750"><span id="local-6989586621679140751"><span id="local-6989586621679140752"><span class="annot"><a href="U.Codebase.Term.html#rmapPatternM"><span class="hs-identifier hs-type">rmapPatternM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679140752"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140751"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140752"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140750"><span class="hs-identifier hs-type">t'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140749"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140752"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140748"><span class="hs-identifier hs-type">r'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140751"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140749"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140752"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Pattern"><span class="hs-identifier hs-type">Pattern</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140750"><span class="hs-identifier hs-type">t'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140748"><span class="hs-identifier hs-type">r'</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-211"></span><span id="rmapPatternM"><span class="annot"><span class="annottext">rmapPatternM :: forall (m :: * -&gt; *) t t' r r'.
Applicative m =&gt;
(t -&gt; m t') -&gt; (r -&gt; m r') -&gt; Pattern t r -&gt; m (Pattern t' r')
</span><a href="U.Codebase.Term.html#rmapPatternM"><span class="hs-identifier hs-var hs-var">rmapPatternM</span></a></span></span><span> </span><span id="local-6989586621679139683"><span class="annot"><span class="annottext">t -&gt; m t'
</span><a href="#local-6989586621679139683"><span class="hs-identifier hs-var">ft</span></a></span></span><span> </span><span id="local-6989586621679139682"><span class="annot"><span class="annottext">r -&gt; m r'
</span><a href="#local-6989586621679139682"><span class="hs-identifier hs-var">fr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679139681"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-212"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-213"></span><span>    </span><span id="local-6989586621679139681"><span class="annot"><span class="annottext">go :: Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679139681"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-214"></span><span>      </span><span class="annot"><span class="annottext">Pattern t r
</span><a href="U.Codebase.Term.html#PUnbound"><span class="hs-identifier hs-var">PUnbound</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall t r. Pattern t r
</span><a href="U.Codebase.Term.html#PUnbound"><span class="hs-identifier hs-var">PUnbound</span></a></span><span>
</span><span id="line-215"></span><span>      </span><span class="annot"><span class="annottext">Pattern t r
</span><a href="U.Codebase.Term.html#PVar"><span class="hs-identifier hs-var">PVar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall t r. Pattern t r
</span><a href="U.Codebase.Term.html#PVar"><span class="hs-identifier hs-var">PVar</span></a></span><span>
</span><span id="line-216"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PBoolean"><span class="hs-identifier hs-type">PBoolean</span></a></span><span> </span><span id="local-6989586621679139680"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679139680"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall t r. Bool -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PBoolean"><span class="hs-identifier hs-var">PBoolean</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679139680"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-217"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PInt"><span class="hs-identifier hs-type">PInt</span></a></span><span> </span><span id="local-6989586621679139679"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679139679"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall t r. Int64 -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PInt"><span class="hs-identifier hs-var">PInt</span></a></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679139679"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-218"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PNat"><span class="hs-identifier hs-type">PNat</span></a></span><span> </span><span id="local-6989586621679139678"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139678"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall t r. Word64 -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PNat"><span class="hs-identifier hs-var">PNat</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139678"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-219"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PFloat"><span class="hs-identifier hs-type">PFloat</span></a></span><span> </span><span id="local-6989586621679139677"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679139677"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall t r. Double -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PFloat"><span class="hs-identifier hs-var">PFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679139677"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-220"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PText"><span class="hs-identifier hs-type">PText</span></a></span><span> </span><span id="local-6989586621679139676"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679139676"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall t r. t -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PText"><span class="hs-identifier hs-var">PText</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; m t'
</span><a href="#local-6989586621679139683"><span class="hs-identifier hs-var">ft</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679139676"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-221"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PChar"><span class="hs-identifier hs-type">PChar</span></a></span><span> </span><span id="local-6989586621679139675"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679139675"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall t r. Char -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PChar"><span class="hs-identifier hs-var">PChar</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679139675"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-222"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PConstructor"><span class="hs-identifier hs-type">PConstructor</span></a></span><span> </span><span id="local-6989586621679139674"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679139674"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621679139673"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139673"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679139672"><span class="annot"><span class="annottext">[Pattern t r]
</span><a href="#local-6989586621679139672"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall t r. r -&gt; Word64 -&gt; [Pattern t r] -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PConstructor"><span class="hs-identifier hs-var">PConstructor</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; m r'
</span><a href="#local-6989586621679139682"><span class="hs-identifier hs-var">fr</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679139674"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139673"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679139681"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Pattern t r]
</span><a href="#local-6989586621679139672"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PAs"><span class="hs-identifier hs-type">PAs</span></a></span><span> </span><span id="local-6989586621679139671"><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679139671"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall t r. Pattern t r -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PAs"><span class="hs-identifier hs-var">PAs</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679139681"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679139671"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-224"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PEffectPure"><span class="hs-identifier hs-type">PEffectPure</span></a></span><span> </span><span id="local-6989586621679139670"><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679139670"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall t r. Pattern t r -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PEffectPure"><span class="hs-identifier hs-var">PEffectPure</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679139681"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679139670"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-225"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PEffectBind"><span class="hs-identifier hs-type">PEffectBind</span></a></span><span> </span><span id="local-6989586621679139669"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679139669"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621679139668"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139668"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679139667"><span class="annot"><span class="annottext">[Pattern t r]
</span><a href="#local-6989586621679139667"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621679139666"><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679139666"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall t r.
r -&gt; Word64 -&gt; [Pattern t r] -&gt; Pattern t r -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PEffectBind"><span class="hs-identifier hs-var">PEffectBind</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; m r'
</span><a href="#local-6989586621679139682"><span class="hs-identifier hs-var">fr</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679139669"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139668"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679139681"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Pattern t r]
</span><a href="#local-6989586621679139667"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679139681"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679139666"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-226"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PSequenceLiteral"><span class="hs-identifier hs-type">PSequenceLiteral</span></a></span><span> </span><span id="local-6989586621679139665"><span class="annot"><span class="annottext">[Pattern t r]
</span><a href="#local-6989586621679139665"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall t r. [Pattern t r] -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PSequenceLiteral"><span class="hs-identifier hs-var">PSequenceLiteral</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679139681"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Pattern t r]
</span><a href="#local-6989586621679139665"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-227"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#PSequenceOp"><span class="hs-identifier hs-type">PSequenceOp</span></a></span><span> </span><span id="local-6989586621679139664"><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679139664"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621679139663"><span class="annot"><span class="annottext">SeqOp
</span><a href="#local-6989586621679139663"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621679139662"><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679139662"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall t r. Pattern t r -&gt; SeqOp -&gt; Pattern t r -&gt; Pattern t r
</span><a href="U.Codebase.Term.html#PSequenceOp"><span class="hs-identifier hs-var">PSequenceOp</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679139681"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679139664"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">SeqOp
</span><a href="#local-6989586621679139663"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pattern t r -&gt; m (Pattern t' r')
</span><a href="#local-6989586621679139681"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t r
</span><a href="#local-6989586621679139662"><span class="hs-identifier hs-var">p2</span></a></span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span id="local-6989586621679140727"><span id="local-6989586621679140728"><span id="local-6989586621679140729"><span id="local-6989586621679140730"><span id="local-6989586621679140731"><span id="local-6989586621679140732"><span id="local-6989586621679140733"><span id="local-6989586621679140734"><span class="annot"><a href="U.Codebase.Term.html#dependencies"><span class="hs-identifier hs-type">dependencies</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-230"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679140734"><span class="hs-identifier hs-type">termRef</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679140733"><span class="hs-identifier hs-type">typeRef</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679140732"><span class="hs-identifier hs-type">termLink</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679140731"><span class="hs-identifier hs-type">typeLink</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679140730"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-231"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ABT.Term</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#F%27"><span class="hs-identifier hs-type">F'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140729"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140734"><span class="hs-identifier hs-type">termRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140733"><span class="hs-identifier hs-type">typeRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140732"><span class="hs-identifier hs-type">termLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140731"><span class="hs-identifier hs-type">typeLink</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140728"><span class="hs-identifier hs-type">vt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679140730"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140727"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-232"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><a href="#local-6989586621679140734"><span class="hs-identifier hs-type">termRef</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><a href="#local-6989586621679140733"><span class="hs-identifier hs-type">typeRef</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><a href="#local-6989586621679140732"><span class="hs-identifier hs-type">termLink</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><a href="#local-6989586621679140731"><span class="hs-identifier hs-type">typeLink</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-233"></span><span id="dependencies"><span class="annot"><span class="annottext">dependencies :: forall termRef typeRef termLink typeLink v text vt a.
(Ord termRef, Ord typeRef, Ord termLink, Ord typeLink, Ord v) =&gt;
Term (F' text termRef typeRef termLink typeLink vt) v a
-&gt; (Set termRef, Set typeRef, Set termLink, Set typeLink)
</span><a href="U.Codebase.Term.html#dependencies"><span class="hs-identifier hs-var hs-var">dependencies</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-234"></span><span>  </span><span class="annot"><span class="annottext">forall w a. Writer w a -&gt; w
</span><span class="hs-identifier hs-var">Writer.execWriter</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) (g :: * -&gt; *) v a.
(Traversable f, Applicative g, Ord v) =&gt;
(f (Term f v a) -&gt; g ()) -&gt; Term f v a -&gt; g (Term f v a)
</span><span class="hs-identifier hs-var">ABT.visit_</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-235"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#Ref"><span class="hs-identifier hs-type">Ref</span></a></span><span> </span><span id="local-6989586621679139616"><span class="annot"><span class="annottext">termRef
</span><a href="#local-6989586621679139616"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {a} {b} {c} {d} {m :: * -&gt; *}.
(MonadWriter (Set a, b, c, d) m, Monoid b, Monoid c, Monoid d) =&gt;
a -&gt; m ()
</span><a href="#local-6989586621679139615"><span class="hs-identifier hs-var">termRef</span></a></span><span> </span><span class="annot"><span class="annottext">termRef
</span><a href="#local-6989586621679139616"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-236"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#Constructor"><span class="hs-identifier hs-type">Constructor</span></a></span><span> </span><span id="local-6989586621679139614"><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679139614"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {a} {a} {c} {d} {m :: * -&gt; *}.
(MonadWriter (a, Set a, c, d) m, Monoid a, Monoid c, Monoid d) =&gt;
a -&gt; m ()
</span><a href="#local-6989586621679139613"><span class="hs-identifier hs-var">typeRef</span></a></span><span> </span><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679139614"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-237"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#Request"><span class="hs-identifier hs-type">Request</span></a></span><span> </span><span id="local-6989586621679139612"><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679139612"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {a} {a} {c} {d} {m :: * -&gt; *}.
(MonadWriter (a, Set a, c, d) m, Monoid a, Monoid c, Monoid d) =&gt;
a -&gt; m ()
</span><a href="#local-6989586621679139613"><span class="hs-identifier hs-var">typeRef</span></a></span><span> </span><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679139612"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-238"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><span class="annottext">Term (F' text termRef typeRef termLink typeLink vt) v a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679139611"><span class="annot"><span class="annottext">[MatchCase
   text
   typeRef
   (Term (F' text termRef typeRef termLink typeLink vt) v a)]
</span><a href="#local-6989586621679139611"><span class="hs-identifier hs-var">cases</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><span class="hs-identifier hs-var">Foldable.for_</span></span><span> </span><span class="annot"><span class="annottext">[MatchCase
   text
   typeRef
   (Term (F' text termRef typeRef termLink typeLink vt) v a)]
</span><a href="#local-6989586621679139611"><span class="hs-identifier hs-var">cases</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-239"></span><span>      </span><span class="annot"><a href="U.Codebase.Term.html#MatchCase"><span class="hs-identifier hs-type">MatchCase</span></a></span><span> </span><span id="local-6989586621679139609"><span class="annot"><span class="annottext">Pattern text typeRef
</span><a href="#local-6989586621679139609"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span id="local-6989586621679139608"><span class="annot"><span class="annottext">Maybe (Term (F' text termRef typeRef termLink typeLink vt) v a)
</span><a href="#local-6989586621679139608"><span class="hs-identifier hs-var">_guard</span></a></span></span><span> </span><span id="local-6989586621679139607"><span class="annot"><span class="annottext">Term (F' text termRef typeRef termLink typeLink vt) v a
</span><a href="#local-6989586621679139607"><span class="hs-identifier hs-var">_body</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {t}.
Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679139606"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern text typeRef
</span><a href="#local-6989586621679139609"><span class="hs-identifier hs-var">pat</span></a></span><span>
</span><span id="line-240"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-241"></span><span>          </span><span id="local-6989586621679139606"><span class="annot"><span class="annottext">go :: Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679139606"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-242"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#PConstructor"><span class="hs-identifier hs-type">PConstructor</span></a></span><span> </span><span id="local-6989586621679139586"><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679139586"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621679139585"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139585"><span class="hs-identifier hs-var">_i</span></a></span></span><span> </span><span id="local-6989586621679139584"><span class="annot"><span class="annottext">[Pattern t typeRef]
</span><a href="#local-6989586621679139584"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {a} {a} {c} {d} {m :: * -&gt; *}.
(MonadWriter (a, Set a, c, d) m, Monoid a, Monoid c, Monoid d) =&gt;
a -&gt; m ()
</span><a href="#local-6989586621679139613"><span class="hs-identifier hs-var">typeRef</span></a></span><span> </span><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679139586"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><span class="hs-identifier hs-var">Foldable.traverse_</span></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679139606"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Pattern t typeRef]
</span><a href="#local-6989586621679139584"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-243"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#PAs"><span class="hs-identifier hs-type">PAs</span></a></span><span> </span><span id="local-6989586621679139582"><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679139582"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679139606"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679139582"><span class="hs-identifier hs-var">pat</span></a></span><span>
</span><span id="line-244"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#PEffectPure"><span class="hs-identifier hs-type">PEffectPure</span></a></span><span> </span><span id="local-6989586621679139581"><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679139581"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679139606"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679139581"><span class="hs-identifier hs-var">pat</span></a></span><span>
</span><span id="line-245"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#PEffectBind"><span class="hs-identifier hs-type">PEffectBind</span></a></span><span> </span><span id="local-6989586621679139580"><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679139580"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621679139579"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139579"><span class="hs-identifier hs-var">_i</span></a></span></span><span> </span><span id="local-6989586621679139578"><span class="annot"><span class="annottext">[Pattern t typeRef]
</span><a href="#local-6989586621679139578"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621679139577"><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679139577"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {a} {a} {c} {d} {m :: * -&gt; *}.
(MonadWriter (a, Set a, c, d) m, Monoid a, Monoid c, Monoid d) =&gt;
a -&gt; m ()
</span><a href="#local-6989586621679139613"><span class="hs-identifier hs-var">typeRef</span></a></span><span> </span><span class="annot"><span class="annottext">typeRef
</span><a href="#local-6989586621679139580"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><span class="hs-identifier hs-var">Foldable.traverse_</span></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679139606"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Pattern t typeRef]
</span><a href="#local-6989586621679139578"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679139606"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679139577"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-246"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#PSequenceLiteral"><span class="hs-identifier hs-type">PSequenceLiteral</span></a></span><span> </span><span id="local-6989586621679139576"><span class="annot"><span class="annottext">[Pattern t typeRef]
</span><a href="#local-6989586621679139576"><span class="hs-identifier hs-var">pats</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><span class="hs-identifier hs-var">Foldable.traverse_</span></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679139606"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Pattern t typeRef]
</span><a href="#local-6989586621679139576"><span class="hs-identifier hs-var">pats</span></a></span><span>
</span><span id="line-247"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#PSequenceOp"><span class="hs-identifier hs-type">PSequenceOp</span></a></span><span> </span><span id="local-6989586621679139575"><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679139575"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679139574"><span class="annot"><span class="annottext">SeqOp
</span><a href="#local-6989586621679139574"><span class="hs-identifier hs-var">_op</span></a></span></span><span> </span><span id="local-6989586621679139573"><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679139573"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679139606"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679139575"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
-&gt; WriterT
     (Set termRef, Set typeRef, Set termLink, Set typeLink) Identity ()
</span><a href="#local-6989586621679139606"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Pattern t typeRef
</span><a href="#local-6989586621679139573"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-248"></span><span>            </span><span class="annot"><span class="annottext">Pattern t typeRef
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-249"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-type">TermLink</span></a></span><span> </span><span id="local-6989586621679139572"><span class="annot"><span class="annottext">termLink
</span><a href="#local-6989586621679139572"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {a} {b} {a} {d} {m :: * -&gt; *}.
(MonadWriter (a, b, Set a, d) m, Monoid a, Monoid b, Monoid d) =&gt;
a -&gt; m ()
</span><a href="#local-6989586621679139571"><span class="hs-identifier hs-var">termLink</span></a></span><span> </span><span class="annot"><span class="annottext">termLink
</span><a href="#local-6989586621679139572"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-250"></span><span>    </span><span class="annot"><a href="U.Codebase.Term.html#TypeLink"><span class="hs-identifier hs-type">TypeLink</span></a></span><span> </span><span id="local-6989586621679139570"><span class="annot"><span class="annottext">typeLink
</span><a href="#local-6989586621679139570"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {a} {b} {c} {a} {m :: * -&gt; *}.
(MonadWriter (a, b, c, Set a) m, Monoid a, Monoid b, Monoid c) =&gt;
a -&gt; m ()
</span><a href="#local-6989586621679139569"><span class="hs-identifier hs-var">typeLink</span></a></span><span> </span><span class="annot"><span class="annottext">typeLink
</span><a href="#local-6989586621679139570"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-251"></span><span>    </span><span class="annot"><span class="annottext">F'
  text
  termRef
  typeRef
  termLink
  typeLink
  vt
  (Term (F' text termRef typeRef termLink typeLink vt) v a)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-253"></span><span>    </span><span id="local-6989586621679139615"><span class="annot"><span class="annottext">termRef :: a -&gt; m ()
</span><a href="#local-6989586621679139615"><span class="hs-identifier hs-var hs-var">termRef</span></a></span></span><span> </span><span id="local-6989586621679139560"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679139560"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall w (m :: * -&gt; *). MonadWriter w m =&gt; w -&gt; m ()
</span><span class="hs-identifier hs-var">Writer.tell</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Set a
</span><span class="hs-identifier hs-var">Set.singleton</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679139560"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">)</span><span>
</span><span id="line-254"></span><span>    </span><span id="local-6989586621679139613"><span class="annot"><span class="annottext">typeRef :: a -&gt; m ()
</span><a href="#local-6989586621679139613"><span class="hs-identifier hs-var hs-var">typeRef</span></a></span></span><span> </span><span id="local-6989586621679139549"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679139549"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall w (m :: * -&gt; *). MonadWriter w m =&gt; w -&gt; m ()
</span><span class="hs-identifier hs-var">Writer.tell</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Set a
</span><span class="hs-identifier hs-var">Set.singleton</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679139549"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">)</span><span>
</span><span id="line-255"></span><span>    </span><span id="local-6989586621679139571"><span class="annot"><span class="annottext">termLink :: a -&gt; m ()
</span><a href="#local-6989586621679139571"><span class="hs-identifier hs-var hs-var">termLink</span></a></span></span><span> </span><span id="local-6989586621679139540"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679139540"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall w (m :: * -&gt; *). MonadWriter w m =&gt; w -&gt; m ()
</span><span class="hs-identifier hs-var">Writer.tell</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Set a
</span><span class="hs-identifier hs-var">Set.singleton</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679139540"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span>    </span><span id="local-6989586621679139569"><span class="annot"><span class="annottext">typeLink :: a -&gt; m ()
</span><a href="#local-6989586621679139569"><span class="hs-identifier hs-var hs-var">typeLink</span></a></span></span><span> </span><span id="local-6989586621679139531"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679139531"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall w (m :: * -&gt; *). MonadWriter w m =&gt; w -&gt; m ()
</span><span class="hs-identifier hs-var">Writer.tell</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Set a
</span><span class="hs-identifier hs-var">Set.singleton</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679139531"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span class="hs-comment">-- | Given the pieces of a single term component,</span><span>
</span><span id="line-259"></span><span class="hs-comment">-- replaces all 'Nothing' self-referential hashes with a variable reference</span><span>
</span><span id="line-260"></span><span class="hs-comment">-- to the relevant piece of the component in the component map.</span><span>
</span><span id="line-261"></span><span class="annot"><a href="U.Codebase.Term.html#unhashComponent"><span class="hs-identifier hs-type">unhashComponent</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679140664"><span class="annot"><a href="#local-6989586621679140664"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679140659"><span class="annot"><a href="#local-6989586621679140659"><span class="hs-identifier hs-type">extra</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-263"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ABT.Var</span></span><span> </span><span class="annot"><a href="#local-6989586621679140664"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-264"></span><span>  </span><span class="hs-comment">-- | The hash of the component, this is used to fill in self-references.</span><span>
</span><span id="line-265"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Hash</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-266"></span><span>  </span><span class="hs-comment">-- | A function to convert a reference to a variable. The actual var names aren't important.</span><span>
</span><span id="line-267"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference.Id</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679140664"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-268"></span><span>  </span><span class="hs-comment">-- A SINGLE term component. Self references should have a 'Nothing' hash in term</span><span>
</span><span id="line-269"></span><span>  </span><span class="hs-comment">-- references/term links</span><span>
</span><span id="line-270"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference.Id</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140664"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679140659"><span class="hs-identifier hs-type">extra</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-271"></span><span>  </span><span class="hs-comment">-- | The component with all self-references replaced with variable references.</span><span>
</span><span id="line-272"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference.Id</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140664"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#HashableTerm"><span class="hs-identifier hs-type">HashableTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140664"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679140659"><span class="hs-identifier hs-type">extra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span id="unhashComponent"><span class="annot"><span class="annottext">unhashComponent :: forall v extra.
Var v =&gt;
Hash
-&gt; (Id -&gt; v)
-&gt; Map Id (Term v, extra)
-&gt; Map Id (v, HashableTerm v, extra)
</span><a href="U.Codebase.Term.html#unhashComponent"><span class="hs-identifier hs-var hs-var">unhashComponent</span></a></span></span><span> </span><span id="local-6989586621679139447"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679139447"><span class="hs-identifier hs-var">componentHash</span></a></span></span><span> </span><span id="local-6989586621679139446"><span class="annot"><span class="annottext">Id -&gt; v
</span><a href="#local-6989586621679139446"><span class="hs-identifier hs-var">refToVar</span></a></span></span><span> </span><span id="local-6989586621679139445"><span class="annot"><span class="annottext">Map Id (Term v, extra)
</span><a href="#local-6989586621679139445"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-274"></span><span>  </span><span class="annot"><span class="annottext">Map Id (v, Term v, extra)
</span><a href="#local-6989586621679139444"><span class="hs-identifier hs-var">withGeneratedVars</span></a></span><span>
</span><span id="line-275"></span><span>    </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b.
Traversable f =&gt;
IndexedTraversal Int (f a) (f b) a b
</span><span class="hs-identifier hs-var">traversed</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall s t a b. Field2 s t a b =&gt; Lens s t a b
</span><span class="hs-identifier hs-var">_2</span></span><span> </span><span class="annot"><span class="annottext">forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="annot"><span class="annottext">Term v -&gt; HashableTerm v
</span><a href="#local-6989586621679139439"><span class="hs-identifier hs-var">fillSelfReferences</span></a></span><span>
</span><span id="line-276"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-277"></span><span>    </span><span class="annot"><a href="#local-6989586621679139438"><span class="hs-identifier hs-type">usedVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><a href="#local-6989586621679140664"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-278"></span><span>    </span><span id="local-6989586621679139438"><span class="annot"><span class="annottext">usedVars :: Set v
</span><a href="#local-6989586621679139438"><span class="hs-identifier hs-var hs-var">usedVars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">Set.fromList</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a. Foldable f =&gt; Term f v a -&gt; [v]
</span><span class="hs-identifier hs-var">ABT.allVars</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map Id (Term v, extra)
</span><a href="#local-6989586621679139445"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-279"></span><span>    </span><span class="annot"><a href="#local-6989586621679139444"><span class="hs-identifier hs-type">withGeneratedVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Map</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference.Id</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140664"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140664"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679140659"><span class="hs-identifier hs-type">extra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span>    </span><span id="local-6989586621679139444"><span class="annot"><span class="annottext">withGeneratedVars :: Map Id (v, Term v, extra)
</span><a href="#local-6989586621679139444"><span class="hs-identifier hs-var hs-var">withGeneratedVars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a. State s a -&gt; s -&gt; a
</span><span class="hs-identifier hs-var">evalState</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) k a b.
Applicative t =&gt;
(k -&gt; a -&gt; t b) -&gt; Map k a -&gt; t (Map k b)
</span><span class="hs-identifier hs-var">Map.traverseWithKey</span></span><span> </span><span class="annot"><span class="annottext">forall trm.
Id -&gt; (trm, extra) -&gt; StateT (Set v) Identity (v, trm, extra)
</span><a href="#local-6989586621679139432"><span class="hs-identifier hs-var">assignVar</span></a></span><span> </span><span class="annot"><span class="annottext">Map Id (Term v, extra)
</span><a href="#local-6989586621679139445"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621679139438"><span class="hs-identifier hs-var">usedVars</span></a></span><span>
</span><span id="line-281"></span><span>    </span><span id="local-6989586621679140605"><span class="annot"><a href="#local-6989586621679139432"><span class="hs-identifier hs-type">assignVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference.Id</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140605"><span class="hs-identifier hs-type">trm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679140659"><span class="hs-identifier hs-type">extra</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><a href="#local-6989586621679140664"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679140664"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679140605"><span class="hs-identifier hs-type">trm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679140659"><span class="hs-identifier hs-type">extra</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-282"></span><span>    </span><span id="local-6989586621679139432"><span class="annot"><span class="annottext">assignVar :: forall trm.
Id -&gt; (trm, extra) -&gt; StateT (Set v) Identity (v, trm, extra)
</span><a href="#local-6989586621679139432"><span class="hs-identifier hs-var hs-var">assignVar</span></a></span></span><span> </span><span id="local-6989586621679139426"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621679139426"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679139425"><span class="annot"><span class="annottext">trm
</span><a href="#local-6989586621679139425"><span class="hs-identifier hs-var">trm</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679139424"><span class="annot"><span class="annottext">extra
</span><a href="#local-6989586621679139424"><span class="hs-identifier hs-var">extra</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="annot"><span class="annottext">trm
</span><a href="#local-6989586621679139425"><span class="hs-identifier hs-var">trm</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">extra
</span><a href="#local-6989586621679139424"><span class="hs-identifier hs-var">extra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall v (m :: * -&gt; *). (Var v, MonadState (Set v) m) =&gt; v -&gt; m v
</span><span class="hs-identifier hs-var">ABT.freshenS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; v
</span><a href="#local-6989586621679139446"><span class="hs-identifier hs-var">refToVar</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621679139426"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-283"></span><span>    </span><span class="annot"><a href="#local-6989586621679139439"><span class="hs-identifier hs-type">fillSelfReferences</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140664"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#HashableTerm"><span class="hs-identifier hs-type">HashableTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140664"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-284"></span><span>    </span><span id="local-6989586621679139439"><span class="annot"><span class="annottext">fillSelfReferences :: Term v -&gt; HashableTerm v
</span><a href="#local-6989586621679139439"><span class="hs-identifier hs-var hs-var">fillSelfReferences</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a v x.
Functor f =&gt;
(a -&gt; ABT f v x -&gt; x) -&gt; Term f v a -&gt; x
</span><span class="hs-identifier hs-var">ABT.cata</span></span><span> </span><span class="annot"><span class="annottext">() -&gt; ABT (F v) v (HashableTerm v) -&gt; HashableTerm v
</span><a href="#local-6989586621679139421"><span class="hs-identifier hs-var">alg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-286"></span><span>        </span><span class="annot"><a href="#local-6989586621679139420"><span class="hs-identifier hs-type">rewriteTermReference</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference.Id'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Hash</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679140664"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Reference.Reference</span></span><span>
</span><span id="line-287"></span><span>        </span><span id="local-6989586621679139420"><span class="annot"><span class="annottext">rewriteTermReference :: Id' (Maybe Hash) -&gt; Either v HashableTermRef
</span><a href="#local-6989586621679139420"><span class="hs-identifier hs-var hs-var">rewriteTermReference</span></a></span></span><span> </span><span id="local-6989586621679139419"><span class="annot"><span class="annottext">rid :: Id' (Maybe Hash)
</span><a href="#local-6989586621679139419"><span class="hs-identifier hs-var">rid</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference.Id</span></span><span> </span><span id="local-6989586621679139417"><span class="annot"><span class="annottext">Maybe Hash
</span><a href="#local-6989586621679139417"><span class="hs-identifier hs-var">mayH</span></a></span></span><span> </span><span id="local-6989586621679139416"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139416"><span class="hs-identifier hs-var">pos</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-288"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Hash
</span><a href="#local-6989586621679139417"><span class="hs-identifier hs-var">mayH</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-289"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679139415"><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679139415"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-290"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall h. h -&gt; Word64 -&gt; Id' h
</span><span class="hs-identifier hs-var">Reference.Id</span></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679139415"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139416"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map Id (v, Term v, extra)
</span><a href="#local-6989586621679139444"><span class="hs-identifier hs-var">withGeneratedVars</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-291"></span><span>                </span><span class="hs-comment">-- No entry in the component map, so this is NOT a self-reference, keep it but</span><span>
</span><span id="line-292"></span><span>                </span><span class="hs-comment">-- replace the 'Maybe Hash' with a 'Hash'.</span><span>
</span><span id="line-293"></span><span>                </span><span class="annot"><span class="annottext">Maybe (v, Term v, extra)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall t h. Id' h -&gt; Reference' t h
</span><span class="hs-identifier hs-var">Reference.ReferenceDerived</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall h. h -&gt; Word64 -&gt; Id' h
</span><span class="hs-identifier hs-var">Reference.Id</span></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679139415"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139416"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>                </span><span class="hs-comment">-- Entry in the component map, so this is a self-reference, replace it with a</span><span>
</span><span id="line-295"></span><span>                </span><span class="hs-comment">-- Var.</span><span>
</span><span id="line-296"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679139412"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679139412"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term v
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">extra
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679139412"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-297"></span><span>            </span><span class="annot"><span class="annottext">Maybe Hash
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-298"></span><span>              </span><span class="hs-comment">-- This is a self-reference, so we expect to find it in the component map.</span><span>
</span><span id="line-299"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Hash
</span><a href="#local-6989586621679139447"><span class="hs-identifier hs-var">componentHash</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Id' (Maybe Hash)
</span><a href="#local-6989586621679139419"><span class="hs-identifier hs-var">rid</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map Id (v, Term v, extra)
</span><a href="#local-6989586621679139444"><span class="hs-identifier hs-var">withGeneratedVars</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-300"></span><span>                </span><span class="annot"><span class="annottext">Maybe (v, Term v, extra)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unhashComponent: self-reference not found in component map&quot;</span></span><span>
</span><span id="line-301"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679139409"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679139409"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term v
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">extra
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679139409"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-302"></span><span>        </span><span class="annot"><a href="#local-6989586621679139421"><span class="hs-identifier hs-type">alg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ABT.ABT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140664"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679140664"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#HashableTerm"><span class="hs-identifier hs-type">HashableTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140664"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="U.Codebase.Term.html#HashableTerm"><span class="hs-identifier hs-type">HashableTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679140664"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-303"></span><span>        </span><span id="local-6989586621679139421"><span class="annot"><span class="annottext">alg :: () -&gt; ABT (F v) v (HashableTerm v) -&gt; HashableTerm v
</span><a href="#local-6989586621679139421"><span class="hs-identifier hs-var hs-var">alg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-304"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">ABT.Var</span></span><span> </span><span id="local-6989586621679139407"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679139407"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a v (f :: * -&gt; *). a -&gt; v -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.var</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679139407"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-305"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">ABT.Cycle</span></span><span> </span><span id="local-6989586621679139404"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139404"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a (f :: * -&gt; *) v. a -&gt; Term f v a -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.cycle</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139404"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-306"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">ABT.Abs</span></span><span> </span><span id="local-6989586621679139401"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679139401"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621679139400"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139400"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall v a (f :: * -&gt; *).
Ord v =&gt;
a -&gt; v -&gt; Term f v a -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.abs</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679139401"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139400"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-307"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">ABT.Tm</span></span><span> </span><span id="local-6989586621679139397"><span class="annot"><span class="annottext">F v (HashableTerm v)
</span><a href="#local-6989586621679139397"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">F v (HashableTerm v)
</span><a href="#local-6989586621679139397"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-308"></span><span>            </span><span class="hs-comment">-- Check refs to see if they refer to the current component, replace them with</span><span>
</span><span id="line-309"></span><span>            </span><span class="hs-comment">-- vars if they do.</span><span>
</span><span id="line-310"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Ref"><span class="hs-identifier hs-type">Ref</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference.ReferenceDerived</span></span><span> </span><span id="local-6989586621679139396"><span class="annot"><span class="annottext">Id' (Maybe Hash)
</span><a href="#local-6989586621679139396"><span class="hs-identifier hs-var">rid</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-311"></span><span>              </span><span class="annot"><span class="annottext">Id' (Maybe Hash) -&gt; Either v HashableTermRef
</span><a href="#local-6989586621679139420"><span class="hs-identifier hs-var">rewriteTermReference</span></a></span><span> </span><span class="annot"><span class="annottext">Id' (Maybe Hash)
</span><a href="#local-6989586621679139396"><span class="hs-identifier hs-var">rid</span></a></span><span>
</span><span id="line-312"></span><span>                </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a v (f :: * -&gt; *). a -&gt; v -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.var</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
termRef -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Ref"><span class="hs-identifier hs-var">Ref</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="U.Codebase.Term.html#Ref"><span class="hs-identifier hs-type">Ref</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference.ReferenceBuiltin</span></span><span> </span><span id="local-6989586621679139392"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679139392"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-314"></span><span>              </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
termRef -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Ref"><span class="hs-identifier hs-var">Ref</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall t h. t -&gt; Reference' t h
</span><span class="hs-identifier hs-var">Reference.ReferenceBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679139392"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-315"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-type">TermLink</span></a></span><span> </span><span id="local-6989586621679139391"><span class="annot"><span class="annottext">TermLink
</span><a href="#local-6989586621679139391"><span class="hs-identifier hs-var">referent</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TermLink
</span><a href="#local-6989586621679139391"><span class="hs-identifier hs-var">referent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-316"></span><span>              </span><span class="annot"><a href="U.Codebase.Referent.html#Ref"><span class="hs-identifier hs-type">Referent.Ref</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference.ReferenceDerived</span></span><span> </span><span id="local-6989586621679139389"><span class="annot"><span class="annottext">Id' (Maybe Hash)
</span><a href="#local-6989586621679139389"><span class="hs-identifier hs-var">rid</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-317"></span><span>                </span><span class="annot"><span class="annottext">Id' (Maybe Hash) -&gt; Either v HashableTermRef
</span><a href="#local-6989586621679139420"><span class="hs-identifier hs-var">rewriteTermReference</span></a></span><span> </span><span class="annot"><span class="annottext">Id' (Maybe Hash)
</span><a href="#local-6989586621679139389"><span class="hs-identifier hs-var">rid</span></a></span><span>
</span><span id="line-318"></span><span>                  </span><span class="annot"><span class="annottext">forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a v (f :: * -&gt; *). a -&gt; v -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.var</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
termLink -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-var">TermLink</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall termRef typeRef. termRef -&gt; Referent' termRef typeRef
</span><a href="U.Codebase.Referent.html#Ref"><span class="hs-identifier hs-var">Referent.Ref</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-319"></span><span>              </span><span class="annot"><a href="U.Codebase.Referent.html#Ref"><span class="hs-identifier hs-type">Referent.Ref</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Reference.ReferenceBuiltin</span></span><span> </span><span id="local-6989586621679139388"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679139388"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-320"></span><span>                </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
termLink -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-var">TermLink</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall termRef typeRef. termRef -&gt; Referent' termRef typeRef
</span><a href="U.Codebase.Referent.html#Ref"><span class="hs-identifier hs-var">Referent.Ref</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall t h. t -&gt; Reference' t h
</span><span class="hs-identifier hs-var">Reference.ReferenceBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679139388"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span>              </span><span class="annot"><a href="U.Codebase.Referent.html#Con"><span class="hs-identifier hs-type">Referent.Con</span></a></span><span> </span><span id="local-6989586621679139386"><span class="annot"><span class="annottext">HashableTermRef
</span><a href="#local-6989586621679139386"><span class="hs-identifier hs-var">typeRef</span></a></span></span><span> </span><span id="local-6989586621679139385"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139385"><span class="hs-identifier hs-var">conId</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
termLink -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#TermLink"><span class="hs-identifier hs-var">TermLink</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall termRef typeRef.
typeRef -&gt; Word64 -&gt; Referent' termRef typeRef
</span><a href="U.Codebase.Referent.html#Con"><span class="hs-identifier hs-var">Referent.Con</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTermRef
</span><a href="#local-6989586621679139386"><span class="hs-identifier hs-var">typeRef</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139385"><span class="hs-identifier hs-var">conId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span>            </span><span class="hs-comment">-- All other cases are unchanged, but we need to manually reconstruct them to</span><span>
</span><span id="line-323"></span><span>            </span><span class="hs-comment">-- safely coerce the term types.</span><span>
</span><span id="line-324"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span id="local-6989586621679139384"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679139384"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
Int64 -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Int"><span class="hs-identifier hs-var">Int</span></a></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679139384"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-325"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Nat"><span class="hs-identifier hs-type">Nat</span></a></span><span> </span><span id="local-6989586621679139383"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139383"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
Word64 -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Nat"><span class="hs-identifier hs-var">Nat</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139383"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-326"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Float"><span class="hs-identifier hs-type">Float</span></a></span><span> </span><span id="local-6989586621679139382"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679139382"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
Double -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Float"><span class="hs-identifier hs-var">Float</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679139382"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-327"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Boolean"><span class="hs-identifier hs-type">Boolean</span></a></span><span> </span><span id="local-6989586621679139381"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679139381"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
Bool -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Boolean"><span class="hs-identifier hs-var">Boolean</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679139381"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-328"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span id="local-6989586621679139380"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679139380"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
text -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Text"><span class="hs-identifier hs-var">Text</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679139380"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-329"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Char"><span class="hs-identifier hs-type">Char</span></a></span><span> </span><span id="local-6989586621679139379"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679139379"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
Char -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Char"><span class="hs-identifier hs-var">Char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679139379"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-330"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Constructor"><span class="hs-identifier hs-type">Constructor</span></a></span><span> </span><span id="local-6989586621679139378"><span class="annot"><span class="annottext">HashableTermRef
</span><a href="#local-6989586621679139378"><span class="hs-identifier hs-var">typeRef</span></a></span></span><span> </span><span id="local-6989586621679139377"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139377"><span class="hs-identifier hs-var">conId</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
typeRef -&gt; Word64 -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Constructor"><span class="hs-identifier hs-var">Constructor</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTermRef
</span><a href="#local-6989586621679139378"><span class="hs-identifier hs-var">typeRef</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139377"><span class="hs-identifier hs-var">conId</span></a></span><span>
</span><span id="line-331"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Request"><span class="hs-identifier hs-type">Request</span></a></span><span> </span><span id="local-6989586621679139376"><span class="annot"><span class="annottext">HashableTermRef
</span><a href="#local-6989586621679139376"><span class="hs-identifier hs-var">typeRef</span></a></span></span><span> </span><span id="local-6989586621679139375"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139375"><span class="hs-identifier hs-var">conId</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
typeRef -&gt; Word64 -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Request"><span class="hs-identifier hs-var">Request</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTermRef
</span><a href="#local-6989586621679139376"><span class="hs-identifier hs-var">typeRef</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679139375"><span class="hs-identifier hs-var">conId</span></a></span><span>
</span><span id="line-332"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Handle"><span class="hs-identifier hs-type">Handle</span></a></span><span> </span><span id="local-6989586621679139374"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139374"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621679139373"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139373"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Handle"><span class="hs-identifier hs-var">Handle</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139374"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139373"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-333"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#App"><span class="hs-identifier hs-type">App</span></a></span><span> </span><span id="local-6989586621679139372"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139372"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679139371"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139371"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#App"><span class="hs-identifier hs-var">App</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139372"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139371"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-334"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Ann"><span class="hs-identifier hs-type">Ann</span></a></span><span> </span><span id="local-6989586621679139370"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139370"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679139369"><span class="annot"><span class="annottext">TypeR HashableTermRef v
</span><a href="#local-6989586621679139369"><span class="hs-identifier hs-var">typ</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
a
-&gt; TypeR typeRef vt
-&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Ann"><span class="hs-identifier hs-var">Ann</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139370"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">TypeR HashableTermRef v
</span><a href="#local-6989586621679139369"><span class="hs-identifier hs-var">typ</span></a></span><span>
</span><span id="line-335"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#List"><span class="hs-identifier hs-type">List</span></a></span><span> </span><span id="local-6989586621679139368"><span class="annot"><span class="annottext">Seq (HashableTerm v)
</span><a href="#local-6989586621679139368"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
Seq a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#List"><span class="hs-identifier hs-var">List</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (HashableTerm v)
</span><a href="#local-6989586621679139368"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-336"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#If"><span class="hs-identifier hs-type">If</span></a></span><span> </span><span id="local-6989586621679139367"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139367"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679139366"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139366"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679139365"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139365"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#If"><span class="hs-identifier hs-var">If</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139367"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139366"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139365"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-337"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#And"><span class="hs-identifier hs-type">And</span></a></span><span> </span><span id="local-6989586621679139364"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139364"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679139363"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139363"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#And"><span class="hs-identifier hs-var">And</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139364"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139363"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-338"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Or"><span class="hs-identifier hs-type">Or</span></a></span><span> </span><span id="local-6989586621679139362"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139362"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679139361"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139361"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Or"><span class="hs-identifier hs-var">Or</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139362"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139361"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-339"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Lam"><span class="hs-identifier hs-type">Lam</span></a></span><span> </span><span id="local-6989586621679139360"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139360"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Lam"><span class="hs-identifier hs-var">Lam</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139360"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-340"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#LetRec"><span class="hs-identifier hs-type">LetRec</span></a></span><span> </span><span id="local-6989586621679139359"><span class="annot"><span class="annottext">[HashableTerm v]
</span><a href="#local-6989586621679139359"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span id="local-6989586621679139358"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139358"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
[a] -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#LetRec"><span class="hs-identifier hs-var">LetRec</span></a></span><span> </span><span class="annot"><span class="annottext">[HashableTerm v]
</span><a href="#local-6989586621679139359"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139358"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-341"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Let"><span class="hs-identifier hs-type">Let</span></a></span><span> </span><span id="local-6989586621679139357"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139357"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679139356"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139356"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
a -&gt; a -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Let"><span class="hs-identifier hs-var">Let</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139357"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139356"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-342"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span id="local-6989586621679139355"><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139355"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679139354"><span class="annot"><span class="annottext">[MatchCase Text HashableTermRef (HashableTerm v)]
</span><a href="#local-6989586621679139354"><span class="hs-identifier hs-var">cases</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
a
-&gt; [MatchCase text typeRef a]
-&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#Match"><span class="hs-identifier hs-var">Match</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTerm v
</span><a href="#local-6989586621679139355"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">[MatchCase Text HashableTermRef (HashableTerm v)]
</span><a href="#local-6989586621679139354"><span class="hs-identifier hs-var">cases</span></a></span><span>
</span><span id="line-343"></span><span>            </span><span class="annot"><a href="U.Codebase.Term.html#TypeLink"><span class="hs-identifier hs-type">TypeLink</span></a></span><span> </span><span id="local-6989586621679139353"><span class="annot"><span class="annottext">HashableTermRef
</span><a href="#local-6989586621679139353"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) v a.
(Foldable f, Ord v) =&gt;
a -&gt; f (Term f v a) -&gt; Term f v a
</span><span class="hs-identifier hs-var">ABT.tm</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall text termRef typeRef termLink typeLink vt a.
typeLink -&gt; F' text termRef typeRef termLink typeLink vt a
</span><a href="U.Codebase.Term.html#TypeLink"><span class="hs-identifier hs-var">TypeLink</span></a></span><span> </span><span class="annot"><span class="annottext">HashableTermRef
</span><a href="#local-6989586621679139353"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-344"></span></pre></body></html>